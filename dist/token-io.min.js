!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("token-io",[],e):"object"==typeof exports?exports["token-io"]=e():t["token-io"]=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),a=r(u),s=n(16),c=r(s),f=n(17),h=r(f),l=n(24),d=r(l),y=n(18),p=r(y),v=n(56),g=r(v),m=n(52),b=r(m),_=n(57),w=r(_);n(58).polyfill();var k=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"prd";i(this,t),this._env=e,this._unauthenticatedClient=new g["default"](e),this.Crypto=a["default"],this.Util=c["default"],this.KeyLevel=d["default"],this.TokenOperationResult=b["default"]}return o(t,[{key:"usernameExists",value:function(t){var e=this;return this._unauthenticatedClient.usernameExists(t).then(function(t){return!!t.data.exists&&t.data.exists})["catch"](function(t){return c["default"].reject(e.usernameExists,t)})}},{key:"createMember",value:function(t){var e=this,n=a["default"].generateKeys();return this._unauthenticatedClient.createMemberId().then(function(r){return e._unauthenticatedClient.addFirstKey(n,r.data.memberId).then(function(){var i=new h["default"](e._env,r.data.memberId,n);return i.addUsername(t).then(function(){return i})})})["catch"](function(t){return c["default"].reject(e.createMember,t)})}},{key:"login",value:function(t,e){var n=this;return Promise.resolve(new h["default"](this._env,t,e))["catch"](function(t){return c["default"].reject(n.login,t)})}},{key:"loginWithUsername",value:function(t,e){var n=this;return new w["default"](this._env,e,t).getMemberByUsername().then(function(e){return new h["default"](n._env,e.data.member.id,t)})["catch"](function(t){return c["default"].reject(n.loginWithUsername,t)})}},{key:"loginFromLocalStorage",value:function(){try{var t=p["default"].loadMember(this._env);return Promise.resolve(t)}catch(e){return c["default"].reject(this.loginFromLocalStorage,e)}}},{key:"notifyLinkAccounts",value:function(t,e,n,r){var i=this,o={linkAccounts:{bankId:e,bankName:n,accountLinkPayloads:r}};return this._unauthenticatedClient.notify(t,o).then(function(t){return t.data.status})["catch"](function(t){return c["default"].reject(i.notifyLinkAccounts,t)})}},{key:"notifyAddKey",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i={addKey:{publicKey:a["default"].strKey(e),name:r}};return this._unauthenticatedClient.notify(t,i).then(function(t){return t.data.status})["catch"](function(t){return c["default"].reject(n.notifyAddKey,t)})}},{key:"notifyLinkAccountsAndAddKey",value:function(t,e,n,r,i){var o=this,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s={linkAccountsAndAddKey:{linkAccounts:{bankId:e,bankName:n,accountLinkPayloads:r},addKey:{publicKey:a["default"].strKey(i),name:u}}};return this._unauthenticatedClient.notify(t,s).then(function(t){return t.data.status})["catch"](function(t){return c["default"].reject(o.notifyLinkAccountsAndAddKey,t)})}}]),t}();t.exports=k},function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(6),a=r(u),s=n(8),c=r(s),f=n(9),h=r(f),l=n(12),d=r(l),y=function(){function e(){i(this,e)}return o(e,null,[{key:"generateKeys",value:function(){var t=a["default"].sign.keyPair();return t.keyId=(0,h["default"])((0,c["default"])(t.publicKey)).substring(0,16),t}},{key:"signJson",value:function(t,n){return e.sign((0,d["default"])(t),n)}},{key:"sign",value:function(e,n){var r=new t(e);return(0,h["default"])(a["default"].sign.detached(r,n.secretKey))}},{key:"strKey",value:function(t){return(0,h["default"])(t)}},{key:"bufferKey",value:function(t){return h["default"].toBuffer(t)}}]),e}();e["default"]=y}).call(e,n(2).Buffer)},function(t,e,n){(function(t,r){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function i(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function o(){return t.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(e,n){if(o()<n)throw new RangeError("Invalid typed array length");return t.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(n),e.__proto__=t.prototype):(null===e&&(e=new t(n)),e.length=n),e}function t(e,n,r){if(!(t.TYPED_ARRAY_SUPPORT||this instanceof t))return new t(e,n,r);if("number"==typeof e){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return a(this,e,n,r)}function a(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?d(t,e,n,r):"string"==typeof e?h(t,e,n):y(t,e)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e,n,r){return s(e),e<=0?u(t,e):void 0!==n?"string"==typeof r?u(t,e).fill(n,r):u(t,e).fill(n):u(t,e)}function f(e,n){if(s(n),e=u(e,n<0?0:0|p(n)),!t.TYPED_ARRAY_SUPPORT)for(var r=0;r<n;++r)e[r]=0;return e}function h(e,n,r){if("string"==typeof r&&""!==r||(r="utf8"),!t.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|g(n,r);e=u(e,i);var o=e.write(n,r);return o!==i&&(e=e.slice(0,o)),e}function l(t,e){var n=e.length<0?0:0|p(e.length);t=u(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function d(e,n,r,i){if(n.byteLength,r<0||n.byteLength<r)throw new RangeError("'offset' is out of bounds");if(n.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");return n=void 0===r&&void 0===i?new Uint8Array(n):void 0===i?new Uint8Array(n,r):new Uint8Array(n,r,i),t.TYPED_ARRAY_SUPPORT?(e=n,e.__proto__=t.prototype):e=l(e,n),e}function y(e,n){if(t.isBuffer(n)){var r=0|p(n.length);return e=u(e,r),0===e.length?e:(n.copy(e,0,0,r),e)}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||W(n.length)?u(e,0):l(e,n);if("Buffer"===n.type&&Q(n.data))return l(e,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function v(e){return+e!=e&&(e=0),t.alloc(+e)}function g(e,n){if(t.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var i=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return J(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return G(e).length;default:if(i)return J(e).length;n=(""+n).toLowerCase(),i=!0}}function m(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,n);case"utf8":case"utf-8":return x(this,e,n);case"ascii":return O(this,e,n);case"latin1":case"binary":return I(this,e,n);case"base64":return j(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function b(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function _(e,n,r,i,o){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof n&&(n=t.from(n,i)),t.isBuffer(n))return 0===n.length?-1:w(e,n,r,i,o);if("number"==typeof n)return n=255&n,t.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,n,r):Uint8Array.prototype.lastIndexOf.call(e,n,r):w(e,[n],r,i,o);throw new TypeError("val must be string, number or Buffer")}function w(t,e,n,r,i){function o(t,e){return 1===u?t[e]:t.readUInt16BE(e*u)}var u=1,a=t.length,s=e.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;u=2,a/=2,s/=2,n/=2}var c;if(i){var f=-1;for(c=n;c<a;c++)if(o(t,c)===o(e,f===-1?0:c-f)){if(f===-1&&(f=c),c-f+1===s)return f*u}else f!==-1&&(c-=c-f),f=-1}else for(n+s>a&&(n=a-s),c=n;c>=0;c--){for(var h=!0,l=0;l<s;l++)if(o(t,c+l)!==o(e,l)){h=!1;break}if(h)return c}return-1}function k(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var u=0;u<r;++u){var a=parseInt(e.substr(2*u,2),16);if(isNaN(a))return u;t[n+u]=a}return u}function A(t,e,n,r){return X(J(e,t.length-n),t,n,r)}function T(t,e,n,r){return X(q(e),t,n,r)}function E(t,e,n,r){return T(t,e,n,r)}function S(t,e,n,r){return X(G(e),t,n,r)}function U(t,e,n,r){return X(V(e,t.length-n),t,n,r)}function j(t,e,n){return 0===e&&n===t.length?Z.fromByteArray(t):Z.fromByteArray(t.slice(e,n))}function x(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],u=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=n){var s,c,f,h;switch(a){case 1:o<128&&(u=o);break;case 2:s=t[i+1],128===(192&s)&&(h=(31&o)<<6|63&s,h>127&&(u=h));break;case 3:s=t[i+1],c=t[i+2],128===(192&s)&&128===(192&c)&&(h=(15&o)<<12|(63&s)<<6|63&c,h>2047&&(h<55296||h>57343)&&(u=h));break;case 4:s=t[i+1],c=t[i+2],f=t[i+3],128===(192&s)&&128===(192&c)&&128===(192&f)&&(h=(15&o)<<18|(63&s)<<12|(63&c)<<6|63&f,h>65535&&h<1114112&&(u=h))}}null===u?(u=65533,a=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=a}return P(r)}function P(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=tt));return n}function O(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function I(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function R(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=H(t[o]);return i}function B(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function M(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function C(e,n,r,i,o,u){if(!t.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<u)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function L(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function N(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function K(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Y(t,e,n,r,i){return i||K(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),$.write(t,e,n,r,23,4),n+4}function D(t,e,n,r,i){return i||K(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),$.write(t,e,n,r,52,8),n+8}function F(t){if(t=z(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function z(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function H(t){return t<16?"0"+t.toString(16):t.toString(16)}function J(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],u=0;u<r;++u){if(n=t.charCodeAt(u),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(u+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function q(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function V(t,e){for(var n,r,i,o=[],u=0;u<t.length&&!((e-=2)<0);++u)n=t.charCodeAt(u),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function G(t){return Z.toByteArray(F(t))}function X(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function W(t){return t!==t}var Z=n(3),$=n(4),Q=n(5);e.Buffer=t,e.SlowBuffer=v,e.INSPECT_MAX_BYTES=50,t.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:i(),e.kMaxLength=o(),t.poolSize=8192,t._augment=function(e){return e.__proto__=t.prototype,e},t.from=function(t,e,n){return a(null,t,e,n)},t.TYPED_ARRAY_SUPPORT&&(t.prototype.__proto__=Uint8Array.prototype,t.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0})),t.alloc=function(t,e,n){return c(null,t,e,n)},t.allocUnsafe=function(t){return f(null,t)},t.allocUnsafeSlow=function(t){return f(null,t)},t.isBuffer=function(t){return!(null==t||!t._isBuffer)},t.compare=function(e,n){if(!t.isBuffer(e)||!t.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(e===n)return 0;for(var r=e.length,i=n.length,o=0,u=Math.min(r,i);o<u;++o)if(e[o]!==n[o]){r=e[o],i=n[o];break}return r<i?-1:i<r?1:0},t.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(e,n){if(!Q(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return t.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<e.length;++r)n+=e[r].length;var i=t.allocUnsafe(n),o=0;for(r=0;r<e.length;++r){var u=e[r];if(!t.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(i,o),o+=u.length}return i},t.byteLength=g,t.prototype._isBuffer=!0,t.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)b(this,e,e+1);return this},t.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)b(this,e,e+3),b(this,e+1,e+2);return this},t.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)b(this,e,e+7),b(this,e+1,e+6),b(this,e+2,e+5),b(this,e+3,e+4);return this},t.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?x(this,0,t):m.apply(this,arguments)},t.prototype.equals=function(e){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===t.compare(this,e)},t.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},t.prototype.compare=function(e,n,r,i,o){if(!t.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),n<0||r>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=r)return 0;if(i>=o)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,o>>>=0,this===e)return 0;for(var u=o-i,a=r-n,s=Math.min(u,a),c=this.slice(i,o),f=e.slice(n,r),h=0;h<s;++h)if(c[h]!==f[h]){u=c[h],a=f[h];break}return u<a?-1:a<u?1:0},t.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},t.prototype.indexOf=function(t,e,n){return _(this,t,e,n,!0)},t.prototype.lastIndexOf=function(t,e,n){return _(this,t,e,n,!1)},t.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e=0|e,isFinite(n)?(n=0|n,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return k(this,t,e,n);case"utf8":case"utf-8":return A(this,t,e,n);case"ascii":return T(this,t,e,n);case"latin1":case"binary":return E(this,t,e,n);case"base64":return S(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;t.prototype.slice=function(e,n){var r=this.length;e=~~e,n=void 0===n?r:~~n,e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<e&&(n=e);var i;if(t.TYPED_ARRAY_SUPPORT)i=this.subarray(e,n),i.__proto__=t.prototype;else{var o=n-e;i=new t(o,(void 0));for(var u=0;u<o;++u)i[u]=this[u+e]}return i},t.prototype.readUIntLE=function(t,e,n){t=0|t,e=0|e,n||M(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},t.prototype.readUIntBE=function(t,e,n){t=0|t,e=0|e,n||M(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},t.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},t.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},t.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},t.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},t.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},t.prototype.readIntLE=function(t,e,n){t=0|t,e=0|e,n||M(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},t.prototype.readIntBE=function(t,e,n){t=0|t,e=0|e,n||M(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},t.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},t.prototype.readInt16LE=function(t,e){e||M(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt16BE=function(t,e){e||M(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},t.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},t.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},t.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),$.read(this,t,!0,23,4)},t.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),$.read(this,t,!1,23,4)},t.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),$.read(this,t,!0,52,8)},t.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),$.read(this,t,!1,52,8)},t.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e=0|e,n=0|n,!r){var i=Math.pow(2,8*n)-1;C(this,t,e,n,i,0)}var o=1,u=0;for(this[e]=255&t;++u<n&&(o*=256);)this[e+u]=t/o&255;return e+n},t.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e=0|e,n=0|n,!r){var i=Math.pow(2,8*n)-1;C(this,t,e,n,i,0)}var o=n-1,u=1;for(this[e+o]=255&t;--o>=0&&(u*=256);)this[e+o]=t/u&255;return e+n},t.prototype.writeUInt8=function(e,n,r){return e=+e,n=0|n,r||C(this,e,n,1,255,0),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},t.prototype.writeUInt16LE=function(e,n,r){return e=+e,n=0|n,r||C(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):L(this,e,n,!0),n+2},t.prototype.writeUInt16BE=function(e,n,r){return e=+e,n=0|n,r||C(this,e,n,2,65535,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):L(this,e,n,!1),n+2},t.prototype.writeUInt32LE=function(e,n,r){return e=+e,n=0|n,r||C(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):N(this,e,n,!0),n+4},t.prototype.writeUInt32BE=function(e,n,r){return e=+e,n=0|n,r||C(this,e,n,4,4294967295,0),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):N(this,e,n,!1),n+4},t.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e=0|e,!r){var i=Math.pow(2,8*n-1);C(this,t,e,n,i-1,-i)}var o=0,u=1,a=0;for(this[e]=255&t;++o<n&&(u*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/u>>0)-a&255;return e+n},t.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e=0|e,!r){var i=Math.pow(2,8*n-1);C(this,t,e,n,i-1,-i)}var o=n-1,u=1,a=0;for(this[e+o]=255&t;--o>=0&&(u*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/u>>0)-a&255;return e+n},t.prototype.writeInt8=function(e,n,r){return e=+e,n=0|n,r||C(this,e,n,1,127,-128),t.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[n]=255&e,n+1},t.prototype.writeInt16LE=function(e,n,r){return e=+e,n=0|n,r||C(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):L(this,e,n,!0),n+2},t.prototype.writeInt16BE=function(e,n,r){return e=+e,n=0|n,r||C(this,e,n,2,32767,-32768),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):L(this,e,n,!1),n+2},t.prototype.writeInt32LE=function(e,n,r){return e=+e,n=0|n,r||C(this,e,n,4,2147483647,-2147483648),t.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):N(this,e,n,!0),n+4},t.prototype.writeInt32BE=function(e,n,r){return e=+e,n=0|n,r||C(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),t.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):N(this,e,n,!1),n+4},t.prototype.writeFloatLE=function(t,e,n){return Y(this,t,e,!0,n)},t.prototype.writeFloatBE=function(t,e,n){return Y(this,t,e,!1,n)},t.prototype.writeDoubleLE=function(t,e,n){return D(this,t,e,!0,n)},t.prototype.writeDoubleBE=function(t,e,n){return D(this,t,e,!1,n)},t.prototype.copy=function(e,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=e.length&&(n=e.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-n<i-r&&(i=e.length-n+r);var o,u=i-r;if(this===e&&r<n&&n<i)for(o=u-1;o>=0;--o)e[o+n]=this[o+r];else if(u<1e3||!t.TYPED_ARRAY_SUPPORT)for(o=0;o<u;++o)e[o+n]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+u),n);return u},t.prototype.fill=function(e,n,r,i){if("string"==typeof e){if("string"==typeof n?(i=n,n=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!t.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof e&&(e=255&e);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0);var u;if("number"==typeof e)for(u=n;u<r;++u)this[u]=e;else{var a=t.isBuffer(e)?e:J(new t(e,i).toString()),s=a.length;for(u=0;u<r-n;++u)this[u+n]=a[u%s]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(e,n(2).Buffer,function(){return this}())},function(t,e){"use strict";function n(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function r(t){return 3*t.length/4-n(t)}function i(t){var e,r,i,o,u,a,s=t.length;u=n(t),a=new f(3*s/4-u),i=u>0?s-4:s;var h=0;for(e=0,r=0;e<i;e+=4,r+=3)o=c[t.charCodeAt(e)]<<18|c[t.charCodeAt(e+1)]<<12|c[t.charCodeAt(e+2)]<<6|c[t.charCodeAt(e+3)],a[h++]=o>>16&255,a[h++]=o>>8&255,a[h++]=255&o;return 2===u?(o=c[t.charCodeAt(e)]<<2|c[t.charCodeAt(e+1)]>>4,a[h++]=255&o):1===u&&(o=c[t.charCodeAt(e)]<<10|c[t.charCodeAt(e+1)]<<4|c[t.charCodeAt(e+2)]>>2,a[h++]=o>>8&255,a[h++]=255&o),a}function o(t){return s[t>>18&63]+s[t>>12&63]+s[t>>6&63]+s[63&t]}function u(t,e,n){for(var r,i=[],u=e;u<n;u+=3)r=(t[u]<<16)+(t[u+1]<<8)+t[u+2],i.push(o(r));return i.join("")}function a(t){for(var e,n=t.length,r=n%3,i="",o=[],a=16383,c=0,f=n-r;c<f;c+=a)o.push(u(t,c,c+a>f?f:c+a));return 1===r?(e=t[n-1],i+=s[e>>2],i+=s[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=s[e>>10],i+=s[e>>4&63],i+=s[e<<2&63],i+="="),o.push(i),o.join("")}e.byteLength=r,e.toByteArray=i,e.fromByteArray=a;for(var s=[],c=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,d=h.length;l<d;++l)s[l]=h[l],c[h.charCodeAt(l)]=l;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,u,a=8*i-r-1,s=(1<<a)-1,c=s>>1,f=-7,h=n?i-1:0,l=n?-1:1,d=t[e+h];for(h+=l,o=d&(1<<-f)-1,d>>=-f,f+=a;f>0;o=256*o+t[e+h],h+=l,f-=8);for(u=o&(1<<-f)-1,o>>=-f,f+=r;f>0;u=256*u+t[e+h],h+=l,f-=8);if(0===o)o=1-c;else{if(o===s)return u?NaN:(d?-1:1)*(1/0);u+=Math.pow(2,r),o-=c}return(d?-1:1)*u*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var u,a,s,c=8*o-i-1,f=(1<<c)-1,h=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,y=r?1:-1,p=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,u=f):(u=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-u))<1&&(u--,s*=2),e+=u+h>=1?l/s:l*Math.pow(2,1-h),e*s>=2&&(u++,s/=2),u+h>=f?(a=0,u=f):u+h>=1?(a=(e*s-1)*Math.pow(2,i),u+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),u=0));i>=8;t[n+d]=255&a,d+=y,a/=256,i-=8);for(u=u<<i|a,c+=i;c>0;t[n+d]=255&u,d+=y,u/=256,c-=8);t[n+d-y]|=128*p}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){!function(t){"use strict";function e(t,e,n,r){t[e]=n>>24&255,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=255&n,t[e+4]=r>>24&255,t[e+5]=r>>16&255,t[e+6]=r>>8&255,t[e+7]=255&r}function r(t,e,n,r,i){var o,u=0;for(o=0;o<i;o++)u|=t[e+o]^n[r+o];return(1&u-1>>>8)-1}function i(t,e,n,i){return r(t,e,n,i,16)}function o(t,e,n,i){return r(t,e,n,i,32)}function u(t,e,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,u=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,s=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,c=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,f=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,l=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,y=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,p=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,v=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,g=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,m=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,b=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,_=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,w=o,k=u,A=a,T=s,E=c,S=f,U=h,j=l,x=d,P=y,O=p,I=v,R=g,B=m,M=b,C=_,L=0;L<20;L+=2)i=w+R|0,E^=i<<7|i>>>25,i=E+w|0,x^=i<<9|i>>>23,i=x+E|0,R^=i<<13|i>>>19,i=R+x|0,w^=i<<18|i>>>14,i=S+k|0,P^=i<<7|i>>>25,i=P+S|0,B^=i<<9|i>>>23,i=B+P|0,k^=i<<13|i>>>19,i=k+B|0,S^=i<<18|i>>>14,i=O+U|0,M^=i<<7|i>>>25,i=M+O|0,A^=i<<9|i>>>23,i=A+M|0,U^=i<<13|i>>>19,i=U+A|0,O^=i<<18|i>>>14,i=C+I|0,T^=i<<7|i>>>25,i=T+C|0,j^=i<<9|i>>>23,i=j+T|0,I^=i<<13|i>>>19,i=I+j|0,C^=i<<18|i>>>14,i=w+T|0,k^=i<<7|i>>>25,i=k+w|0,A^=i<<9|i>>>23,i=A+k|0,T^=i<<13|i>>>19,i=T+A|0,w^=i<<18|i>>>14,i=S+E|0,U^=i<<7|i>>>25,i=U+S|0,j^=i<<9|i>>>23,i=j+U|0,E^=i<<13|i>>>19,i=E+j|0,S^=i<<18|i>>>14,i=O+P|0,I^=i<<7|i>>>25,i=I+O|0,x^=i<<9|i>>>23,i=x+I|0,P^=i<<13|i>>>19,i=P+x|0,O^=i<<18|i>>>14,i=C+M|0,R^=i<<7|i>>>25,i=R+C|0,B^=i<<9|i>>>23,i=B+R|0,M^=i<<13|i>>>19,i=M+B|0,C^=i<<18|i>>>14;w=w+o|0,k=k+u|0,A=A+a|0,T=T+s|0,E=E+c|0,S=S+f|0,U=U+h|0,j=j+l|0,x=x+d|0,P=P+y|0,O=O+p|0,I=I+v|0,R=R+g|0,B=B+m|0,M=M+b|0,C=C+_|0,t[0]=w>>>0&255,t[1]=w>>>8&255,t[2]=w>>>16&255,t[3]=w>>>24&255,t[4]=k>>>0&255,t[5]=k>>>8&255,t[6]=k>>>16&255,t[7]=k>>>24&255,t[8]=A>>>0&255,t[9]=A>>>8&255,t[10]=A>>>16&255,t[11]=A>>>24&255,t[12]=T>>>0&255,t[13]=T>>>8&255,t[14]=T>>>16&255,t[15]=T>>>24&255,t[16]=E>>>0&255,t[17]=E>>>8&255,t[18]=E>>>16&255,t[19]=E>>>24&255,t[20]=S>>>0&255,t[21]=S>>>8&255,t[22]=S>>>16&255,t[23]=S>>>24&255,t[24]=U>>>0&255,t[25]=U>>>8&255,t[26]=U>>>16&255,t[27]=U>>>24&255,t[28]=j>>>0&255,t[29]=j>>>8&255,t[30]=j>>>16&255,t[31]=j>>>24&255,t[32]=x>>>0&255,t[33]=x>>>8&255,t[34]=x>>>16&255,t[35]=x>>>24&255,t[36]=P>>>0&255,t[37]=P>>>8&255,t[38]=P>>>16&255,t[39]=P>>>24&255,t[40]=O>>>0&255,t[41]=O>>>8&255,t[42]=O>>>16&255,t[43]=O>>>24&255,t[44]=I>>>0&255,t[45]=I>>>8&255,t[46]=I>>>16&255,t[47]=I>>>24&255,t[48]=R>>>0&255,t[49]=R>>>8&255,t[50]=R>>>16&255,t[51]=R>>>24&255,t[52]=B>>>0&255,t[53]=B>>>8&255,t[54]=B>>>16&255,t[55]=B>>>24&255,t[56]=M>>>0&255,t[57]=M>>>8&255,t[58]=M>>>16&255,t[59]=M>>>24&255,t[60]=C>>>0&255,t[61]=C>>>8&255,t[62]=C>>>16&255,t[63]=C>>>24&255}function a(t,e,n,r){for(var i,o=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,u=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,s=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,c=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,f=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,h=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,l=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,d=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,y=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,p=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,v=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,g=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,m=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,b=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,_=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,w=o,k=u,A=a,T=s,E=c,S=f,U=h,j=l,x=d,P=y,O=p,I=v,R=g,B=m,M=b,C=_,L=0;L<20;L+=2)i=w+R|0,E^=i<<7|i>>>25,i=E+w|0,x^=i<<9|i>>>23,i=x+E|0,R^=i<<13|i>>>19,i=R+x|0,w^=i<<18|i>>>14,i=S+k|0,P^=i<<7|i>>>25,i=P+S|0,B^=i<<9|i>>>23,i=B+P|0,k^=i<<13|i>>>19,i=k+B|0,S^=i<<18|i>>>14,i=O+U|0,M^=i<<7|i>>>25,i=M+O|0,A^=i<<9|i>>>23,i=A+M|0,U^=i<<13|i>>>19,i=U+A|0,O^=i<<18|i>>>14,i=C+I|0,T^=i<<7|i>>>25,i=T+C|0,j^=i<<9|i>>>23,i=j+T|0,I^=i<<13|i>>>19,i=I+j|0,C^=i<<18|i>>>14,i=w+T|0,k^=i<<7|i>>>25,i=k+w|0,A^=i<<9|i>>>23,i=A+k|0,T^=i<<13|i>>>19,i=T+A|0,w^=i<<18|i>>>14,i=S+E|0,U^=i<<7|i>>>25,i=U+S|0,j^=i<<9|i>>>23,i=j+U|0,E^=i<<13|i>>>19,i=E+j|0,S^=i<<18|i>>>14,i=O+P|0,I^=i<<7|i>>>25,i=I+O|0,x^=i<<9|i>>>23,i=x+I|0,P^=i<<13|i>>>19,i=P+x|0,O^=i<<18|i>>>14,i=C+M|0,R^=i<<7|i>>>25,i=R+C|0,B^=i<<9|i>>>23,i=B+R|0,M^=i<<13|i>>>19,i=M+B|0,C^=i<<18|i>>>14;t[0]=w>>>0&255,t[1]=w>>>8&255,t[2]=w>>>16&255,t[3]=w>>>24&255,t[4]=S>>>0&255,t[5]=S>>>8&255,t[6]=S>>>16&255,t[7]=S>>>24&255,t[8]=O>>>0&255,t[9]=O>>>8&255,t[10]=O>>>16&255,t[11]=O>>>24&255,t[12]=C>>>0&255,t[13]=C>>>8&255,t[14]=C>>>16&255,t[15]=C>>>24&255,t[16]=U>>>0&255,t[17]=U>>>8&255,t[18]=U>>>16&255,t[19]=U>>>24&255,t[20]=j>>>0&255,t[21]=j>>>8&255,t[22]=j>>>16&255,t[23]=j>>>24&255,t[24]=x>>>0&255,t[25]=x>>>8&255,t[26]=x>>>16&255,t[27]=x>>>24&255,t[28]=P>>>0&255,t[29]=P>>>8&255,t[30]=P>>>16&255,t[31]=P>>>24&255}function s(t,e,n,r){u(t,e,n,r)}function c(t,e,n,r){a(t,e,n,r)}function f(t,e,n,r,i,o,u){var a,c,f=new Uint8Array(16),h=new Uint8Array(64);for(c=0;c<16;c++)f[c]=0;for(c=0;c<8;c++)f[c]=o[c];for(;i>=64;){for(s(h,f,u,lt),c=0;c<64;c++)t[e+c]=n[r+c]^h[c];for(a=1,c=8;c<16;c++)a=a+(255&f[c])|0,f[c]=255&a,a>>>=8;i-=64,e+=64,r+=64}if(i>0)for(s(h,f,u,lt),c=0;c<i;c++)t[e+c]=n[r+c]^h[c];return 0}function h(t,e,n,r,i){var o,u,a=new Uint8Array(16),c=new Uint8Array(64);for(u=0;u<16;u++)a[u]=0;for(u=0;u<8;u++)a[u]=r[u];for(;n>=64;){for(s(c,a,i,lt),u=0;u<64;u++)t[e+u]=c[u];for(o=1,u=8;u<16;u++)o=o+(255&a[u])|0,a[u]=255&o,o>>>=8;n-=64,e+=64}if(n>0)for(s(c,a,i,lt),u=0;u<n;u++)t[e+u]=c[u];return 0}function l(t,e,n,r,i){var o=new Uint8Array(32);c(o,r,i,lt);for(var u=new Uint8Array(8),a=0;a<8;a++)u[a]=r[a+16];return h(t,e,n,u,o)}function d(t,e,n,r,i,o,u){var a=new Uint8Array(32);c(a,o,u,lt);for(var s=new Uint8Array(8),h=0;h<8;h++)s[h]=o[h+16];return f(t,e,n,r,i,s,a)}function y(t,e,n,r,i,o){var u=new dt(o);return u.update(n,r,i),u.finish(t,e),0}function p(t,e,n,r,o,u){var a=new Uint8Array(16);return y(a,0,n,r,o,u),i(t,e,a,0)}function v(t,e,n,r,i){var o;if(n<32)return-1;for(d(t,0,e,0,n,r,i),y(t,16,t,32,n-32,t),o=0;o<16;o++)t[o]=0;return 0}function g(t,e,n,r,i){var o,u=new Uint8Array(32);if(n<32)return-1;if(l(u,0,32,r,i),0!==p(e,16,e,32,n-32,u))return-1;for(d(t,0,e,0,n,r,i),o=0;o<32;o++)t[o]=0;return 0}function m(t,e){var n;for(n=0;n<16;n++)t[n]=0|e[n]}function b(t){var e,n,r=1;for(e=0;e<16;e++)n=t[e]+r+65535,r=Math.floor(n/65536),t[e]=n-65536*r;t[0]+=r-1+37*(r-1)}function _(t,e,n){for(var r,i=~(n-1),o=0;o<16;o++)r=i&(t[o]^e[o]),t[o]^=r,e[o]^=r}function w(t,e){var n,r,i,o=tt(),u=tt();for(n=0;n<16;n++)u[n]=e[n];for(b(u),b(u),b(u),r=0;r<2;r++){for(o[0]=u[0]-65517,n=1;n<15;n++)o[n]=u[n]-65535-(o[n-1]>>16&1),o[n-1]&=65535;o[15]=u[15]-32767-(o[14]>>16&1),i=o[15]>>16&1,o[14]&=65535,_(u,o,1-i)}for(n=0;n<16;n++)t[2*n]=255&u[n],t[2*n+1]=u[n]>>8}function k(t,e){var n=new Uint8Array(32),r=new Uint8Array(32);return w(n,t),w(r,e),o(n,0,r,0)}function A(t){var e=new Uint8Array(32);return w(e,t),1&e[0]}function T(t,e){var n;for(n=0;n<16;n++)t[n]=e[2*n]+(e[2*n+1]<<8);t[15]&=32767}function E(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]+n[r]}function S(t,e,n){for(var r=0;r<16;r++)t[r]=e[r]-n[r]}function U(t,e,n){var r,i,o=0,u=0,a=0,s=0,c=0,f=0,h=0,l=0,d=0,y=0,p=0,v=0,g=0,m=0,b=0,_=0,w=0,k=0,A=0,T=0,E=0,S=0,U=0,j=0,x=0,P=0,O=0,I=0,R=0,B=0,M=0,C=n[0],L=n[1],N=n[2],K=n[3],Y=n[4],D=n[5],F=n[6],z=n[7],H=n[8],J=n[9],q=n[10],V=n[11],G=n[12],X=n[13],W=n[14],Z=n[15];r=e[0],o+=r*C,u+=r*L,a+=r*N,s+=r*K,c+=r*Y,f+=r*D,h+=r*F,l+=r*z,d+=r*H,y+=r*J,p+=r*q,v+=r*V,g+=r*G,m+=r*X,b+=r*W,_+=r*Z,r=e[1],u+=r*C,a+=r*L,s+=r*N,c+=r*K,f+=r*Y,h+=r*D,l+=r*F,d+=r*z,y+=r*H,p+=r*J,v+=r*q,g+=r*V,m+=r*G,b+=r*X,_+=r*W,w+=r*Z,r=e[2],a+=r*C,s+=r*L,c+=r*N,f+=r*K,h+=r*Y,l+=r*D,d+=r*F,y+=r*z,p+=r*H,v+=r*J,g+=r*q,m+=r*V,b+=r*G,_+=r*X,w+=r*W,k+=r*Z,r=e[3],s+=r*C,c+=r*L,f+=r*N,h+=r*K,l+=r*Y,d+=r*D,y+=r*F,p+=r*z,v+=r*H,g+=r*J,m+=r*q,b+=r*V,_+=r*G,w+=r*X,k+=r*W,A+=r*Z,r=e[4],c+=r*C,f+=r*L,h+=r*N,l+=r*K,d+=r*Y,y+=r*D,p+=r*F,v+=r*z,g+=r*H,m+=r*J,b+=r*q,_+=r*V,w+=r*G,k+=r*X,A+=r*W,T+=r*Z,r=e[5],f+=r*C,h+=r*L,l+=r*N,d+=r*K,y+=r*Y,p+=r*D,v+=r*F,g+=r*z,m+=r*H,b+=r*J,_+=r*q,w+=r*V,k+=r*G,A+=r*X,T+=r*W,E+=r*Z,r=e[6],h+=r*C,l+=r*L,d+=r*N,y+=r*K,p+=r*Y,v+=r*D,g+=r*F,m+=r*z,b+=r*H,_+=r*J,w+=r*q,k+=r*V,A+=r*G,T+=r*X,E+=r*W,S+=r*Z,r=e[7],l+=r*C,d+=r*L,y+=r*N,p+=r*K,v+=r*Y,g+=r*D,m+=r*F,b+=r*z,_+=r*H,w+=r*J,k+=r*q,A+=r*V,T+=r*G,E+=r*X,S+=r*W,U+=r*Z,r=e[8],d+=r*C,y+=r*L,p+=r*N,v+=r*K,g+=r*Y,m+=r*D,b+=r*F,_+=r*z,w+=r*H,k+=r*J,A+=r*q,T+=r*V,E+=r*G,S+=r*X,U+=r*W,j+=r*Z,r=e[9],y+=r*C,p+=r*L,v+=r*N,g+=r*K,m+=r*Y,b+=r*D,_+=r*F,w+=r*z,k+=r*H,A+=r*J,T+=r*q,E+=r*V,S+=r*G,U+=r*X,j+=r*W,x+=r*Z,r=e[10],p+=r*C,v+=r*L,g+=r*N,m+=r*K,b+=r*Y,_+=r*D,w+=r*F,k+=r*z,A+=r*H,T+=r*J,E+=r*q,S+=r*V,U+=r*G,j+=r*X,x+=r*W,P+=r*Z,r=e[11],v+=r*C,g+=r*L,m+=r*N,b+=r*K,_+=r*Y,w+=r*D,k+=r*F,A+=r*z,T+=r*H,E+=r*J,S+=r*q,U+=r*V,j+=r*G,x+=r*X,P+=r*W,O+=r*Z,r=e[12],g+=r*C,m+=r*L,b+=r*N,_+=r*K,w+=r*Y,k+=r*D,A+=r*F,T+=r*z,E+=r*H,S+=r*J,U+=r*q,j+=r*V,x+=r*G,P+=r*X,O+=r*W,I+=r*Z,r=e[13],m+=r*C,
b+=r*L,_+=r*N,w+=r*K,k+=r*Y,A+=r*D,T+=r*F,E+=r*z,S+=r*H,U+=r*J,j+=r*q,x+=r*V,P+=r*G,O+=r*X,I+=r*W,R+=r*Z,r=e[14],b+=r*C,_+=r*L,w+=r*N,k+=r*K,A+=r*Y,T+=r*D,E+=r*F,S+=r*z,U+=r*H,j+=r*J,x+=r*q,P+=r*V,O+=r*G,I+=r*X,R+=r*W,B+=r*Z,r=e[15],_+=r*C,w+=r*L,k+=r*N,A+=r*K,T+=r*Y,E+=r*D,S+=r*F,U+=r*z,j+=r*H,x+=r*J,P+=r*q,O+=r*V,I+=r*G,R+=r*X,B+=r*W,M+=r*Z,o+=38*w,u+=38*k,a+=38*A,s+=38*T,c+=38*E,f+=38*S,h+=38*U,l+=38*j,d+=38*x,y+=38*P,p+=38*O,v+=38*I,g+=38*R,m+=38*B,b+=38*M,i=1,r=o+i+65535,i=Math.floor(r/65536),o=r-65536*i,r=u+i+65535,i=Math.floor(r/65536),u=r-65536*i,r=a+i+65535,i=Math.floor(r/65536),a=r-65536*i,r=s+i+65535,i=Math.floor(r/65536),s=r-65536*i,r=c+i+65535,i=Math.floor(r/65536),c=r-65536*i,r=f+i+65535,i=Math.floor(r/65536),f=r-65536*i,r=h+i+65535,i=Math.floor(r/65536),h=r-65536*i,r=l+i+65535,i=Math.floor(r/65536),l=r-65536*i,r=d+i+65535,i=Math.floor(r/65536),d=r-65536*i,r=y+i+65535,i=Math.floor(r/65536),y=r-65536*i,r=p+i+65535,i=Math.floor(r/65536),p=r-65536*i,r=v+i+65535,i=Math.floor(r/65536),v=r-65536*i,r=g+i+65535,i=Math.floor(r/65536),g=r-65536*i,r=m+i+65535,i=Math.floor(r/65536),m=r-65536*i,r=b+i+65535,i=Math.floor(r/65536),b=r-65536*i,r=_+i+65535,i=Math.floor(r/65536),_=r-65536*i,o+=i-1+37*(i-1),i=1,r=o+i+65535,i=Math.floor(r/65536),o=r-65536*i,r=u+i+65535,i=Math.floor(r/65536),u=r-65536*i,r=a+i+65535,i=Math.floor(r/65536),a=r-65536*i,r=s+i+65535,i=Math.floor(r/65536),s=r-65536*i,r=c+i+65535,i=Math.floor(r/65536),c=r-65536*i,r=f+i+65535,i=Math.floor(r/65536),f=r-65536*i,r=h+i+65535,i=Math.floor(r/65536),h=r-65536*i,r=l+i+65535,i=Math.floor(r/65536),l=r-65536*i,r=d+i+65535,i=Math.floor(r/65536),d=r-65536*i,r=y+i+65535,i=Math.floor(r/65536),y=r-65536*i,r=p+i+65535,i=Math.floor(r/65536),p=r-65536*i,r=v+i+65535,i=Math.floor(r/65536),v=r-65536*i,r=g+i+65535,i=Math.floor(r/65536),g=r-65536*i,r=m+i+65535,i=Math.floor(r/65536),m=r-65536*i,r=b+i+65535,i=Math.floor(r/65536),b=r-65536*i,r=_+i+65535,i=Math.floor(r/65536),_=r-65536*i,o+=i-1+37*(i-1),t[0]=o,t[1]=u,t[2]=a,t[3]=s,t[4]=c,t[5]=f,t[6]=h,t[7]=l,t[8]=d,t[9]=y,t[10]=p,t[11]=v,t[12]=g,t[13]=m,t[14]=b,t[15]=_}function j(t,e){U(t,e,e)}function x(t,e){var n,r=tt();for(n=0;n<16;n++)r[n]=e[n];for(n=253;n>=0;n--)j(r,r),2!==n&&4!==n&&U(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}function P(t,e){var n,r=tt();for(n=0;n<16;n++)r[n]=e[n];for(n=250;n>=0;n--)j(r,r),1!==n&&U(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}function O(t,e,n){var r,i,o=new Uint8Array(32),u=new Float64Array(80),a=tt(),s=tt(),c=tt(),f=tt(),h=tt(),l=tt();for(i=0;i<31;i++)o[i]=e[i];for(o[31]=127&e[31]|64,o[0]&=248,T(u,n),i=0;i<16;i++)s[i]=u[i],f[i]=a[i]=c[i]=0;for(a[0]=f[0]=1,i=254;i>=0;--i)r=o[i>>>3]>>>(7&i)&1,_(a,s,r),_(c,f,r),E(h,a,c),S(a,a,c),E(c,s,f),S(s,s,f),j(f,h),j(l,a),U(a,c,a),U(c,s,h),E(h,a,c),S(a,a,c),j(s,a),S(c,f,l),U(a,c,ut),E(a,a,f),U(c,c,a),U(a,f,l),U(f,s,u),j(s,h),_(a,s,r),_(c,f,r);for(i=0;i<16;i++)u[i+16]=a[i],u[i+32]=c[i],u[i+48]=s[i],u[i+64]=f[i];var d=u.subarray(32),y=u.subarray(16);return x(d,d),U(y,y,d),w(t,y),0}function I(t,e){return O(t,e,rt)}function R(t,e){return et(e,32),I(t,e)}function B(t,e,n){var r=new Uint8Array(32);return O(r,n,e),c(t,nt,r,lt)}function M(t,e,n,r,i,o){var u=new Uint8Array(32);return B(u,i,o),yt(t,e,n,r,u)}function C(t,e,n,r,i,o){var u=new Uint8Array(32);return B(u,i,o),pt(t,e,n,r,u)}function L(t,e,n,r){for(var i,o,u,a,s,c,f,h,l,d,y,p,v,g,m,b,_,w,k,A,T,E,S,U,j,x,P=new Int32Array(16),O=new Int32Array(16),I=t[0],R=t[1],B=t[2],M=t[3],C=t[4],L=t[5],N=t[6],K=t[7],Y=e[0],D=e[1],F=e[2],z=e[3],H=e[4],J=e[5],q=e[6],V=e[7],G=0;r>=128;){for(k=0;k<16;k++)A=8*k+G,P[k]=n[A+0]<<24|n[A+1]<<16|n[A+2]<<8|n[A+3],O[k]=n[A+4]<<24|n[A+5]<<16|n[A+6]<<8|n[A+7];for(k=0;k<80;k++)if(i=I,o=R,u=B,a=M,s=C,c=L,f=N,h=K,l=Y,d=D,y=F,p=z,v=H,g=J,m=q,b=V,T=K,E=V,S=65535&E,U=E>>>16,j=65535&T,x=T>>>16,T=(C>>>14|H<<18)^(C>>>18|H<<14)^(H>>>9|C<<23),E=(H>>>14|C<<18)^(H>>>18|C<<14)^(C>>>9|H<<23),S+=65535&E,U+=E>>>16,j+=65535&T,x+=T>>>16,T=C&L^~C&N,E=H&J^~H&q,S+=65535&E,U+=E>>>16,j+=65535&T,x+=T>>>16,T=vt[2*k],E=vt[2*k+1],S+=65535&E,U+=E>>>16,j+=65535&T,x+=T>>>16,T=P[k%16],E=O[k%16],S+=65535&E,U+=E>>>16,j+=65535&T,x+=T>>>16,U+=S>>>16,j+=U>>>16,x+=j>>>16,_=65535&j|x<<16,w=65535&S|U<<16,T=_,E=w,S=65535&E,U=E>>>16,j=65535&T,x=T>>>16,T=(I>>>28|Y<<4)^(Y>>>2|I<<30)^(Y>>>7|I<<25),E=(Y>>>28|I<<4)^(I>>>2|Y<<30)^(I>>>7|Y<<25),S+=65535&E,U+=E>>>16,j+=65535&T,x+=T>>>16,T=I&R^I&B^R&B,E=Y&D^Y&F^D&F,S+=65535&E,U+=E>>>16,j+=65535&T,x+=T>>>16,U+=S>>>16,j+=U>>>16,x+=j>>>16,h=65535&j|x<<16,b=65535&S|U<<16,T=a,E=p,S=65535&E,U=E>>>16,j=65535&T,x=T>>>16,T=_,E=w,S+=65535&E,U+=E>>>16,j+=65535&T,x+=T>>>16,U+=S>>>16,j+=U>>>16,x+=j>>>16,a=65535&j|x<<16,p=65535&S|U<<16,R=i,B=o,M=u,C=a,L=s,N=c,K=f,I=h,D=l,F=d,z=y,H=p,J=v,q=g,V=m,Y=b,k%16===15)for(A=0;A<16;A++)T=P[A],E=O[A],S=65535&E,U=E>>>16,j=65535&T,x=T>>>16,T=P[(A+9)%16],E=O[(A+9)%16],S+=65535&E,U+=E>>>16,j+=65535&T,x+=T>>>16,_=P[(A+1)%16],w=O[(A+1)%16],T=(_>>>1|w<<31)^(_>>>8|w<<24)^_>>>7,E=(w>>>1|_<<31)^(w>>>8|_<<24)^(w>>>7|_<<25),S+=65535&E,U+=E>>>16,j+=65535&T,x+=T>>>16,_=P[(A+14)%16],w=O[(A+14)%16],T=(_>>>19|w<<13)^(w>>>29|_<<3)^_>>>6,E=(w>>>19|_<<13)^(_>>>29|w<<3)^(w>>>6|_<<26),S+=65535&E,U+=E>>>16,j+=65535&T,x+=T>>>16,U+=S>>>16,j+=U>>>16,x+=j>>>16,P[A]=65535&j|x<<16,O[A]=65535&S|U<<16;T=I,E=Y,S=65535&E,U=E>>>16,j=65535&T,x=T>>>16,T=t[0],E=e[0],S+=65535&E,U+=E>>>16,j+=65535&T,x+=T>>>16,U+=S>>>16,j+=U>>>16,x+=j>>>16,t[0]=I=65535&j|x<<16,e[0]=Y=65535&S|U<<16,T=R,E=D,S=65535&E,U=E>>>16,j=65535&T,x=T>>>16,T=t[1],E=e[1],S+=65535&E,U+=E>>>16,j+=65535&T,x+=T>>>16,U+=S>>>16,j+=U>>>16,x+=j>>>16,t[1]=R=65535&j|x<<16,e[1]=D=65535&S|U<<16,T=B,E=F,S=65535&E,U=E>>>16,j=65535&T,x=T>>>16,T=t[2],E=e[2],S+=65535&E,U+=E>>>16,j+=65535&T,x+=T>>>16,U+=S>>>16,j+=U>>>16,x+=j>>>16,t[2]=B=65535&j|x<<16,e[2]=F=65535&S|U<<16,T=M,E=z,S=65535&E,U=E>>>16,j=65535&T,x=T>>>16,T=t[3],E=e[3],S+=65535&E,U+=E>>>16,j+=65535&T,x+=T>>>16,U+=S>>>16,j+=U>>>16,x+=j>>>16,t[3]=M=65535&j|x<<16,e[3]=z=65535&S|U<<16,T=C,E=H,S=65535&E,U=E>>>16,j=65535&T,x=T>>>16,T=t[4],E=e[4],S+=65535&E,U+=E>>>16,j+=65535&T,x+=T>>>16,U+=S>>>16,j+=U>>>16,x+=j>>>16,t[4]=C=65535&j|x<<16,e[4]=H=65535&S|U<<16,T=L,E=J,S=65535&E,U=E>>>16,j=65535&T,x=T>>>16,T=t[5],E=e[5],S+=65535&E,U+=E>>>16,j+=65535&T,x+=T>>>16,U+=S>>>16,j+=U>>>16,x+=j>>>16,t[5]=L=65535&j|x<<16,e[5]=J=65535&S|U<<16,T=N,E=q,S=65535&E,U=E>>>16,j=65535&T,x=T>>>16,T=t[6],E=e[6],S+=65535&E,U+=E>>>16,j+=65535&T,x+=T>>>16,U+=S>>>16,j+=U>>>16,x+=j>>>16,t[6]=N=65535&j|x<<16,e[6]=q=65535&S|U<<16,T=K,E=V,S=65535&E,U=E>>>16,j=65535&T,x=T>>>16,T=t[7],E=e[7],S+=65535&E,U+=E>>>16,j+=65535&T,x+=T>>>16,U+=S>>>16,j+=U>>>16,x+=j>>>16,t[7]=K=65535&j|x<<16,e[7]=V=65535&S|U<<16,G+=128,r-=128}return r}function N(t,n,r){var i,o=new Int32Array(8),u=new Int32Array(8),a=new Uint8Array(256),s=r;for(o[0]=1779033703,o[1]=3144134277,o[2]=1013904242,o[3]=2773480762,o[4]=1359893119,o[5]=2600822924,o[6]=528734635,o[7]=1541459225,u[0]=4089235720,u[1]=2227873595,u[2]=4271175723,u[3]=1595750129,u[4]=2917565137,u[5]=725511199,u[6]=4215389547,u[7]=327033209,L(o,u,n,r),r%=128,i=0;i<r;i++)a[i]=n[s-r+i];for(a[r]=128,r=256-128*(r<112?1:0),a[r-9]=0,e(a,r-8,s/536870912|0,s<<3),L(o,u,a,r),i=0;i<8;i++)e(t,8*i,o[i],u[i]);return 0}function K(t,e){var n=tt(),r=tt(),i=tt(),o=tt(),u=tt(),a=tt(),s=tt(),c=tt(),f=tt();S(n,t[1],t[0]),S(f,e[1],e[0]),U(n,n,f),E(r,t[0],t[1]),E(f,e[0],e[1]),U(r,r,f),U(i,t[3],e[3]),U(i,i,st),U(o,t[2],e[2]),E(o,o,o),S(u,r,n),S(a,o,i),E(s,o,i),E(c,r,n),U(t[0],u,a),U(t[1],c,s),U(t[2],s,a),U(t[3],u,c)}function Y(t,e,n){var r;for(r=0;r<4;r++)_(t[r],e[r],n)}function D(t,e){var n=tt(),r=tt(),i=tt();x(i,e[2]),U(n,e[0],i),U(r,e[1],i),w(t,r),t[31]^=A(n)<<7}function F(t,e,n){var r,i;for(m(t[0],it),m(t[1],ot),m(t[2],ot),m(t[3],it),i=255;i>=0;--i)r=n[i/8|0]>>(7&i)&1,Y(t,e,r),K(e,t),K(t,t),Y(t,e,r)}function z(t,e){var n=[tt(),tt(),tt(),tt()];m(n[0],ct),m(n[1],ft),m(n[2],ot),U(n[3],ct,ft),F(t,n,e)}function H(t,e,n){var r,i=new Uint8Array(64),o=[tt(),tt(),tt(),tt()];for(n||et(e,32),N(i,e,32),i[0]&=248,i[31]&=127,i[31]|=64,z(o,i),D(t,o),r=0;r<32;r++)e[r+32]=t[r];return 0}function J(t,e){var n,r,i,o;for(r=63;r>=32;--r){for(n=0,i=r-32,o=r-12;i<o;++i)e[i]+=n-16*e[r]*gt[i-(r-32)],n=e[i]+128>>8,e[i]-=256*n;e[i]+=n,e[r]=0}for(n=0,i=0;i<32;i++)e[i]+=n-(e[31]>>4)*gt[i],n=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=n*gt[i];for(r=0;r<32;r++)e[r+1]+=e[r]>>8,t[r]=255&e[r]}function q(t){var e,n=new Float64Array(64);for(e=0;e<64;e++)n[e]=t[e];for(e=0;e<64;e++)t[e]=0;J(t,n)}function V(t,e,n,r){var i,o,u=new Uint8Array(64),a=new Uint8Array(64),s=new Uint8Array(64),c=new Float64Array(64),f=[tt(),tt(),tt(),tt()];N(u,r,32),u[0]&=248,u[31]&=127,u[31]|=64;var h=n+64;for(i=0;i<n;i++)t[64+i]=e[i];for(i=0;i<32;i++)t[32+i]=u[32+i];for(N(s,t.subarray(32),n+32),q(s),z(f,s),D(t,f),i=32;i<64;i++)t[i]=r[i];for(N(a,t,n+64),q(a),i=0;i<64;i++)c[i]=0;for(i=0;i<32;i++)c[i]=s[i];for(i=0;i<32;i++)for(o=0;o<32;o++)c[i+o]+=a[i]*u[o];return J(t.subarray(32),c),h}function G(t,e){var n=tt(),r=tt(),i=tt(),o=tt(),u=tt(),a=tt(),s=tt();return m(t[2],ot),T(t[1],e),j(i,t[1]),U(o,i,at),S(i,i,t[2]),E(o,t[2],o),j(u,o),j(a,u),U(s,a,u),U(n,s,i),U(n,n,o),P(n,n),U(n,n,i),U(n,n,o),U(n,n,o),U(t[0],n,o),j(r,t[0]),U(r,r,o),k(r,i)&&U(t[0],t[0],ht),j(r,t[0]),U(r,r,o),k(r,i)?-1:(A(t[0])===e[31]>>7&&S(t[0],it,t[0]),U(t[3],t[0],t[1]),0)}function X(t,e,n,r){var i,u,a=new Uint8Array(32),s=new Uint8Array(64),c=[tt(),tt(),tt(),tt()],f=[tt(),tt(),tt(),tt()];if(u=-1,n<64)return-1;if(G(f,r))return-1;for(i=0;i<n;i++)t[i]=e[i];for(i=0;i<32;i++)t[i+32]=r[i];if(N(s,t,n),q(s),F(c,f,s),z(f,e.subarray(32)),K(c,f),D(a,c),n-=64,o(e,0,a,0)){for(i=0;i<n;i++)t[i]=0;return-1}for(i=0;i<n;i++)t[i]=e[i+64];return u=n}function W(t,e){if(t.length!==mt)throw new Error("bad key size");if(e.length!==bt)throw new Error("bad nonce size")}function Z(t,e){if(t.length!==Tt)throw new Error("bad public key size");if(e.length!==Et)throw new Error("bad secret key size")}function $(){var t,e;for(e=0;e<arguments.length;e++)if("[object Uint8Array]"!==(t=Object.prototype.toString.call(arguments[e])))throw new TypeError("unexpected type "+t+", use Uint8Array")}function Q(t){for(var e=0;e<t.length;e++)t[e]=0}var tt=function(t){var e,n=new Float64Array(16);if(t)for(e=0;e<t.length;e++)n[e]=t[e];return n},et=function(){throw new Error("no PRNG")},nt=new Uint8Array(16),rt=new Uint8Array(32);rt[0]=9;var it=tt(),ot=tt([1]),ut=tt([56129,1]),at=tt([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),st=tt([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),ct=tt([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),ft=tt([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),ht=tt([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]),lt=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),dt=function(t){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var e,n,r,i,o,u,a,s;e=255&t[0]|(255&t[1])<<8,this.r[0]=8191&e,n=255&t[2]|(255&t[3])<<8,this.r[1]=8191&(e>>>13|n<<3),r=255&t[4]|(255&t[5])<<8,this.r[2]=7939&(n>>>10|r<<6),i=255&t[6]|(255&t[7])<<8,this.r[3]=8191&(r>>>7|i<<9),o=255&t[8]|(255&t[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,u=255&t[10]|(255&t[11])<<8,this.r[6]=8191&(o>>>14|u<<2),a=255&t[12]|(255&t[13])<<8,this.r[7]=8065&(u>>>11|a<<5),s=255&t[14]|(255&t[15])<<8,this.r[8]=8191&(a>>>8|s<<8),this.r[9]=s>>>5&127,this.pad[0]=255&t[16]|(255&t[17])<<8,this.pad[1]=255&t[18]|(255&t[19])<<8,this.pad[2]=255&t[20]|(255&t[21])<<8,this.pad[3]=255&t[22]|(255&t[23])<<8,this.pad[4]=255&t[24]|(255&t[25])<<8,this.pad[5]=255&t[26]|(255&t[27])<<8,this.pad[6]=255&t[28]|(255&t[29])<<8,this.pad[7]=255&t[30]|(255&t[31])<<8};dt.prototype.blocks=function(t,e,n){for(var r,i,o,u,a,s,c,f,h,l,d,y,p,v,g,m,b,_,w,k=this.fin?0:2048,A=this.h[0],T=this.h[1],E=this.h[2],S=this.h[3],U=this.h[4],j=this.h[5],x=this.h[6],P=this.h[7],O=this.h[8],I=this.h[9],R=this.r[0],B=this.r[1],M=this.r[2],C=this.r[3],L=this.r[4],N=this.r[5],K=this.r[6],Y=this.r[7],D=this.r[8],F=this.r[9];n>=16;)r=255&t[e+0]|(255&t[e+1])<<8,A+=8191&r,i=255&t[e+2]|(255&t[e+3])<<8,T+=8191&(r>>>13|i<<3),o=255&t[e+4]|(255&t[e+5])<<8,E+=8191&(i>>>10|o<<6),u=255&t[e+6]|(255&t[e+7])<<8,S+=8191&(o>>>7|u<<9),a=255&t[e+8]|(255&t[e+9])<<8,U+=8191&(u>>>4|a<<12),j+=a>>>1&8191,s=255&t[e+10]|(255&t[e+11])<<8,x+=8191&(a>>>14|s<<2),c=255&t[e+12]|(255&t[e+13])<<8,P+=8191&(s>>>11|c<<5),f=255&t[e+14]|(255&t[e+15])<<8,O+=8191&(c>>>8|f<<8),I+=f>>>5|k,h=0,l=h,l+=A*R,l+=T*(5*F),l+=E*(5*D),l+=S*(5*Y),l+=U*(5*K),h=l>>>13,l&=8191,l+=j*(5*N),l+=x*(5*L),l+=P*(5*C),l+=O*(5*M),l+=I*(5*B),h+=l>>>13,l&=8191,d=h,d+=A*B,d+=T*R,d+=E*(5*F),d+=S*(5*D),d+=U*(5*Y),h=d>>>13,d&=8191,d+=j*(5*K),d+=x*(5*N),d+=P*(5*L),d+=O*(5*C),d+=I*(5*M),h+=d>>>13,d&=8191,y=h,y+=A*M,y+=T*B,y+=E*R,y+=S*(5*F),y+=U*(5*D),h=y>>>13,y&=8191,y+=j*(5*Y),y+=x*(5*K),y+=P*(5*N),y+=O*(5*L),y+=I*(5*C),h+=y>>>13,y&=8191,p=h,p+=A*C,p+=T*M,p+=E*B,p+=S*R,p+=U*(5*F),h=p>>>13,p&=8191,p+=j*(5*D),p+=x*(5*Y),p+=P*(5*K),p+=O*(5*N),p+=I*(5*L),h+=p>>>13,p&=8191,v=h,v+=A*L,v+=T*C,v+=E*M,v+=S*B,v+=U*R,h=v>>>13,v&=8191,v+=j*(5*F),v+=x*(5*D),v+=P*(5*Y),v+=O*(5*K),v+=I*(5*N),h+=v>>>13,v&=8191,g=h,g+=A*N,g+=T*L,g+=E*C,g+=S*M,g+=U*B,h=g>>>13,g&=8191,g+=j*R,g+=x*(5*F),g+=P*(5*D),g+=O*(5*Y),g+=I*(5*K),h+=g>>>13,g&=8191,m=h,m+=A*K,m+=T*N,m+=E*L,m+=S*C,m+=U*M,h=m>>>13,m&=8191,m+=j*B,m+=x*R,m+=P*(5*F),m+=O*(5*D),m+=I*(5*Y),h+=m>>>13,m&=8191,b=h,b+=A*Y,b+=T*K,b+=E*N,b+=S*L,b+=U*C,h=b>>>13,b&=8191,b+=j*M,b+=x*B,b+=P*R,b+=O*(5*F),b+=I*(5*D),h+=b>>>13,b&=8191,_=h,_+=A*D,_+=T*Y,_+=E*K,_+=S*N,_+=U*L,h=_>>>13,_&=8191,_+=j*C,_+=x*M,_+=P*B,_+=O*R,_+=I*(5*F),h+=_>>>13,_&=8191,w=h,w+=A*F,w+=T*D,w+=E*Y,w+=S*K,w+=U*N,h=w>>>13,w&=8191,w+=j*L,w+=x*C,w+=P*M,w+=O*B,w+=I*R,h+=w>>>13,w&=8191,h=(h<<2)+h|0,h=h+l|0,l=8191&h,h>>>=13,d+=h,A=l,T=d,E=y,S=p,U=v,j=g,x=m,P=b,O=_,I=w,e+=16,n-=16;this.h[0]=A,this.h[1]=T,this.h[2]=E,this.h[3]=S,this.h[4]=U,this.h[5]=j,this.h[6]=x,this.h[7]=P,this.h[8]=O,this.h[9]=I},dt.prototype.finish=function(t,e){var n,r,i,o,u=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=n,n=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,u[0]=this.h[0]+5,n=u[0]>>>13,u[0]&=8191,o=1;o<10;o++)u[o]=this.h[o]+n,n=u[o]>>>13,u[o]&=8191;for(u[9]-=8192,r=(1^n)-1,o=0;o<10;o++)u[o]&=r;for(r=~r,o=0;o<10;o++)this.h[o]=this.h[o]&r|u[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;t[e+0]=this.h[0]>>>0&255,t[e+1]=this.h[0]>>>8&255,t[e+2]=this.h[1]>>>0&255,t[e+3]=this.h[1]>>>8&255,t[e+4]=this.h[2]>>>0&255,t[e+5]=this.h[2]>>>8&255,t[e+6]=this.h[3]>>>0&255,t[e+7]=this.h[3]>>>8&255,t[e+8]=this.h[4]>>>0&255,t[e+9]=this.h[4]>>>8&255,t[e+10]=this.h[5]>>>0&255,t[e+11]=this.h[5]>>>8&255,t[e+12]=this.h[6]>>>0&255,t[e+13]=this.h[6]>>>8&255,t[e+14]=this.h[7]>>>0&255,t[e+15]=this.h[7]>>>8&255},dt.prototype.update=function(t,e,n){var r,i;if(this.leftover){for(i=16-this.leftover,i>n&&(i=n),r=0;r<i;r++)this.buffer[this.leftover+r]=t[e+r];if(n-=i,e+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(i=n-n%16,this.blocks(t,e,i),e+=i,n-=i),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=t[e+r];this.leftover+=n}};var yt=v,pt=g,vt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],gt=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),mt=32,bt=24,_t=32,wt=16,kt=32,At=32,Tt=32,Et=32,St=32,Ut=bt,jt=_t,xt=wt,Pt=64,Ot=32,It=64,Rt=32,Bt=64;t.lowlevel={crypto_core_hsalsa20:c,crypto_stream_xor:d,crypto_stream:l,crypto_stream_salsa20_xor:f,crypto_stream_salsa20:h,crypto_onetimeauth:y,crypto_onetimeauth_verify:p,crypto_verify_16:i,crypto_verify_32:o,crypto_secretbox:v,crypto_secretbox_open:g,crypto_scalarmult:O,crypto_scalarmult_base:I,crypto_box_beforenm:B,crypto_box_afternm:yt,crypto_box:M,crypto_box_open:C,crypto_box_keypair:R,crypto_hash:N,crypto_sign:V,crypto_sign_keypair:H,crypto_sign_open:X,crypto_secretbox_KEYBYTES:mt,crypto_secretbox_NONCEBYTES:bt,crypto_secretbox_ZEROBYTES:_t,crypto_secretbox_BOXZEROBYTES:wt,crypto_scalarmult_BYTES:kt,crypto_scalarmult_SCALARBYTES:At,crypto_box_PUBLICKEYBYTES:Tt,crypto_box_SECRETKEYBYTES:Et,crypto_box_BEFORENMBYTES:St,crypto_box_NONCEBYTES:Ut,crypto_box_ZEROBYTES:jt,crypto_box_BOXZEROBYTES:xt,crypto_sign_BYTES:Pt,crypto_sign_PUBLICKEYBYTES:Ot,crypto_sign_SECRETKEYBYTES:It,crypto_sign_SEEDBYTES:Rt,crypto_hash_BYTES:Bt},t.util||(t.util={},t.util.decodeUTF8=t.util.encodeUTF8=t.util.encodeBase64=t.util.decodeBase64=function(){throw new Error("nacl.util moved into separate package: https://github.com/dchest/tweetnacl-util-js")}),t.randomBytes=function(t){var e=new Uint8Array(t);return et(e,t),e},t.secretbox=function(t,e,n){$(t,e,n),W(n,e);for(var r=new Uint8Array(_t+t.length),i=new Uint8Array(r.length),o=0;o<t.length;o++)r[o+_t]=t[o];return v(i,r,r.length,e,n),i.subarray(wt)},t.secretbox.open=function(t,e,n){$(t,e,n),W(n,e);for(var r=new Uint8Array(wt+t.length),i=new Uint8Array(r.length),o=0;o<t.length;o++)r[o+wt]=t[o];return!(r.length<32)&&(0===g(i,r,r.length,e,n)&&i.subarray(_t))},t.secretbox.keyLength=mt,t.secretbox.nonceLength=bt,t.secretbox.overheadLength=wt,t.scalarMult=function(t,e){if($(t,e),t.length!==At)throw new Error("bad n size");if(e.length!==kt)throw new Error("bad p size");var n=new Uint8Array(kt);return O(n,t,e),n},t.scalarMult.base=function(t){if($(t),t.length!==At)throw new Error("bad n size");var e=new Uint8Array(kt);return I(e,t),e},t.scalarMult.scalarLength=At,t.scalarMult.groupElementLength=kt,t.box=function(e,n,r,i){var o=t.box.before(r,i);return t.secretbox(e,n,o)},t.box.before=function(t,e){$(t,e),Z(t,e);var n=new Uint8Array(St);return B(n,t,e),n},t.box.after=t.secretbox,t.box.open=function(e,n,r,i){var o=t.box.before(r,i);return t.secretbox.open(e,n,o)},t.box.open.after=t.secretbox.open,t.box.keyPair=function(){var t=new Uint8Array(Tt),e=new Uint8Array(Et);return R(t,e),{publicKey:t,secretKey:e}},t.box.keyPair.fromSecretKey=function(t){if($(t),t.length!==Et)throw new Error("bad secret key size");var e=new Uint8Array(Tt);return I(e,t),{publicKey:e,secretKey:new Uint8Array(t)}},t.box.publicKeyLength=Tt,t.box.secretKeyLength=Et,t.box.sharedKeyLength=St,t.box.nonceLength=Ut,t.box.overheadLength=t.secretbox.overheadLength,t.sign=function(t,e){if($(t,e),e.length!==It)throw new Error("bad secret key size");var n=new Uint8Array(Pt+t.length);return V(n,t,t.length,e),n},t.sign.open=function(t,e){if(2!==arguments.length)throw new Error("nacl.sign.open accepts 2 arguments; did you mean to use nacl.sign.detached.verify?");if($(t,e),e.length!==Ot)throw new Error("bad public key size");var n=new Uint8Array(t.length),r=X(n,t,t.length,e);if(r<0)return null;for(var i=new Uint8Array(r),o=0;o<i.length;o++)i[o]=n[o];return i},t.sign.detached=function(e,n){for(var r=t.sign(e,n),i=new Uint8Array(Pt),o=0;o<i.length;o++)i[o]=r[o];return i},t.sign.detached.verify=function(t,e,n){if($(t,e,n),e.length!==Pt)throw new Error("bad signature size");if(n.length!==Ot)throw new Error("bad public key size");var r,i=new Uint8Array(Pt+t.length),o=new Uint8Array(Pt+t.length);for(r=0;r<Pt;r++)i[r]=e[r];for(r=0;r<t.length;r++)i[r+Pt]=t[r];return X(o,i,i.length,n)>=0},t.sign.keyPair=function(){var t=new Uint8Array(Ot),e=new Uint8Array(It);return H(t,e),{publicKey:t,secretKey:e}},t.sign.keyPair.fromSecretKey=function(t){if($(t),t.length!==It)throw new Error("bad secret key size");for(var e=new Uint8Array(Ot),n=0;n<e.length;n++)e[n]=t[32+n];return{publicKey:e,secretKey:new Uint8Array(t)}},t.sign.keyPair.fromSeed=function(t){if($(t),t.length!==Rt)throw new Error("bad seed size");for(var e=new Uint8Array(Ot),n=new Uint8Array(It),r=0;r<32;r++)n[r]=t[r];return H(e,n,!0),{publicKey:e,secretKey:n}},t.sign.publicKeyLength=Ot,t.sign.secretKeyLength=It,t.sign.seedLength=Rt,t.sign.signatureLength=Pt,t.hash=function(t){$(t);var e=new Uint8Array(Bt);return N(e,t,t.length),e},t.hash.hashLength=Bt,t.verify=function(t,e){return $(t,e),0!==t.length&&0!==e.length&&(t.length===e.length&&0===r(t,0,e,0,t.length))},t.setPRNG=function(t){et=t},function(){var e="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(e&&e.getRandomValues){var r=65536;t.setPRNG(function(t,n){var i,o=new Uint8Array(n);for(i=0;i<n;i+=r)e.getRandomValues(o.subarray(i,i+Math.min(n-i,r)));for(i=0;i<n;i++)t[i]=o[i];Q(o)})}else e=n(7),e&&e.randomBytes&&t.setPRNG(function(t,n){var r,i=e.randomBytes(n);for(r=0;r<n;r++)t[r]=i[r];Q(i)})}()}("undefined"!=typeof t&&t.exports?t.exports:self.nacl=self.nacl||{})},function(t,e){},function(t,e,n){var r;!function(e,i){var o={};i(o);var u=o["default"];for(var a in o)u[a]=o[a];"object"==typeof t&&"object"==typeof t.exports?t.exports=u:(r=function(){return u}.call(o,n,o,t),!(void 0!==r&&(t.exports=r)))}(this,function(t){"use strict";function e(t,e,n,r,i){for(var u,a,s,c,f,h,l,d,y,p,v,g,m;i>=64;){for(u=e[0],a=e[1],s=e[2],c=e[3],f=e[4],h=e[5],l=e[6],d=e[7],p=0;p<16;p++)v=r+4*p,t[p]=(255&n[v])<<24|(255&n[v+1])<<16|(255&n[v+2])<<8|255&n[v+3];for(p=16;p<64;p++)y=t[p-2],g=(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10,y=t[p-15],m=(y>>>7|y<<25)^(y>>>18|y<<14)^y>>>3,t[p]=(g+t[p-7]|0)+(m+t[p-16]|0);for(p=0;p<64;p++)g=(((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&h^~f&l)|0)+(d+(o[p]+t[p]|0)|0)|0,m=((u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10))+(u&a^u&s^a&s)|0,d=l,l=h,h=f,f=c+g|0,c=s,s=a,a=u,u=g+m|0;e[0]+=u,e[1]+=a,e[2]+=s,e[3]+=c,e[4]+=f,e[5]+=h,e[6]+=l,e[7]+=d,r+=64,i-=64}return r}function n(t){var e=(new u).update(t),n=e.digest();return e.clean(),n}function r(t,e){var n=new a(t).update(e),r=n.digest();return n.clean(),r}function i(t,e,n,r){for(var i=new a(t),o=i.digestLength,u=new Uint8Array(4),s=new Uint8Array(o),c=new Uint8Array(o),f=new Uint8Array(r),h=0;h*o<r;h++){var l=h+1;u[0]=l>>>24&255,u[1]=l>>>16&255,u[2]=l>>>8&255,u[3]=l>>>0&255,i.reset(),i.update(e),i.update(u),i.finish(c);for(var d=0;d<o;d++)s[d]=c[d];for(var d=2;d<=n;d++){i.reset(),i.update(c).finish(c);for(var y=0;y<o;y++)s[y]^=c[y]}for(var d=0;d<o&&h*o+d<r;d++)f[h*o+d]=s[d]}for(var h=0;h<o;h++)s[h]=c[h]=0;for(var h=0;h<4;h++)u[h]=0;return i.clean(),f}t.digestLength=32,t.blockSize=64;var o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),u=function(){function n(){this.digestLength=t.digestLength,this.blockSize=t.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return n.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},n.prototype.clean=function(){for(var t=0;t<this.buffer.length;t++)this.buffer[t]=0;for(var t=0;t<this.temp.length;t++)this.temp[t]=0;this.reset()},n.prototype.update=function(t,n){if(void 0===n&&(n=t.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var r=0;if(this.bytesHashed+=n,this.bufferLength>0){for(;this.bufferLength<64&&n>0;)this.buffer[this.bufferLength++]=t[r++],n--;64===this.bufferLength&&(e(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(n>=64&&(r=e(this.temp,this.state,t,r,n),n%=64);n>0;)this.buffer[this.bufferLength++]=t[r++],n--;return this},n.prototype.finish=function(t){if(!this.finished){var n=this.bytesHashed,r=this.bufferLength,i=n/536870912|0,o=n<<3,u=n%64<56?64:128;this.buffer[r]=128;for(var a=r+1;a<u-8;a++)this.buffer[a]=0;this.buffer[u-8]=i>>>24&255,this.buffer[u-7]=i>>>16&255,this.buffer[u-6]=i>>>8&255,this.buffer[u-5]=i>>>0&255,this.buffer[u-4]=o>>>24&255,this.buffer[u-3]=o>>>16&255,this.buffer[u-2]=o>>>8&255,this.buffer[u-1]=o>>>0&255,e(this.temp,this.state,this.buffer,0,u),this.finished=!0}for(var a=0;a<8;a++)t[4*a+0]=this.state[a]>>>24&255,t[4*a+1]=this.state[a]>>>16&255,t[4*a+2]=this.state[a]>>>8&255,t[4*a+3]=this.state[a]>>>0&255;return this},n.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},n.prototype._saveState=function(t){for(var e=0;e<this.state.length;e++)t[e]=this.state[e]},n.prototype._restoreState=function(t,e){for(var n=0;n<this.state.length;n++)this.state[n]=t[n];this.bytesHashed=e,this.finished=!1,this.bufferLength=0},n}();t.Hash=u;var a=function(){function t(t){this.inner=new u,this.outer=new u,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var e=new Uint8Array(this.blockSize);if(t.length>this.blockSize)(new u).update(t).finish(e).clean();else for(var n=0;n<t.length;n++)e[n]=t[n];for(var n=0;n<e.length;n++)e[n]^=54;this.inner.update(e);for(var n=0;n<e.length;n++)e[n]^=106;this.outer.update(e),this.istate=new Uint32Array(this.digestLength/4),this.ostate=new Uint32Array(this.digestLength/4),this.inner._saveState(this.istate),this.outer._saveState(this.ostate);for(var n=0;n<e.length;n++)e[n]=0}return t.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},t.prototype.clean=function(){for(var t=0;t<this.istate.length;t++)this.ostate[t]=this.istate[t]=0;this.inner.clean(),this.outer.clean()},t.prototype.update=function(t){return this.inner.update(t),this},t.prototype.finish=function(t){return this.outer.finished?this.outer.finish(t):(this.inner.finish(t),this.outer.update(t,this.digestLength).finish(t)),this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t}();t.HMAC=a,t.hash=n,t.__esModule=!0,t["default"]=n,t.hmac=r,t.pbkdf2=i})},function(t,e,n){t.exports=n(10)["default"],t.exports["default"]=t.exports},function(t,e,n){(function(t){"use strict";function r(e,n){return void 0===n&&(n="utf8"),u(t.isBuffer(e)?e.toString("base64"):new t(e,n).toString("base64"))}function i(e,n){return void 0===n&&(n="utf8"),new t(o(e),"base64").toString(n)}function o(t){return t=t.toString(),s["default"](t).replace(/\-/g,"+").replace(/_/g,"/")}function u(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function a(e){return new t(o(e),"base64")}var s=n(11),c=r;c.encode=r,c.decode=i,c.toBase64=o,c.fromBase64=u,c.toBuffer=a,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=c}).call(e,n(2).Buffer)},function(t,e,n){(function(t){"use strict";function n(e){var n=4,r=e.length,i=r%n;if(!i)return e;var o=r,u=n-i,a=r+u,s=new t(a);for(s.write(e);u--;)s.write("=",o++);return s.toString()}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n}).call(e,n(2).Buffer)},function(t,e,n){var r="undefined"!=typeof JSON?JSON:n(13);t.exports=function(t,e){e||(e={}),"function"==typeof e&&(e={cmp:e});var n=e.space||"";"number"==typeof n&&(n=Array(n+1).join(" "));var u="boolean"==typeof e.cycles&&e.cycles,a=e.replacer||function(t,e){return e},s=e.cmp&&function(t){return function(e){return function(n,r){var i={key:n,value:e[n]},o={key:r,value:e[r]};return t(i,o)}}}(e.cmp),c=[];return function f(t,e,h,l){var d=n?"\n"+new Array(l+1).join(n):"",y=n?": ":":";if(h&&h.toJSON&&"function"==typeof h.toJSON&&(h=h.toJSON()),h=a.call(t,e,h),void 0!==h){if("object"!=typeof h||null===h)return r.stringify(h);if(i(h)){for(var p=[],v=0;v<h.length;v++){var g=f(h,v,h[v],l+1)||r.stringify(null);p.push(d+n+g)}return"["+p.join(",")+d+"]"}if(c.indexOf(h)!==-1){if(u)return r.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}c.push(h);for(var m=o(h).sort(s&&s(h)),p=[],v=0;v<m.length;v++){var e=m[v],b=f(h,e,h[e],l+1);if(b){var _=r.stringify(e)+y+b;p.push(d+n+_)}}return c.splice(c.indexOf(h),1),"{"+p.join(",")+d+"}"}}({"":t},"",t,0)};var i=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},o=Object.keys||function(t){var e=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var r in t)e.call(t,r)&&n.push(r);return n}},function(t,e,n){e.parse=n(14),e.stringify=n(15)},function(t,e){var n,r,i,o,u={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},a=function(t){throw{name:"SyntaxError",message:t,at:n,text:i}},s=function(t){return t&&t!==r&&a("Expected '"+t+"' instead of '"+r+"'"),r=i.charAt(n),n+=1,r},c=function(){var t,e="";for("-"===r&&(e="-",s("-"));r>="0"&&r<="9";)e+=r,s();if("."===r)for(e+=".";s()&&r>="0"&&r<="9";)e+=r;if("e"===r||"E"===r)for(e+=r,s(),"-"!==r&&"+"!==r||(e+=r,s());r>="0"&&r<="9";)e+=r,s();return t=+e,isFinite(t)?t:void a("Bad number")},f=function(){var t,e,n,i="";if('"'===r)for(;s();){if('"'===r)return s(),i;if("\\"===r)if(s(),"u"===r){for(n=0,e=0;e<4&&(t=parseInt(s(),16),isFinite(t));e+=1)n=16*n+t;i+=String.fromCharCode(n)}else{if("string"!=typeof u[r])break;i+=u[r]}else i+=r}a("Bad string")},h=function(){for(;r&&r<=" ";)s()},l=function(){switch(r){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null}a("Unexpected '"+r+"'")},d=function(){
var t=[];if("["===r){if(s("["),h(),"]"===r)return s("]"),t;for(;r;){if(t.push(o()),h(),"]"===r)return s("]"),t;s(","),h()}}a("Bad array")},y=function(){var t,e={};if("{"===r){if(s("{"),h(),"}"===r)return s("}"),e;for(;r;){if(t=f(),h(),s(":"),Object.hasOwnProperty.call(e,t)&&a('Duplicate key "'+t+'"'),e[t]=o(),h(),"}"===r)return s("}"),e;s(","),h()}}a("Bad object")};o=function(){switch(h(),r){case"{":return y();case"[":return d();case'"':return f();case"-":return c();default:return r>="0"&&r<="9"?c():l()}},t.exports=function(t,e){var u;return i=t,n=0,r=" ",u=o(),h(),r&&a("Syntax error"),"function"==typeof e?function s(t,n){var r,i,o=t[n];if(o&&"object"==typeof o)for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i=s(o,r),void 0!==i?o[r]=i:delete o[r]);return e.call(t,n,o)}({"":u},""):u}},function(t,e){function n(t){return a.lastIndex=0,a.test(t)?'"'+t.replace(a,function(t){var e=s[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function r(t,e){var a,s,c,f,h,l=i,d=e[t];switch(d&&"object"==typeof d&&"function"==typeof d.toJSON&&(d=d.toJSON(t)),"function"==typeof u&&(d=u.call(e,t,d)),typeof d){case"string":return n(d);case"number":return isFinite(d)?String(d):"null";case"boolean":case"null":return String(d);case"object":if(!d)return"null";if(i+=o,h=[],"[object Array]"===Object.prototype.toString.apply(d)){for(f=d.length,a=0;a<f;a+=1)h[a]=r(a,d)||"null";return c=0===h.length?"[]":i?"[\n"+i+h.join(",\n"+i)+"\n"+l+"]":"["+h.join(",")+"]",i=l,c}if(u&&"object"==typeof u)for(f=u.length,a=0;a<f;a+=1)s=u[a],"string"==typeof s&&(c=r(s,d),c&&h.push(n(s)+(i?": ":":")+c));else for(s in d)Object.prototype.hasOwnProperty.call(d,s)&&(c=r(s,d),c&&h.push(n(s)+(i?": ":":")+c));return c=0===h.length?"{}":i?"{\n"+i+h.join(",\n"+i)+"\n"+l+"}":"{"+h.join(",")+"}",i=l,c}}var i,o,u,a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};t.exports=function(t,e,n){var a;if(i="",o="","number"==typeof n)for(a=0;a<n;a+=1)o+=" ";else"string"==typeof n&&(o=n);if(u=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return r("",{"":t})}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(6),a=r(u),s=n(9),c=r(s),f=function(){function t(){i(this,t)}return o(t,null,[{key:"generateNonce",value:function(){return(0,c["default"])(a["default"].sign.keyPair().publicKey)}},{key:"countDecimals",value:function(t){return Math.floor(t)===t?0:t.toString().split(".")[1].length||0}},{key:"reject",value:function(t,e){return Promise.reject({type:t.name,error:e,reason:void 0!==e.response&&void 0!==e.response.data?e.response.data:"UNKNOWN"})}}]),t}();e["default"]=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),a=r(u),s=n(18),c=r(s),f=n(19),h=r(f),l=n(22),d=r(l),y=n(23),p=r(y),v=n(24),g=r(v),m=n(25),b=r(m),_=n(20),w=r(_),k=n(52),A=r(k),T=n(53),E=r(T),S=n(54),U=r(S),j=n(55),x=r(j),P=n(16),O=r(P),I=n(27),R=function(){function t(e,n,r){i(this,t),this._id=n,this._keys=r,this._client=new b["default"](e,n,r)}return o(t,[{key:"saveToLocalStorage",value:function(){c["default"].saveMember(this)}},{key:"useAccessToken",value:function(t){this._client.useAccessToken(t)}},{key:"clearAccessToken",value:function(){this._client.clearAccessToken()}},{key:"approveKey",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g["default"].PRIVILEGED;return this._getPreviousHash().then(function(r){return e._client.addKey(r,a["default"].bufferKey(t),n).then(function(t){})})["catch"](function(t){return O["default"].reject(e.approveKey,t)})}},{key:"removeKey",value:function(t){var e=this;return this._getPreviousHash().then(function(n){return e._client.removeKey(n,t).then(function(t){})})["catch"](function(t){return O["default"].reject(e.removeKey,t)})}},{key:"addUsername",value:function(t){var e=this;return this._getPreviousHash().then(function(n){return e._client.addUsername(n,t).then(function(t){})})["catch"](function(t){return O["default"].reject(e.addUsername,t)})}},{key:"removeUsername",value:function(t){var e=this;return this._getPreviousHash().then(function(n){return e._client.removeUsername(n,t).then(function(t){})})["catch"](function(t){return O["default"].reject(e.removeUsername,t)})}},{key:"linkAccounts",value:function(t,e){var n=this;return this._client.linkAccounts(t,e).then(function(t){return t.data.accounts.map(function(t){return new h["default"](n,t)})})["catch"](function(t){return O["default"].reject(n.linkAccounts,t)})}},{key:"getAccounts",value:function(){var t=this;return this._client.getAccounts().then(function(e){return e.data.accounts.map(function(e){return new h["default"](t,e)})})["catch"](function(e){return O["default"].reject(t.getAccounts,e)})}},{key:"subscribeToNotifications",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"IOS";return this._client.subscribeToNotifications(t,n).then(function(t){return new d["default"](t.data.subscriber)})["catch"](function(t){return O["default"].reject(e.subscribeToNotifications,t)})}},{key:"getSubscribers",value:function(){var t=this;return this._client.getSubscribers().then(function(t){return t.data.subscribers.map(function(t){return new d["default"](t)})})["catch"](function(e){return O["default"].reject(t.getSubscribers,e)})}},{key:"getSubscriber",value:function(t){var e=this;return this._client.getSubscriber(t).then(function(t){return new d["default"](t.data.subscriber)})["catch"](function(t){return O["default"].reject(e.getSubscriber,t)})}},{key:"unsubscribeFromNotifications",value:function(t){var e=this;return this._client.unsubscribeFromNotifications(t)["catch"](function(t){return O["default"].reject(e.unsubscribeFromNotifications,t)})}},{key:"addAddress",value:function(t,e){var n=this;return this._client.addAddress(t,e).then(function(t){return new p["default"](t.data.address)})["catch"](function(t){return O["default"].reject(n.addAddress,t)})}},{key:"getAddress",value:function(t){var e=this;return this._client.getAddress(t).then(function(t){return new p["default"](t.data.address)})["catch"](function(t){return O["default"].reject(e.getAddress,t)})}},{key:"getAddresses",value:function(){var t=this;return this._client.getAddresses().then(function(t){return t.data.addresses.map(function(t){return new p["default"](t)})})["catch"](function(e){return O["default"].reject(t.getAddresses,e)})}},{key:"getAllUsernames",value:function(){var t=this;return this._getMember().then(function(t){return t.usernames})["catch"](function(e){return O["default"].reject(t.getAllUsernames,e)})}},{key:"createAccessToken",value:function(t,e){var n=this,r=new U["default"]((void 0),this,t,e);return this._client.createToken(r.json).then(function(t){return U["default"].createFromToken(t.data.token)})["catch"](function(t){return O["default"].reject(n.createAccessToken,t)})}},{key:"createAddressesAccessToken",value:function(t){var e=this,n=U["default"].addressesAccessToken(this,t);return this._client.createToken(n.json).then(function(t){return U["default"].createFromToken(t.data.token)})["catch"](function(t){return O["default"].reject(e.createAddressesAccessToken,t)})}},{key:"createAddressAccessToken",value:function(t,e){var n=this,r=U["default"].addressAccessToken(this,t,e);return this._client.createToken(r.json).then(function(t){return U["default"].createFromToken(t.data.token)})["catch"](function(t){return O["default"].reject(n.createAddressAccessTokenn,t)})}},{key:"createAccountsAccessToken",value:function(t){var e=this,n=U["default"].accountsAccessToken(this,t);return this._client.createToken(n.json).then(function(t){return U["default"].createFromToken(t.data.token)})["catch"](function(t){return O["default"].reject(e.createAccountsAccessToken,t)})}},{key:"createAccountAccessToken",value:function(t,e){var n=this,r=U["default"].accountAccessToken(this,t,e);return this._client.createToken(r.json).then(function(t){return U["default"].createFromToken(t.data.token)})["catch"](function(t){return O["default"].reject(n.createAccountAccessToken,t)})}},{key:"createAccountsTransactionsAccessToken",value:function(t){var e=this,n=U["default"].accountsTransactionsAccessToken(this,t);return this._client.createToken(n.json).then(function(t){return U["default"].createFromToken(t.data.token)})["catch"](function(t){return O["default"].reject(e.createAccountsTransactionsAccessToken,t)})}},{key:"createAccountTransactionsAccessToken",value:function(t,e){var n=this,r=U["default"].accountTransactionsAccessToken(this,t,e);return this._client.createToken(r.json).then(function(t){return U["default"].createFromToken(t.data.token)})["catch"](function(t){return O["default"].reject(n.createAccountTransactionsAccessToken,t)})}},{key:"createBalancesAccessToken",value:function(t){var e=this,n=U["default"].balancesAccessToken(this,t);return this._client.createToken(n.json).then(function(t){return U["default"].createFromToken(t.data.token)})["catch"](function(t){return O["default"].reject(e.balancesAccessToken,t)})}},{key:"createBalanceAccessToken",value:function(t,e){var n=this,r=U["default"].balanceAccessToken(this,t,e);return this._client.createToken(r.json).then(function(t){return U["default"].createFromToken(t.data.token)})["catch"](function(t){return O["default"].reject(n.createBalanceAccessToken,t)})}},{key:"createToken",value:function(t,e,n,r){var i=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,u=E["default"].create(this,t,e,n,r,o);return this._client.createToken(u.json).then(function(t){return E["default"].createFromToken(t.data.token)})["catch"](function(t){return O["default"].reject(i.createToken,t)})}},{key:"getToken",value:function(t){var e=this;return this._client.getToken(t).then(function(t){return void 0!==t.data.token.payload.access?U["default"].createFromToken(t.data.token):E["default"].createFromToken(t.data.token)})["catch"](function(t){return O["default"].reject(e.getToken,t)})}},{key:"getTransferTokens",value:function(t,e){var n=this;return this._client.getTokens("TRANSFER",t,e).then(function(t){return new w["default"](void 0===t.data.tokens?[]:t.data.tokens.map(function(t){return E["default"].createFromToken(t)}),t.data.offset)})["catch"](function(t){return O["default"].reject(n.getTransferTokens,t)})}},{key:"getAccessTokens",value:function(t,e){var n=this;return this._client.getTokens("ACCESS",t,e).then(function(t){return new w["default"](void 0===t.data.tokens?[]:t.data.tokens.map(function(t){return U["default"].createFromToken(t)}),t.data.offset)})["catch"](function(t){return O["default"].reject(n.getAccessTokens,t)})}},{key:"endorseToken",value:function(t){var e=this;return this._resolveToken(t).then(function(n){return e._client.endorseToken(n).then(function(e){return"string"==typeof t||t instanceof String||(t.payloadSignatures=e.data.result.token.payloadSignatures),new A["default"](e.data.result,t)})})["catch"](function(t){return O["default"].reject(e.endorseToken,t)})}},{key:"cancelToken",value:function(t){var e=this;return this._resolveToken(t).then(function(n){return e._client.cancelToken(n).then(function(e){return"string"==typeof t||t instanceof String||(t.payloadSignatures=e.data.result.token.payloadSignatures),new A["default"](e.data.result,t)})})["catch"](function(t){return O["default"].reject(e.cancelToken,t)})}},{key:"createTransfer",value:function(t,e,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return this._resolveToken(t).then(function(t){if(void 0===e&&(e=t.payload.transfer.amount),void 0===n&&(n=t.payload.transfer.currency),O["default"].countDecimals(e)>I.maxDecimals)throw new Error("Number of decimals in amount should be at most "+I.maxDecimals);return r._client.createTransfer(t,e,n,i).then(function(t){return new x["default"](t.data.transfer)})})["catch"](function(t){return O["default"].reject(r.createTransfer,t)})}},{key:"getTransfer",value:function(t){var e=this;return this._client.getTransfer(t).then(function(t){return new x["default"](t.data.transfer)})["catch"](function(t){return O["default"].reject(e.getTransfer,t)})}},{key:"getTransfers",value:function(t,e,n){var r=this;return this._client.getTransfers(t,e,n).then(function(t){return new w["default"](t.data.transfers.map(function(t){return new x["default"](t)}),t.data.offset)})["catch"](function(t){return O["default"].reject(r.getTransfers,t)})}},{key:"getPublicKeys",value:function(){var t=this;return this._getMember().then(function(t){return t.keys})["catch"](function(e){return O["default"].reject(t.getPublicKeys,e)})}},{key:"_getPreviousHash",value:function(){var t=this;return this._getMember().then(function(t){return t.lastHash})["catch"](function(e){return O["default"].reject(t._getPreviousHash,e)})}},{key:"_getMember",value:function(){var t=this;return this._client.getMember().then(function(t){return t.data.member})["catch"](function(e){return O["default"].reject(t._getMember,e)})}},{key:"_resolveToken",value:function(t){var e=this;return new Promise(function(n,r){"string"==typeof t||t instanceof String?e.getToken(t).then(function(t){return n(t)}):n(t)})}},{key:"id",get:function(){return this._id}},{key:"keys",get:function(){return this._keys}}]),t}();e["default"]=R},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(17),a=r(u),s=n(1),c=r(s),f=function(){function t(){i(this,t)}return o(t,null,[{key:"saveMember",value:function(t){var e={memberId:t.id,keys:{publicKey:c["default"].strKey(t.keys.publicKey),secretKey:c["default"].strKey(t.keys.secretKey),keyId:t.keys.keyId}};window.localStorage.member=JSON.stringify(e)}},{key:"loadMember",value:function(t){var e=JSON.parse(window.localStorage.member),n={publicKey:c["default"].bufferKey(e.keys.publicKey),secretKey:c["default"].bufferKey(e.keys.secretKey),keyId:e.keys.keyId};return new a["default"](t,e.memberId,n)}}]),t}();e["default"]=f},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(20),a=r(u),s=n(21),c=r(s),f=n(16),h=r(f),l=function(){function t(e,n){i(this,t),this._member=e,this._id=n.id,this._name=n.name}return o(t,[{key:"getBalance",value:function(){var t=this;return this._member._client.getBalance(this._id).then(function(t){return t.data})["catch"](function(e){return h["default"].reject(t.getBalance,e)})}},{key:"getTransaction",value:function(t){var e=this;return this._member._client.getTransaction(this._id,t).then(function(t){return new c["default"](t.data.transaction)})["catch"](function(t){return h["default"].reject(e.getTransaction,t)})}},{key:"getTransactions",value:function(t,e){var n=this;return this._member._client.getTransactions(this._id,t,e).then(function(t){return new a["default"](t.data.transactions.map(function(t){return new c["default"](t)}),t.data.offset)})["catch"](function(t){return h["default"].reject(n.getTransactions,t)})}},{key:"member",get:function(){return this._member}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}}]),t}();e["default"]=l},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e,r){n(this,t),this._data=e,this._offset=r}return r(t,[{key:"data",get:function(){return this._data}},{key:"offset",get:function(){return this._offset}}]),t}();e["default"]=i},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){n(this,t),this._id=e.id,this._type=e.type,this._currency=e.amount.currency,this._amount=parseFloat(e.amount.value),this._description=e.description,this._tokenId=e.tokenId,this._tokenTransferId=e.tokenTransferId}return r(t,[{key:"id",get:function(){return this._id}},{key:"type",get:function(){return this._type}},{key:"amount",get:function(){return this._amount}},{key:"currency",get:function(){return this._currency}},{key:"description",get:function(){return this._description}},{key:"tokenId",get:function(){return this._tokenId}},{key:"tokenTransferId",get:function(){return this._tokenTransferId}}]),t}();e["default"]=i},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){n(this,t),this._id=e.id,this._target=e.target,this._platform=e.platform}return r(t,[{key:"id",get:function(){return this._id}},{key:"target",get:function(){return this._target}},{key:"platform",get:function(){return this._platform}}]),t}();e["default"]=i},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){n(this,t),this._id=e.id,this._name=e.name,this._address=e.address,this._addressSignature=e.addressSignature}return r(t,[{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"address",get:function(){return this._address}},{key:"addressSignature",get:function(){return this._addressSignature}}]),t}();e["default"]=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={PRIVILEGED:"PRIVILEGED",STANDARD:"STANDARD",LOW:"LOW"}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),a=r(u),s=n(16),c=r(s),f=n(26),h=r(f),l=n(28),d=r(l),y=n(27),p=n(24),v=r(p),g=n(12),m=n(29),b=function(){function t(e,n,r){i(this,t),this._instance=m.create({baseURL:y.urls[e]}),this._memberId=n,this._keys=r,this._context=new d["default"],this._authHeader=new h["default"](y.urls[e],r),this._resetInterceptor()}return o(t,[{key:"_resetInterceptor",value:function(){var t=this;this._instance.interceptors.request.eject(this._interceptor),this._interceptor=this._instance.interceptors.request.use(function(e){return t._authHeader.addAuthorizationHeaderMemberId(t._memberId,e,t._context),e})}},{key:"useAccessToken",value:function(t){this._context.onBehalfOf=t,this._resetInterceptor()}},{key:"clearAccessToken",value:function(){this._context.onBehalfOf=void 0,this._resetInterceptor()}},{key:"subscribeToNotifications",value:function(t,e){var n={target:t,platform:e},r={method:"post",url:"/subscribers",data:n};return this._instance(r)}},{key:"getSubscribers",value:function(){var t={method:"get",url:"/subscribers"};return this._instance(t)}},{key:"getSubscriber",value:function(t){var e={method:"get",url:"/subscribers/"+t};return this._instance(e)}},{key:"unsubscribeFromNotifications",value:function(t){var e={method:"delete",url:"/subscribers/"+t};return this._instance(e)}},{key:"addAddress",value:function(t,e){var n={name:t,address:e,addressSignature:{memberId:this._memberId,keyId:this._keys.keyId,signature:a["default"].signJson(e,this._keys)}},r={method:"post",url:"/addresses",data:n};return this._instance(r)}},{key:"getAddress",value:function(t){var e={method:"get",url:"/addresses/"+t};return this._instance(e)}},{key:"getAddresses",value:function(){var t={method:"get",url:"/addresses"};return this._instance(t)}},{key:"linkAccounts",value:function(t,e){var n={bankId:t,accountLinkPayloads:e},r={method:"post",url:"/accounts",data:n};return this._instance(r)}},{key:"getAccounts",value:function(){var t={method:"get",url:"/accounts"};return this._instance(t)}},{key:"setAccountName",value:function(t,e){var n={method:"patch",url:"/accounts/"+t+"?name="+e};return this._instance(n)}},{key:"getBalance",value:function(t){var e={method:"get",url:"/accounts/"+t+"/balance"};return this._instance(e)}},{key:"getTransaction",value:function(t,e){var n={method:"get",url:"/accounts/"+t+"/transactions/"+e};return this._instance(n)}},{key:"getTransactions",value:function(t,e,n){var r={method:"get",url:"/accounts/"+t+"/transactions?offset="+e+"&limit="+n};return this._instance(r)}},{key:"createToken",value:function(t){var e={method:"post",url:"/tokens",data:{payload:t}};return this._instance(e)}},{key:"endorseToken",value:function(t){return this._tokenOperation(t,"endorse","endorsed")}},{key:"cancelToken",value:function(t){return this._tokenOperation(t,"cancel","cancelled")}},{key:"_tokenOperation",value:function(t,e,n){var r=g(t.json)+("."+n),i={tokenId:t.id,signature:{memberId:this._memberId,keyId:this._keys.keyId,signature:a["default"].sign(r,this._keys)}},o=t.id,u={method:"put",url:"/tokens/"+o+"/"+e,data:i};return this._instance(u)}},{key:"createTransfer",value:function(t,e,n,r){var i={nonce:c["default"].generateNonce(),tokenId:t.id,amount:{value:e.toString(),currency:n},transfer:t.transfer};void 0!==r&&r.length>0&&(i.destinations=r);var o={payload:i,payloadSignature:{memberId:this._memberId,keyId:this._keys.keyId,signature:a["default"].signJson(i,this._keys)}},u={method:"post",url:"/transfers",data:o};return this._instance(u)}},{key:"getToken",value:function(t){var e={method:"get",url:"/tokens/"+t};return this._instance(e)}},{key:"getTokens",value:function(t,e,n){var r={method:"get",url:"/tokens?type="+t+"&offset="+e+"&limit="+n};return this._instance(r)}},{key:"getTransfer",value:function(t){var e={method:"get",url:"/transfers/"+t};return this._instance(e)}},{key:"getTransfers",value:function(t,e,n){var r={method:"get",url:"/transfers?tokenId="+t+"&offset="+e+"&limit="+n};return this._instance(r)}},{key:"getMember",value:function(){var t={method:"get",url:"/members"};return this._instance(t)}},{key:"addKey",value:function(t,e,n){var r={memberId:this._memberId,addKey:{publicKey:a["default"].strKey(e)}};return n!==v["default"].PRIVILEGED&&(r.addKey.level=n),this._memberUpdate(r,t)}},{key:"removeKey",value:function(t,e){var n={memberId:this._memberId,removeKey:{keyId:e}};return this._memberUpdate(n,t)}},{key:"addUsername",value:function(t,e){var n={memberId:this._memberId,addUsername:{username:e}};return this._memberUpdate(n,t)}},{key:"removeUsername",value:function(t,e){var n={memberId:this._memberId,removeUsername:{username:e}};return this._memberUpdate(n,t)}},{key:"_memberUpdate",value:function(t,e){""!==e&&(t.prevHash=e);var n={update:t,updateSignature:{memberId:this._memberId,keyId:this._keys.keyId,signature:a["default"].signJson(t,this._keys)}},r={method:"post",url:"/members/"+this._memberId+"/updates",data:n};return this._instance(r)}}]),t}();e["default"]=b},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(27),a=n(1),s=r(a),c=n(12),f=function(){function t(e,n){i(this,t),this._baseUrl=e,this._keys=n}return o(t,[{key:"addAuthorizationHeaderMemberId",value:function(t,e,n){var r="member-id="+t;this.addAuthorizationHeader(r,e,n)}},{key:"addAuthorizationHeaderUsername",value:function(t,e,n){var r="username="+t;this.addAuthorizationHeader(r,e,n)}},{key:"addAuthorizationHeader",value:function(e,n,r){var i=n.url.replace(this._baseUrl,"");i="/"===i.substring(0,1)?i:i+"/",i="/"===i.substring(i.length-1)?i.substring(0,i.length-1):i,i.indexOf("?")>=0&&(i=i.substring(0,i.indexOf("?")));var o={method:n.method.toUpperCase(),uriHost:this._baseUrl.replace("http://","").replace("https://",""),uriPath:i};void 0!==n.data&&""!==n.data&&(o.requestBody=c(n.data)),n.url.indexOf("?")!==-1&&(o.queryString=n.url.substring(n.url.indexOf("?")+1));var a=s["default"].signJson(o,this._keys),f=u.signatureScheme+" "+e+",key-id="+this._keys.keyId+",signature="+a+t._onBehalfOfHeader(r);n.headers={Authorization:f}}}],[{key:"_onBehalfOfHeader",value:function(t){return void 0!==t&&void 0!==t.onBehalfOf&&""!==t.onBehalfOf?",on-behalf-of="+t.onBehalfOf:""}}]),t}();e["default"]=f},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="Token-Ed25519-SHA512",r={local:"http://localhost:8000",dev:"http://dev.api.token.io",stg:"http://stg.api.token.io",prd:"http://prd.api.token.io"},i="1.0",o="1.0",u="EUR",a=4;e.signatureScheme=n,e.urls=r,e.transferTokenVersion=i,e.accessTokenVersion=o,e.defaultCurrency=u,e.maxDecimals=a},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){n(this,t),this._onBehalfOf=void 0}return r(t,[{key:"onBehalfOf",set:function(t){this._onBehalfOf=t},get:function(){return this._onBehalfOf}}]),t}();e["default"]=i},function(t,e,n){t.exports=n(30)},function(t,e,n){"use strict";function r(t){var e=new u(t),n=o(u.prototype.request,e);return i.extend(n,u.prototype,e),i.extend(n,e),n}var i=n(31),o=n(32),u=n(33),a=r();a.Axios=u,a.create=function(t){return r(t)},a.all=function(t){return Promise.all(t)},a.spread=n(51),t.exports=a,t.exports["default"]=a},function(t,e,n){"use strict";function r(t){return"[object Array]"===A.call(t)}function i(t){return"[object ArrayBuffer]"===A.call(t)}function o(t){return"undefined"!=typeof FormData&&t instanceof FormData}function u(t){var e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer}function a(t){return"string"==typeof t}function s(t){return"number"==typeof t}function c(t){return"undefined"==typeof t}function f(t){return null!==t&&"object"==typeof t}function h(t){return"[object Date]"===A.call(t)}function l(t){return"[object File]"===A.call(t)}function d(t){return"[object Blob]"===A.call(t)}function y(t){return"[object Function]"===A.call(t)}function p(t){return f(t)&&y(t.pipe)}function v(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams}function g(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function m(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}function b(t,e){if(null!==t&&"undefined"!=typeof t)if("object"==typeof t||r(t)||(t=[t]),r(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(null,t[o],o,t)}function _(){function t(t,n){"object"==typeof e[n]&&"object"==typeof t?e[n]=_(e[n],t):e[n]=t}for(var e={},n=0,r=arguments.length;n<r;n++)b(arguments[n],t);return e}function w(t,e,n){return b(e,function(e,r){n&&"function"==typeof e?t[r]=k(e,n):t[r]=e}),t}var k=n(32),A=Object.prototype.toString;t.exports={isArray:r,isArrayBuffer:i,isFormData:o,isArrayBufferView:u,isString:a,isNumber:s,isObject:f,isUndefined:c,isDate:h,isFile:l,isBlob:d,isFunction:y,isStream:p,isURLSearchParams:v,isStandardBrowserEnv:m,forEach:b,merge:_,extend:w,trim:g}},function(t,e){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";function r(t){this.defaults=o.merge(i,t),this.interceptors={request:new u,response:new u}}var i=n(34),o=n(31),u=n(36),a=n(37),s=n(49),c=n(50);r.prototype.request=function(t){"string"==typeof t&&(t=o.merge({url:arguments[0]},arguments[1])),t=o.merge(i,this.defaults,{method:"get"},t),t.baseURL&&!s(t.url)&&(t.url=c(t.baseURL,t.url));var e=[a,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(t){e.unshift(t.fulfilled,t.rejected)}),this.interceptors.response.forEach(function(t){e.push(t.fulfilled,t.rejected)});e.length;)n=n.then(e.shift(),e.shift());return n},o.forEach(["delete","get","head"],function(t){r.prototype[t]=function(e,n){return this.request(o.merge(n||{},{method:t,url:e}))}}),o.forEach(["post","put","patch"],function(t){r.prototype[t]=function(e,n,r){return this.request(o.merge(r||{},{method:t,url:e,data:n}))}}),t.exports=r},function(t,e,n){"use strict";function r(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var i=n(31),o=n(35),u=/^\)\]\}',?\n/,a={"Content-Type":"application/x-www-form-urlencoded"};t.exports={transformRequest:[function(t,e){return o(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(r(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)?(r(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t){t=t.replace(u,"");try{t=JSON.parse(t)}catch(e){}}return t}],headers:{common:{Accept:"application/json, text/plain, */*"
},patch:i.merge(a),post:i.merge(a),put:i.merge(a)},timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}}},function(t,e,n){"use strict";var r=n(31);t.exports=function(t,e){r.forEach(t,function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])})}},function(t,e,n){"use strict";function r(){this.handlers=[]}var i=n(31);r.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){i.forEach(this.handlers,function(e){null!==e&&t(e)})},t.exports=r},function(t,e,n){(function(e){"use strict";var r=n(31),i=n(39);t.exports=function(t){t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(e){delete t.headers[e]});var o;return"function"==typeof t.adapter?o=t.adapter:"undefined"!=typeof XMLHttpRequest?o=n(40):"undefined"!=typeof e&&(o=n(40)),Promise.resolve(t).then(o).then(function(e){return e.data=i(e.data,e.headers,t.transformResponse),e},function(e){return e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse)),Promise.reject(e)})}}).call(e,n(38))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(f===setTimeout)return setTimeout(t,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function o(t){if(h===clearTimeout)return clearTimeout(t);if((h===r||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function u(){p&&d&&(p=!1,d.length?y=d.concat(y):v=-1,y.length&&a())}function a(){if(!p){var t=i(u);p=!0;for(var e=y.length;e;){for(d=y,y=[];++v<e;)d&&d[v].run();v=-1,e=y.length}d=null,p=!1,o(t)}}function s(t,e){this.fun=t,this.array=e}function c(){}var f,h,l=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(t){f=n}try{h="function"==typeof clearTimeout?clearTimeout:r}catch(t){h=r}}();var d,y=[],p=!1,v=-1;l.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];y.push(new s(t,e)),1!==y.length||p||i(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=c,l.addListener=c,l.once=c,l.off=c,l.removeListener=c,l.removeAllListeners=c,l.emit=c,l.binding=function(t){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(t){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(t,e,n){"use strict";var r=n(31);t.exports=function(t,e,n){return r.forEach(n,function(n){t=n(t,e)}),t}},function(t,e,n){(function(e){"use strict";var r=n(31),i=n(41),o=n(44),u=n(45),a=n(46),s=n(42),c="undefined"!=typeof window&&window.btoa||n(47);t.exports=function(t){return new Promise(function(f,h){var l=t.data,d=t.headers;r.isFormData(l)&&delete d["Content-Type"];var y=new XMLHttpRequest,p="onreadystatechange",v=!1;if("test"===e.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in y||a(t.url)||(y=new window.XDomainRequest,p="onload",v=!0,y.onprogress=function(){},y.ontimeout=function(){}),t.auth){var g=t.auth.username||"",m=t.auth.password||"";d.Authorization="Basic "+c(g+":"+m)}if(y.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),y.timeout=t.timeout,y[p]=function(){if(y&&(4===y.readyState||v)&&0!==y.status){var e="getAllResponseHeaders"in y?u(y.getAllResponseHeaders()):null,n=t.responseType&&"text"!==t.responseType?y.response:y.responseText,r={data:n,status:1223===y.status?204:y.status,statusText:1223===y.status?"No Content":y.statusText,headers:e,config:t,request:y};i(f,h,r),y=null}},y.onerror=function(){h(s("Network Error",t)),y=null},y.ontimeout=function(){h(s("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED")),y=null},r.isStandardBrowserEnv()){var b=n(48),_=(t.withCredentials||a(t.url))&&t.xsrfCookieName?b.read(t.xsrfCookieName):void 0;_&&(d[t.xsrfHeaderName]=_)}if("setRequestHeader"in y&&r.forEach(d,function(t,e){"undefined"==typeof l&&"content-type"===e.toLowerCase()?delete d[e]:y.setRequestHeader(e,t)}),t.withCredentials&&(y.withCredentials=!0),t.responseType)try{y.responseType=t.responseType}catch(w){if("json"!==y.responseType)throw w}"function"==typeof t.onDownloadProgress&&y.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",t.onUploadProgress),void 0===l&&(l=null),y.send(l)})}}).call(e,n(38))},function(t,e,n){"use strict";var r=n(42);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n)):t(n)}},function(t,e,n){"use strict";var r=n(43);t.exports=function(t,e,n,i){var o=new Error(t);return r(o,e,n,i)}},function(t,e){"use strict";t.exports=function(t,e,n,r){return t.config=e,n&&(t.code=n),t.response=r,t}},function(t,e,n){"use strict";function r(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var i=n(31);t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(i.isURLSearchParams(e))o=e.toString();else{var u=[];i.forEach(e,function(t,e){null!==t&&"undefined"!=typeof t&&(i.isArray(t)&&(e+="[]"),i.isArray(t)||(t=[t]),i.forEach(t,function(t){i.isDate(t)?t=t.toISOString():i.isObject(t)&&(t=JSON.stringify(t)),u.push(r(e)+"="+r(t))}))}),o=u.join("&")}return o&&(t+=(t.indexOf("?")===-1?"?":"&")+o),t}},function(t,e,n){"use strict";var r=n(31);t.exports=function(t){var e,n,i,o={};return t?(r.forEach(t.split("\n"),function(t){i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e&&(o[e]=o[e]?o[e]+", "+n:n)}),o):o}},function(t,e,n){"use strict";var r=n(31);t.exports=r.isStandardBrowserEnv()?function(){function t(t){var e=t;return n&&(i.setAttribute("href",e),e=i.href),i.setAttribute("href",e),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}var e,n=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");return e=t(window.location.href),function(n){var i=r.isString(n)?t(n):n;return i.protocol===e.protocol&&i.host===e.host}}():function(){return function(){return!0}}()},function(t,e){"use strict";function n(){this.message="String contains an invalid character"}function r(t){for(var e,r,o=String(t),u="",a=0,s=i;o.charAt(0|a)||(s="=",a%1);u+=s.charAt(63&e>>8-a%1*8)){if(r=o.charCodeAt(a+=.75),r>255)throw new n;e=e<<8|r}return u}var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.prototype=new Error,n.prototype.code=5,n.prototype.name="InvalidCharacterError",t.exports=r},function(t,e,n){"use strict";var r=n(31);t.exports=r.isStandardBrowserEnv()?function(){return{write:function(t,e,n,i,o,u){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),u===!0&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(t,e){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e){"use strict";t.exports=function(t,e){return t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,"")}},function(t,e){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e,r){n(this,t),this._status=e.status,this._token=r}return r(t,[{key:"status",get:function(){return this._status}},{key:"token",get:function(){return this._token}}],[{key:"Status",get:function(){return{INVALID:"INVALID",SUCCESS:"SUCCESS",MORE_SIGNATURES_NEEDED:"MORE_SIGNATURES_NEEDED"}}}]),t}();e["default"]=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(16),a=r(u),s=n(27),c=function(){function t(e,n,r,o,u,c,f){var h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:s.transferTokenVersion,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:void 0,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:void 0,y=arguments.length>10&&void 0!==arguments[10]?arguments[10]:[];if(i(this,t),a["default"].countDecimals(o)>s.maxDecimals)throw new Error("Number of decimals in amount should be at most "+s.maxDecimals);this._id=e,this._from=n,this._instructions=r,this._amount=o,this._currency=u,this._redeemer=c,this._description=f,this._version=h,this._issuer=l,this._nonce=d,this._payloadSignatures=y,void 0===d&&(this._nonce=a["default"].generateNonce())}return o(t,null,[{key:"createFromToken",value:function(e){var n=e.id,r=e.payload.from,i=e.payload.transfer.instructions,o=parseFloat(e.payload.transfer.amount),u=e.payload.transfer.currency,a=e.payload.transfer.redeemer,s=e.payload.description,c=e.payload.version,f=e.payload.issuer,h=e.payload.nonce,l=e.payloadSignatures;return new t(n,r,i,o,u,a,s,c,f,h,l)}},{key:"create",value:function(e,n,r,i,o,u){var a={id:e.id},s={username:o},c={source:{accountId:n}};return new t((void 0),a,c,r,i,s,u)}}]),o(t,[{key:"payloadSignatures",set:function(t){this._payloadSignatures=[];var e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var u=i.value;this._payloadSignatures.push(u)}}catch(a){n=!0,r=a}finally{try{!e&&o["return"]&&o["return"]()}finally{if(n)throw r}}},get:function(){return this._payloadSignatures}},{key:"id",get:function(){return this._id}},{key:"from",get:function(){return this._from}},{key:"amount",get:function(){return this._amount}},{key:"currency",get:function(){return this._currency}},{key:"redeemer",get:function(){return this._redeemer}},{key:"description",get:function(){return this._description}},{key:"version",get:function(){return this._version}},{key:"issuer",get:function(){return this._issuer}},{key:"nonce",get:function(){return this._nonce}},{key:"json",get:function(){var t={version:this._version,nonce:this._nonce,from:this._from,transfer:{currency:this._currency,amount:this._amount.toString(),instructions:this._instructions}};return void 0!==this._redeemer&&(t.transfer.redeemer=this._redeemer),""!==this._description&&(t.description=this._description),void 0!==this._issuer&&(t.issuer=this._issuer),t}}]),t}();e["default"]=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(16),a=r(u),s=n(27),c=function(){function t(e,n,r,o){var u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.accessTokenVersion,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,f=arguments[6],h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[];i(this,t),this._id=e,this._from=n,this._to=r,this._resources=o,this._version=u,this._nonce=c,this._issuer=f,this._payloadSignatures=h,void 0===c&&(this._nonce=a["default"].generateNonce())}return o(t,null,[{key:"addressesAccessToken",value:function(e,n){var r={id:e.id},i={username:n},o={allAddresses:{}};return new t((void 0),r,i,[o])}},{key:"addressAccessToken",value:function(e,n,r){var i={id:e.id},o={username:n},u={address:{addressId:r}};return new t((void 0),i,o,[u])}},{key:"accountsAccessToken",value:function(e,n){var r={id:e.id},i={username:n},o={allAccounts:{}};return new t((void 0),r,i,[o])}},{key:"accountAccessToken",value:function(e,n,r){var i={id:e.id},o={username:n},u={account:{accountId:r}};return new t((void 0),i,o,[u])}},{key:"accountsTransactionsAccessToken",value:function(e,n){var r={id:e.id},i={username:n},o={allTransactions:{}};return new t((void 0),r,i,[o])}},{key:"accountTransactionsAccessToken",value:function(e,n,r){var i={id:e.id},o={username:n},u={transactions:{accountId:r}};return new t((void 0),i,o,[u])}},{key:"balancesAccessToken",value:function(e,n){var r={id:e.id},i={username:n},o={allBalances:{}};return new t((void 0),r,i,[o])}},{key:"balanceAccessToken",value:function(e,n,r){var i={id:e.id},o={username:n},u={balance:{accountId:r}};return new t((void 0),i,o,[u])}},{key:"createFromToken",value:function(e){var n=e.id,r=e.payload.from,i=e.payload.to,o=e.payload.access.resources,u=e.payload.version,a=e.payload.nonce,s=e.payload.issuer,c=e.payloadSignatures;return new t(n,r,i,o,u,a,s,c)}}]),o(t,[{key:"payloadSignatures",set:function(t){this._payloadSignatures=[];var e=!0,n=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var u=i.value;this._payloadSignatures.push(u)}}catch(a){n=!0,r=a}finally{try{!e&&o["return"]&&o["return"]()}finally{if(n)throw r}}},get:function(){return this._payloadSignatures}},{key:"id",get:function(){return this._id}},{key:"version",get:function(){return this._version}},{key:"nonce",get:function(){return this._nonce}},{key:"from",get:function(){return this._from}},{key:"to",get:function(){return this._to}},{key:"issuer",get:function(){return this._issuer}},{key:"resources",get:function(){return this._resources}},{key:"json",get:function(){return{version:this._version,nonce:this._nonce,from:this._from,to:this._to,issuer:this._issuer,access:{resources:this._resources}}}}]),t}();e["default"]=c},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){n(this,t),this._id=e.id,this._referenceId=e.referenceId,this._payload=JSON.parse(JSON.stringify(e.payload)),this._payloadSignatures=JSON.parse(JSON.stringify(e.payloadSignatures))}return r(t,[{key:"id",get:function(){return this._id}},{key:"referenceId",get:function(){return this._referenceId}},{key:"payload",get:function(){return this._payload}},{key:"amount",get:function(){return this._payload.amount.value}},{key:"currency",get:function(){return this._payload.amount.currency}},{key:"instructions",get:function(){return this._payload.instructions}},{key:"payloadSignatures",get:function(){return this._payloadSignatures}}]),t}();e["default"]=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),a=r(u),s=n(24),c=r(s),f=n(27),h=n(29),l=function(){function t(e){i(this,t),this._instance=h.create({baseURL:f.urls[e]})}return o(t,[{key:"createMemberId",value:function(){var t={method:"post",url:"/members"};return this._instance(t)}},{key:"usernameExists",value:function(t){var e={method:"get",url:"/username-exists?username="+t};return this._instance(e)}},{key:"notify",value:function(t,e){var n={username:t,notification:e},r={method:"post",url:"/notify",data:n};return this._instance(r)}},{key:"addFirstKey",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c["default"].PRIVILEGED,r={memberId:e,addKey:{publicKey:a["default"].strKey(t.publicKey)}};n!==c["default"].PRIVILEGED&&(r.addKey.level=n);var i={update:r,updateSignature:{memberId:e,keyId:t.keyId,signature:a["default"].signJson(r,t)}},o={method:"post",url:"/members/"+e+"/updates",data:i};return this._instance(o)}}]),t}();e["default"]=l},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(26),a=r(u),s=n(27),c=(n(12),n(29)),f=function(){function t(e,n,r){i(this,t),this._instance=c.create({baseURL:s.urls[e]});var o=new a["default"](s.urls[e],r);this._instance.interceptors.request.use(function(t){return o.addAuthorizationHeaderUsername(n,t,void 0),t})}return o(t,[{key:"getMemberByUsername",value:function(){var t={method:"get",url:"/members"};return this._instance(t)}}]),t}();e["default"]=f},function(t,e,n){(function(e,r){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
	 * @version   3.3.1
	 */
!function(e,n){t.exports=n()}(this,function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function i(t){return"function"==typeof t}function o(t){X=t}function u(t){W=t}function a(){return function(){return e.nextTick(l)}}function s(){return function(){G(l)}}function c(){var t=0,e=new Q(l),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function f(){var t=new MessageChannel;return t.port1.onmessage=l,function(){return t.port2.postMessage(0)}}function h(){var t=setTimeout;return function(){return t(l,1)}}function l(){for(var t=0;t<V;t+=2){var e=nt[t],n=nt[t+1];e(n),nt[t]=void 0,nt[t+1]=void 0}V=0}function d(){try{var t=n(59);return G=t.runOnLoop||t.runOnContext,s()}catch(e){return h()}}function y(t,e){var n=arguments,r=this,i=new this.constructor(v);void 0===i[it]&&M(i);var o=r._state;return o?!function(){var t=n[o-1];W(function(){return I(o,i,t,r._result)})}():j(r,i,t,e),i}function p(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(v);return T(n,t),n}function v(){}function g(){return new TypeError("You cannot resolve a promise with itself")}function m(){return new TypeError("A promises callback cannot return that same promise.")}function b(t){try{return t.then}catch(e){return st.error=e,st}}function _(t,e,n,r){try{t.call(e,n,r)}catch(i){return i}}function w(t,e,n){W(function(t){var r=!1,i=_(n,e,function(n){r||(r=!0,e!==n?T(t,n):S(t,n))},function(e){r||(r=!0,U(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&i&&(r=!0,U(t,i))},t)}function k(t,e){e._state===ut?S(t,e._result):e._state===at?U(t,e._result):j(e,void 0,function(e){return T(t,e)},function(e){return U(t,e)})}function A(t,e,n){e.constructor===t.constructor&&n===y&&e.constructor.resolve===p?k(t,e):n===st?U(t,st.error):void 0===n?S(t,e):i(n)?w(t,e,n):S(t,e)}function T(e,n){e===n?U(e,g()):t(n)?A(e,n,b(n)):S(e,n)}function E(t){t._onerror&&t._onerror(t._result),x(t)}function S(t,e){t._state===ot&&(t._result=e,t._state=ut,0!==t._subscribers.length&&W(x,t))}function U(t,e){t._state===ot&&(t._state=at,t._result=e,W(E,t))}function j(t,e,n,r){var i=t._subscribers,o=i.length;t._onerror=null,i[o]=e,i[o+ut]=n,i[o+at]=r,0===o&&t._state&&W(x,t)}function x(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,i=void 0,o=t._result,u=0;u<e.length;u+=3)r=e[u],i=e[u+n],r?I(n,r,i,o):i(o);t._subscribers.length=0}}function P(){this.error=null}function O(t,e){try{return t(e)}catch(n){return ct.error=n,ct}}function I(t,e,n,r){var o=i(n),u=void 0,a=void 0,s=void 0,c=void 0;if(o){if(u=O(n,r),u===ct?(c=!0,a=u.error,u=null):s=!0,e===u)return void U(e,m())}else u=r,s=!0;e._state!==ot||(o&&s?T(e,u):c?U(e,a):t===ut?S(e,u):t===at&&U(e,u))}function R(t,e){try{e(function(e){T(t,e)},function(e){U(t,e)})}catch(n){U(t,n)}}function B(){return ft++}function M(t){t[it]=ft++,t._state=void 0,t._result=void 0,t._subscribers=[]}function C(t,e){this._instanceConstructor=t,this.promise=new t(v),this.promise[it]||M(this.promise),q(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&S(this.promise,this._result))):U(this.promise,L())}function L(){return new Error("Array Methods must be provided an Array")}function N(t){return new C(this,t).promise}function K(t){var e=this;return new e(q(t)?function(n,r){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function Y(t){var e=this,n=new e(v);return U(n,t),n}function D(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function F(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function z(t){this[it]=B(),this._result=this._state=void 0,this._subscribers=[],v!==t&&("function"!=typeof t&&D(),this instanceof z?R(this,t):F())}function H(){var t=void 0;if("undefined"!=typeof r)t=r;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;if(n){var i=null;try{i=Object.prototype.toString.call(n.resolve())}catch(e){}if("[object Promise]"===i&&!n.cast)return}t.Promise=z}var J=void 0;J=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var q=J,V=0,G=void 0,X=void 0,W=function(t,e){nt[V]=t,nt[V+1]=e,V+=2,2===V&&(X?X(l):rt())},Z="undefined"!=typeof window?window:void 0,$=Z||{},Q=$.MutationObserver||$.WebKitMutationObserver,tt="undefined"==typeof self&&"undefined"!=typeof e&&"[object process]"==={}.toString.call(e),et="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,nt=new Array(1e3),rt=void 0;rt=tt?a():Q?c():et?f():void 0===Z?d():h();var it=Math.random().toString(36).substring(16),ot=void 0,ut=1,at=2,st=new P,ct=new P,ft=0;return C.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===ot&&n<t;n++)this._eachEntry(e[n],n)},C.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===p){var i=b(t);if(i===y&&t._state!==ot)this._settledAt(t._state,e,t._result);else if("function"!=typeof i)this._remaining--,this._result[e]=t;else if(n===z){var o=new n(v);A(o,t,i),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},C.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===ot&&(this._remaining--,t===at?U(r,n):this._result[e]=n),0===this._remaining&&S(r,this._result)},C.prototype._willSettleAt=function(t,e){var n=this;j(t,void 0,function(t){return n._settledAt(ut,e,t)},function(t){return n._settledAt(at,e,t)})},z.all=N,z.race=K,z.resolve=p,z.reject=Y,z._setScheduler=o,z._setAsap=u,z._asap=W,z.prototype={constructor:z,then:y,"catch":function(t){return this.then(null,t)}},H(),z.polyfill=H,z.Promise=z,z})}).call(e,n(38),function(){return this}())},function(t,e){}])});