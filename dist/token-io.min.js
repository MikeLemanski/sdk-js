!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("token-io",[],t):"object"==typeof exports?exports["token-io"]=t():e["token-io"]=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){r(1),e.exports=r(3)},function(e,t,r){(function(t,r){!function(t){"use strict";function n(e,t,r,n){var o=Object.create((t||i).prototype),a=new p(n||[]);return o._invoke=h(e,r,a),o}function o(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function i(){}function a(){}function u(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function c(e){this.arg=e}function f(e){function t(t,r){var n=e[t](r),o=n.value;return o instanceof c?Promise.resolve(o.arg).then(i,a):Promise.resolve(o).then(function(e){return n.value=e,n})}function n(e,r){function n(){return t(e,r)}return o=o?o.then(n,n):new Promise(function(e){e(n())})}"object"==typeof r&&r.domain&&(t=r.domain.bind(t));var o,i=t.bind(e,"next"),a=t.bind(e,"throw");t.bind(e,"return");this._invoke=n}function h(e,t,r){var n=k;return function(i,a){if(n===T)throw new Error("Generator is already running");if(n===x){if("throw"===i)throw a;return v()}for(;;){var u=r.delegate;if(u){if("return"===i||"throw"===i&&u.iterator[i]===g){r.delegate=null;var s=u.iterator.return;if(s){var c=o(s,u.iterator,a);if("throw"===c.type){i="throw",a=c.arg;continue}}if("return"===i)continue}var c=o(u.iterator[i],u.iterator,a);if("throw"===c.type){r.delegate=null,i="throw",a=c.arg;continue}i="next",a=g;var f=c.arg;if(!f.done)return n=A,f;r[u.resultName]=f.value,r.next=u.nextLoc,r.delegate=null}if("next"===i)r._sent=a,n===A?r.sent=a:r.sent=g;else if("throw"===i){if(n===k)throw n=x,a;r.dispatchException(a)&&(i="next",a=g)}else"return"===i&&r.abrupt("return",a);n=T;var c=o(e,t,r);if("normal"===c.type){n=r.done?x:A;var f={value:c.arg,done:r.done};if(c.arg!==E)return f;r.delegate&&"next"===i&&(a=g)}else"throw"===c.type&&(n=x,i="throw",a=c.arg)}}}function l(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(l,this),this.reset(!0)}function y(e){if(e){var t=e[b];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(m.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=g,t.done=!0,t};return n.next=n}}return{next:v}}function v(){return{value:g,done:!0}}var g,m=Object.prototype.hasOwnProperty,b="function"==typeof Symbol&&Symbol.iterator||"@@iterator",w="object"==typeof e,_=t.regeneratorRuntime;if(_)return void(w&&(e.exports=_));_=t.regeneratorRuntime=w?e.exports:{},_.wrap=n;var k="suspendedStart",A="suspendedYield",T="executing",x="completed",E={},R=u.prototype=i.prototype;a.prototype=R.constructor=u,u.constructor=a,a.displayName="GeneratorFunction",_.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},_.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):e.__proto__=u,e.prototype=Object.create(R),e},_.awrap=function(e){return new c(e)},s(f.prototype),_.async=function(e,t,r,o){var i=new f(n(e,t,r,o));return _.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},s(R),R[b]=function(){return this},R.toString=function(){return"[object Generator]"},_.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},_.values=y,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=g,this.done=!1,this.delegate=null,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&m.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=g)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=m.call(o,"catchLoc"),u=m.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&m.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?this.next=o.finallyLoc:this.complete(i),E},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),d(r),E}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;d(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:y(e),resultName:t,nextLoc:r},E}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,function(){return this}(),r(2))},function(e,t){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function o(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function i(e){if(h===clearTimeout)return clearTimeout(e);if((h===n||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function a(){y&&d&&(y=!1,d.length?p=d.concat(p):v=-1,p.length&&u())}function u(){if(!y){var e=o(a);y=!0;for(var t=p.length;t;){for(d=p,p=[];++v<t;)d&&d[v].run();v=-1,t=p.length}d=null,y=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var f,h,l=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{h="function"==typeof clearTimeout?clearTimeout:n}catch(e){h=n}}();var d,p=[],y=!1,v=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];p.push(new s(e,t)),1!==p.length||y||o(u)},s.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=c,l.addListener=c,l.once=c,l.off=c,l.removeListener=c,l.removeAllListeners=c,l.emit=c,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(4),u=n(a),s=r(19),c=n(s),f=r(20),h=n(f),l=r(27),d=n(l),p=r(21),y=n(p),v=r(58),g=n(v),m=r(54),b=n(m),w=r(59),_=n(w);r(1),r(60).polyfill();var k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"prd";o(this,e),this._env=t,this._unauthenticatedClient=new g.default(t),this.Crypto=u.default,this.Util=c.default,this.KeyLevel=d.default,this.TokenOperationResult=b.default}return i(e,[{key:"usernameExists",value:function(e){var t=this;return c.default.tryToDo(this.usernameExists,function(){var r;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(t._unauthenticatedClient.usernameExists(e));case 2:return r=n.sent,n.abrupt("return",!!r.data.exists&&r.data.exists);case 4:case"end":return n.stop()}},null,t)})}},{key:"createMember",value:function(e){var t=this;return c.default.tryToDo(this.createMember,function(){var r,n,o;return regeneratorRuntime.async(function(i){for(;;)switch(i.prev=i.next){case 0:return r=u.default.generateKeys(),i.next=3,regeneratorRuntime.awrap(t._unauthenticatedClient.createMemberId());case 3:return n=i.sent,i.next=6,regeneratorRuntime.awrap(t._unauthenticatedClient.addFirstKey(r,n.data.memberId));case 6:return o=new h.default(t._env,n.data.memberId,r),i.next=9,regeneratorRuntime.awrap(o.addUsername(e));case 9:return i.abrupt("return",o);case 10:case"end":return i.stop()}},null,t)})}},{key:"login",value:function(e,t){var r=this;return c.default.tryToDo(this.login,function(){return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new h.default(r._env,e,t));case 1:case"end":return n.stop()}},null,r)})}},{key:"loginWithUsername",value:function(e,t){var r=this;return c.default.tryToDo(this.loginWithUsername,function(){var n;return regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,regeneratorRuntime.awrap(new _.default(r._env,t,e).getMemberByUsername());case 2:return n=o.sent,o.abrupt("return",new h.default(r._env,n.data.member.id,e));case 4:case"end":return o.stop()}},null,r)})}},{key:"loginFromLocalStorage",value:function(){var e=this;return c.default.tryToDo(this.loginFromLocalStorage,function(){return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",y.default.loadMember(e._env));case 1:case"end":return t.stop()}},null,e)})}},{key:"notifyLinkAccounts",value:function(e,t,r,n){var o=this,i={linkAccounts:{bankId:t,bankName:r,accountLinkPayloads:n}};return c.default.tryToDo(this.notifyLinkAccounts,function(){var t;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(o._unauthenticatedClient.notify(e,i));case 2:return t=r.sent,r.abrupt("return",t.data.status);case 4:case"end":return r.stop()}},null,o)})}},{key:"notifyAddKey",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o={addKey:{publicKey:u.default.strKey(t),name:n}};return c.default.tryToDo(this.notifyAddKey,function(){var t;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(r._unauthenticatedClient.notify(e,o));case 2:return t=n.sent,n.abrupt("return",t.data.status);case 4:case"end":return n.stop()}},null,r)})}},{key:"notifyLinkAccountsAndAddKey",value:function(e,t,r,n,o){var i=this,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",s={linkAccountsAndAddKey:{linkAccounts:{bankId:t,bankName:r,accountLinkPayloads:n},addKey:{publicKey:u.default.strKey(o),name:a}}};return c.default.tryToDo(this.notifyLinkAccountsAndAddKey,function(){var t;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(i._unauthenticatedClient.notify(e,s));case 2:return t=r.sent,r.abrupt("return",t.data.status);case 4:case"end":return r.stop()}},null,i)})}}]),e}();e.exports=k},function(e,t,r){(function(e){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(9),u=n(a),s=r(11),c=n(s),f=r(12),h=n(f),l=r(15),d=n(l),p=function(){function t(){o(this,t)}return i(t,null,[{key:"generateKeys",value:function(){var e=u.default.sign.keyPair();return e.keyId=(0,h.default)((0,c.default)(e.publicKey)).substring(0,16),e}},{key:"signJson",value:function(e,r){return t.sign((0,d.default)(e),r)}},{key:"sign",value:function(t,r){var n=new e(t);return(0,h.default)(u.default.sign.detached(n,r.secretKey))}},{key:"strKey",value:function(e){return(0,h.default)(e)}},{key:"bufferKey",value:function(e){return h.default.toBuffer(e)}}]),t}();t.default=p}).call(t,r(5).Buffer)},function(e,t,r){(function(e,n){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function o(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}function i(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,r){if(i()<r)throw new RangeError("Invalid typed array length");return e.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r),t.__proto__=e.prototype):(null===t&&(t=new e(r)),t.length=r),t}function e(t,r,n){if(!(e.TYPED_ARRAY_SUPPORT||this instanceof e))return new e(t,r,n);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return u(this,t,r,n)}function u(e,t,r,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?d(e,t,r,n):"string"==typeof t?h(e,t,r):p(e,t)}function s(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e,t,r,n){return s(t),t<=0?a(e,t):void 0!==r?"string"==typeof n?a(e,t).fill(r,n):a(e,t).fill(r):a(e,t)}function f(t,r){if(s(r),t=a(t,r<0?0:0|y(r)),!e.TYPED_ARRAY_SUPPORT)for(var n=0;n<r;++n)t[n]=0;return t}function h(t,r,n){if("string"==typeof n&&""!==n||(n="utf8"),!e.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var o=0|g(r,n);t=a(t,o);var i=t.write(r,n);return i!==o&&(t=t.slice(0,i)),t}function l(e,t){var r=t.length<0?0:0|y(t.length);e=a(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function d(t,r,n,o){if(r.byteLength,n<0||r.byteLength<n)throw new RangeError("'offset' is out of bounds");if(r.byteLength<n+(o||0))throw new RangeError("'length' is out of bounds");return r=void 0===n&&void 0===o?new Uint8Array(r):void 0===o?new Uint8Array(r,n):new Uint8Array(r,n,o),e.TYPED_ARRAY_SUPPORT?(t=r,t.__proto__=e.prototype):t=l(t,r),t}function p(t,r){if(e.isBuffer(r)){var n=0|y(r.length);return t=a(t,n),0===t.length?t:(r.copy(t,0,0,n),t)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||W(r.length)?a(t,0):l(t,r);if("Buffer"===r.type&&Q(r.data))return l(t,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function v(t){return+t!=t&&(t=0),e.alloc(+t)}function g(t,r){if(e.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var o=!1;;)switch(r){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(t).length;default:if(o)return q(t).length;r=(""+r).toLowerCase(),o=!0}}function m(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,t>>>=0,r<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return B(this,t,r);case"utf8":case"utf-8":return U(this,t,r);case"ascii":return O(this,t,r);case"latin1":case"binary":return I(this,t,r);case"base64":return S(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function b(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function w(t,r,n,o,i){if(0===t.length)return-1;if("string"==typeof n?(o=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof r&&(r=e.from(r,o)),e.isBuffer(r))return 0===r.length?-1:_(t,r,n,o,i);if("number"==typeof r)return r&=255,e.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,n):Uint8Array.prototype.lastIndexOf.call(t,r,n):_(t,[r],n,o,i);throw new TypeError("val must be string, number or Buffer")}function _(e,t,r,n,o){function i(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}var a=1,u=e.length,s=t.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;a=2,u/=2,s/=2,r/=2}var c;if(o){var f=-1;for(c=r;c<u;c++)if(i(e,c)===i(t,f===-1?0:c-f)){if(f===-1&&(f=c),c-f+1===s)return f*a}else f!==-1&&(c-=c-f),f=-1}else for(r+s>u&&(r=u-s),c=r;c>=0;c--){for(var h=!0,l=0;l<s;l++)if(i(e,c+l)!==i(t,l)){h=!1;break}if(h)return c}return-1}function k(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n),n>o&&(n=o)):n=o;var i=t.length;if(i%2!==0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var u=parseInt(t.substr(2*a,2),16);if(isNaN(u))return a;e[r+a]=u}return a}function A(e,t,r,n){return X(q(t,e.length-r),e,r,n)}function T(e,t,r,n){return X(J(t),e,r,n)}function x(e,t,r,n){return T(e,t,r,n)}function E(e,t,r,n){return X(G(t),e,r,n)}function R(e,t,r,n){return X(V(t,e.length-r),e,r,n)}function S(e,t,r){return 0===t&&r===e.length?Z.fromByteArray(e):Z.fromByteArray(e.slice(t,r))}function U(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i=e[o],a=null,u=i>239?4:i>223?3:i>191?2:1;if(o+u<=r){var s,c,f,h;switch(u){case 1:i<128&&(a=i);break;case 2:s=e[o+1],128===(192&s)&&(h=(31&i)<<6|63&s,h>127&&(a=h));break;case 3:s=e[o+1],c=e[o+2],128===(192&s)&&128===(192&c)&&(h=(15&i)<<12|(63&s)<<6|63&c,h>2047&&(h<55296||h>57343)&&(a=h));break;case 4:s=e[o+1],c=e[o+2],f=e[o+3],128===(192&s)&&128===(192&c)&&128===(192&f)&&(h=(15&i)<<18|(63&s)<<12|(63&c)<<6|63&f,h>65535&&h<1114112&&(a=h))}}null===a?(a=65533,u=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),o+=u}return P(n)}function P(e){var t=e.length;if(t<=ee)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=ee));return r}function O(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function I(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function B(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=H(e[i]);return o}function M(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function L(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function j(t,r,n,o,i,a){if(!e.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<a)throw new RangeError('"value" argument is out of bounds');if(n+o>t.length)throw new RangeError("Index out of range")}function C(e,t,r,n){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-r,2);o<i;++o)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function D(e,t,r,n){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-r,4);o<i;++o)e[r+o]=t>>>8*(n?o:3-o)&255}function N(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function K(e,t,r,n,o){return o||N(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),$.write(e,t,r,n,23,4),r+4}function Y(e,t,r,n,o){return o||N(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),$.write(e,t,r,n,52,8),r+8}function F(e){if(e=z(e).replace(te,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H(e){return e<16?"0"+e.toString(16):e.toString(16)}function q(e,t){t=t||1/0;for(var r,n=e.length,o=null,i=[],a=0;a<n;++a){if(r=e.charCodeAt(a),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function J(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function V(e,t){for(var r,n,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=e.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}function G(e){return Z.toByteArray(F(e))}function X(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function W(e){return e!==e}var Z=r(6),$=r(7),Q=r(8);t.Buffer=e,t.SlowBuffer=v,t.INSPECT_MAX_BYTES=50,e.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:o(),t.kMaxLength=i(),e.poolSize=8192,e._augment=function(t){return t.__proto__=e.prototype,t},e.from=function(e,t,r){return u(null,e,t,r)},e.TYPED_ARRAY_SUPPORT&&(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0})),e.alloc=function(e,t,r){return c(null,e,t,r)},e.allocUnsafe=function(e){return f(null,e)},e.allocUnsafeSlow=function(e){return f(null,e)},e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,r){if(!e.isBuffer(t)||!e.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var n=t.length,o=r.length,i=0,a=Math.min(n,o);i<a;++i)if(t[i]!==r[i]){n=t[i],o=r[i];break}return n<o?-1:o<n?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,r){if(!Q(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return e.alloc(0);var n;if(void 0===r)for(r=0,n=0;n<t.length;++n)r+=t[n].length;var o=e.allocUnsafe(r),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!e.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(o,i),i+=a.length}return o},e.byteLength=g,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},e.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},e.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},e.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?U(this,0,e):m.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===e.compare(this,t)},e.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t,r,n,o,i){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===n&&(n=t?t.length:0),void 0===o&&(o=0),void 0===i&&(i=this.length),r<0||n>t.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&r>=n)return 0;if(o>=i)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,o>>>=0,i>>>=0,this===t)return 0;for(var a=i-o,u=n-r,s=Math.min(a,u),c=this.slice(o,i),f=t.slice(r,n),h=0;h<s;++h)if(c[h]!==f[h]){a=c[h],u=f[h];break}return a<u?-1:u<a?1:0},e.prototype.includes=function(e,t,r){return this.indexOf(e,t,r)!==-1},e.prototype.indexOf=function(e,t,r){return w(this,e,t,r,!0)},e.prototype.lastIndexOf=function(e,t,r){return w(this,e,t,r,!1)},e.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return k(this,e,t,r);case"utf8":case"utf-8":return A(this,e,t,r);case"ascii":return T(this,e,t,r);case"latin1":case"binary":return x(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ee=4096;e.prototype.slice=function(t,r){var n=this.length;t=~~t,r=void 0===r?n:~~r,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<t&&(r=t);var o;if(e.TYPED_ARRAY_SUPPORT)o=this.subarray(t,r),o.__proto__=e.prototype;else{var i=r-t;o=new e(i,void 0);for(var a=0;a<i;++a)o[a]=this[a+t]}return o},e.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||L(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},e.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||L(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},e.prototype.readUInt8=function(e,t){return t||L(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||L(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||L(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||L(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n},e.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||L(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},e.prototype.readInt8=function(e,t){return t||L(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},e.prototype.readInt16LE=function(e,t){t||L(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},e.prototype.readInt16BE=function(e,t){t||L(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},e.prototype.readInt32LE=function(e,t){return t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||L(e,4,this.length),$.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||L(e,4,this.length),$.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||L(e,8,this.length),$.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||L(e,8,this.length),$.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var o=Math.pow(2,8*r)-1;j(this,e,t,r,o,0)}var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},e.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var o=Math.pow(2,8*r)-1;j(this,e,t,r,o,0)}var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},e.prototype.writeUInt8=function(t,r,n){return t=+t,r|=0,n||j(this,t,r,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},e.prototype.writeUInt16LE=function(t,r,n){return t=+t,r|=0,n||j(this,t,r,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):C(this,t,r,!0),r+2},e.prototype.writeUInt16BE=function(t,r,n){return t=+t,r|=0,n||j(this,t,r,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):C(this,t,r,!1),r+2},e.prototype.writeUInt32LE=function(t,r,n){return t=+t,r|=0,n||j(this,t,r,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):D(this,t,r,!0),r+4},e.prototype.writeUInt32BE=function(t,r,n){return t=+t,r|=0,n||j(this,t,r,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):D(this,t,r,!1),r+4},e.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);j(this,e,t,r,o-1,-o)}var i=0,a=1,u=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===u&&0!==this[t+i-1]&&(u=1),this[t+i]=(e/a>>0)-u&255;return t+r},e.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var o=Math.pow(2,8*r-1);j(this,e,t,r,o-1,-o)}var i=r-1,a=1,u=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===u&&0!==this[t+i+1]&&(u=1),this[t+i]=(e/a>>0)-u&255;return t+r},e.prototype.writeInt8=function(t,r,n){return t=+t,r|=0,n||j(this,t,r,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},e.prototype.writeInt16LE=function(t,r,n){return t=+t,r|=0,n||j(this,t,r,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):C(this,t,r,!0),r+2},e.prototype.writeInt16BE=function(t,r,n){return t=+t,r|=0,n||j(this,t,r,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):C(this,t,r,!1),r+2},e.prototype.writeInt32LE=function(t,r,n){return t=+t,r|=0,n||j(this,t,r,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):D(this,t,r,!0),r+4},e.prototype.writeInt32BE=function(t,r,n){return t=+t,r|=0,n||j(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):D(this,t,r,!1),r+4},e.prototype.writeFloatLE=function(e,t,r){return K(this,e,t,!0,r)},e.prototype.writeFloatBE=function(e,t,r){return K(this,e,t,!1,r)},e.prototype.writeDoubleLE=function(e,t,r){return Y(this,e,t,!0,r)},e.prototype.writeDoubleBE=function(e,t,r){return Y(this,e,t,!1,r)},e.prototype.copy=function(t,r,n,o){if(n||(n=0),o||0===o||(o=this.length),r>=t.length&&(r=t.length),r||(r=0),o>0&&o<n&&(o=n),o===n)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-r<o-n&&(o=t.length-r+n);var i,a=o-n;if(this===t&&n<r&&r<o)for(i=a-1;i>=0;--i)t[i+r]=this[i+n];else if(a<1e3||!e.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+r]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),r);return a},e.prototype.fill=function(t,r,n,o){if("string"==typeof t){if("string"==typeof r?(o=r,r=0,n=this.length):"string"==typeof n&&(o=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!e.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var a;if("number"==typeof t)for(a=r;a<n;++a)this[a]=t;else{var u=e.isBuffer(t)?t:q(new e(t,o).toString()),s=u.length;for(a=0;a<n-r;++a)this[a+r]=u[a%s]}return this};var te=/[^+\/0-9A-Za-z-_]/g}).call(t,r(5).Buffer,function(){return this}())},function(e,t){"use strict";function r(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function n(e){return 3*e.length/4-r(e)}function o(e){var t,n,o,i,a,u,s=e.length;a=r(e),u=new f(3*s/4-a),o=a>0?s-4:s;var h=0;for(t=0,n=0;t<o;t+=4,n+=3)i=c[e.charCodeAt(t)]<<18|c[e.charCodeAt(t+1)]<<12|c[e.charCodeAt(t+2)]<<6|c[e.charCodeAt(t+3)],u[h++]=i>>16&255,u[h++]=i>>8&255,u[h++]=255&i;return 2===a?(i=c[e.charCodeAt(t)]<<2|c[e.charCodeAt(t+1)]>>4,u[h++]=255&i):1===a&&(i=c[e.charCodeAt(t)]<<10|c[e.charCodeAt(t+1)]<<4|c[e.charCodeAt(t+2)]>>2,u[h++]=i>>8&255,u[h++]=255&i),u}function i(e){return s[e>>18&63]+s[e>>12&63]+s[e>>6&63]+s[63&e]}function a(e,t,r){for(var n,o=[],a=t;a<r;a+=3)n=(e[a]<<16)+(e[a+1]<<8)+e[a+2],o.push(i(n));return o.join("")}function u(e){for(var t,r=e.length,n=r%3,o="",i=[],u=16383,c=0,f=r-n;c<f;c+=u)i.push(a(e,c,c+u>f?f:c+u));return 1===n?(t=e[r-1],o+=s[t>>2],o+=s[t<<4&63],o+="=="):2===n&&(t=(e[r-2]<<8)+e[r-1],o+=s[t>>10],o+=s[t>>4&63],o+=s[t<<2&63],o+="="),i.push(o),i.join("")}t.byteLength=n,t.toByteArray=o,t.fromByteArray=u;for(var s=[],c=[],f="undefined"!=typeof Uint8Array?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,d=h.length;l<d;++l)s[l]=h[l],c[h.charCodeAt(l)]=l;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,r,n,o){var i,a,u=8*o-n-1,s=(1<<u)-1,c=s>>1,f=-7,h=r?o-1:0,l=r?-1:1,d=e[t+h];for(h+=l,i=d&(1<<-f)-1,d>>=-f,f+=u;f>0;i=256*i+e[t+h],h+=l,f-=8);for(a=i&(1<<-f)-1,i>>=-f,f+=n;f>0;a=256*a+e[t+h],h+=l,f-=8);if(0===i)i=1-c;else{if(i===s)return a?NaN:(d?-1:1)*(1/0);a+=Math.pow(2,n),i-=c}return(d?-1:1)*a*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var a,u,s,c=8*i-o-1,f=(1<<c)-1,h=f>>1,l=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:i-1,p=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),t+=a+h>=1?l/s:l*Math.pow(2,1-h),t*s>=2&&(a++,s/=2),a+h>=f?(u=0,a=f):a+h>=1?(u=(t*s-1)*Math.pow(2,o),a+=h):(u=t*Math.pow(2,h-1)*Math.pow(2,o),a=0));o>=8;e[r+d]=255&u,d+=p,u/=256,o-=8);for(a=a<<o|u,c+=o;c>0;e[r+d]=255&a,d+=p,a/=256,c-=8);e[r+d-p]|=128*y}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){!function(e){"use strict";function t(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function n(e,t,r,n,o){var i,a=0;for(i=0;i<o;i++)a|=e[t+i]^r[n+i];return(1&a-1>>>8)-1}function o(e,t,r,o){return n(e,t,r,o,16)}function i(e,t,r,o){return n(e,t,r,o,32)}function a(e,t,r,n){for(var o,i=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,u=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,s=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,f=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,l=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,y=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,v=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=i,k=a,A=u,T=s,x=c,E=f,R=h,S=l,U=d,P=p,O=y,I=v,B=g,M=m,L=b,j=w,C=0;C<20;C+=2)o=_+B|0,x^=o<<7|o>>>25,o=x+_|0,U^=o<<9|o>>>23,o=U+x|0,B^=o<<13|o>>>19,o=B+U|0,_^=o<<18|o>>>14,o=E+k|0,P^=o<<7|o>>>25,o=P+E|0,M^=o<<9|o>>>23,o=M+P|0,k^=o<<13|o>>>19,o=k+M|0,E^=o<<18|o>>>14,o=O+R|0,L^=o<<7|o>>>25,o=L+O|0,A^=o<<9|o>>>23,o=A+L|0,R^=o<<13|o>>>19,o=R+A|0,O^=o<<18|o>>>14,o=j+I|0,T^=o<<7|o>>>25,o=T+j|0,S^=o<<9|o>>>23,o=S+T|0,I^=o<<13|o>>>19,o=I+S|0,j^=o<<18|o>>>14,o=_+T|0,k^=o<<7|o>>>25,o=k+_|0,A^=o<<9|o>>>23,o=A+k|0,T^=o<<13|o>>>19,o=T+A|0,_^=o<<18|o>>>14,o=E+x|0,R^=o<<7|o>>>25,o=R+E|0,S^=o<<9|o>>>23,o=S+R|0,x^=o<<13|o>>>19,o=x+S|0,E^=o<<18|o>>>14,o=O+P|0,I^=o<<7|o>>>25,o=I+O|0,U^=o<<9|o>>>23,o=U+I|0,P^=o<<13|o>>>19,o=P+U|0,O^=o<<18|o>>>14,o=j+L|0,B^=o<<7|o>>>25,o=B+j|0,M^=o<<9|o>>>23,o=M+B|0,L^=o<<13|o>>>19,o=L+M|0,j^=o<<18|o>>>14;_=_+i|0,k=k+a|0,A=A+u|0,T=T+s|0,x=x+c|0,E=E+f|0,R=R+h|0,S=S+l|0,U=U+d|0,P=P+p|0,O=O+y|0,I=I+v|0,B=B+g|0,M=M+m|0,L=L+b|0,j=j+w|0,e[0]=_>>>0&255,e[1]=_>>>8&255,e[2]=_>>>16&255,e[3]=_>>>24&255,e[4]=k>>>0&255,e[5]=k>>>8&255,e[6]=k>>>16&255,e[7]=k>>>24&255,e[8]=A>>>0&255,e[9]=A>>>8&255,e[10]=A>>>16&255,e[11]=A>>>24&255,e[12]=T>>>0&255,e[13]=T>>>8&255,e[14]=T>>>16&255,e[15]=T>>>24&255,e[16]=x>>>0&255,e[17]=x>>>8&255,e[18]=x>>>16&255,e[19]=x>>>24&255,e[20]=E>>>0&255,e[21]=E>>>8&255,e[22]=E>>>16&255,e[23]=E>>>24&255,e[24]=R>>>0&255,e[25]=R>>>8&255,e[26]=R>>>16&255,e[27]=R>>>24&255,e[28]=S>>>0&255,e[29]=S>>>8&255,e[30]=S>>>16&255,e[31]=S>>>24&255,e[32]=U>>>0&255,e[33]=U>>>8&255,e[34]=U>>>16&255,e[35]=U>>>24&255,e[36]=P>>>0&255,e[37]=P>>>8&255,e[38]=P>>>16&255,e[39]=P>>>24&255,e[40]=O>>>0&255,e[41]=O>>>8&255,e[42]=O>>>16&255,e[43]=O>>>24&255,e[44]=I>>>0&255,e[45]=I>>>8&255,e[46]=I>>>16&255,e[47]=I>>>24&255,e[48]=B>>>0&255,e[49]=B>>>8&255,e[50]=B>>>16&255,e[51]=B>>>24&255,e[52]=M>>>0&255,e[53]=M>>>8&255,e[54]=M>>>16&255,e[55]=M>>>24&255,e[56]=L>>>0&255,e[57]=L>>>8&255,e[58]=L>>>16&255,e[59]=L>>>24&255,e[60]=j>>>0&255,e[61]=j>>>8&255,e[62]=j>>>16&255,e[63]=j>>>24&255}function u(e,t,r,n){for(var o,i=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,u=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,s=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,f=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,l=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,y=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,v=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,g=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,m=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,b=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,w=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=i,k=a,A=u,T=s,x=c,E=f,R=h,S=l,U=d,P=p,O=y,I=v,B=g,M=m,L=b,j=w,C=0;C<20;C+=2)o=_+B|0,x^=o<<7|o>>>25,o=x+_|0,U^=o<<9|o>>>23,o=U+x|0,B^=o<<13|o>>>19,o=B+U|0,_^=o<<18|o>>>14,o=E+k|0,P^=o<<7|o>>>25,o=P+E|0,M^=o<<9|o>>>23,o=M+P|0,k^=o<<13|o>>>19,o=k+M|0,E^=o<<18|o>>>14,o=O+R|0,L^=o<<7|o>>>25,o=L+O|0,A^=o<<9|o>>>23,o=A+L|0,R^=o<<13|o>>>19,o=R+A|0,O^=o<<18|o>>>14,o=j+I|0,T^=o<<7|o>>>25,o=T+j|0,S^=o<<9|o>>>23,o=S+T|0,I^=o<<13|o>>>19,o=I+S|0,j^=o<<18|o>>>14,o=_+T|0,k^=o<<7|o>>>25,o=k+_|0,A^=o<<9|o>>>23,o=A+k|0,T^=o<<13|o>>>19,o=T+A|0,_^=o<<18|o>>>14,o=E+x|0,R^=o<<7|o>>>25,o=R+E|0,S^=o<<9|o>>>23,o=S+R|0,x^=o<<13|o>>>19,o=x+S|0,E^=o<<18|o>>>14,o=O+P|0,I^=o<<7|o>>>25,o=I+O|0,U^=o<<9|o>>>23,o=U+I|0,P^=o<<13|o>>>19,o=P+U|0,O^=o<<18|o>>>14,o=j+L|0,B^=o<<7|o>>>25,o=B+j|0,M^=o<<9|o>>>23,o=M+B|0,L^=o<<13|o>>>19,o=L+M|0,j^=o<<18|o>>>14;e[0]=_>>>0&255,e[1]=_>>>8&255,e[2]=_>>>16&255,e[3]=_>>>24&255,e[4]=E>>>0&255,e[5]=E>>>8&255,e[6]=E>>>16&255,e[7]=E>>>24&255,e[8]=O>>>0&255,e[9]=O>>>8&255,e[10]=O>>>16&255,e[11]=O>>>24&255,e[12]=j>>>0&255,e[13]=j>>>8&255,e[14]=j>>>16&255,e[15]=j>>>24&255,e[16]=R>>>0&255,e[17]=R>>>8&255,e[18]=R>>>16&255,e[19]=R>>>24&255,e[20]=S>>>0&255,e[21]=S>>>8&255,e[22]=S>>>16&255,e[23]=S>>>24&255,e[24]=U>>>0&255,e[25]=U>>>8&255,e[26]=U>>>16&255,e[27]=U>>>24&255,e[28]=P>>>0&255,e[29]=P>>>8&255,e[30]=P>>>16&255,e[31]=P>>>24&255}function s(e,t,r,n){a(e,t,r,n)}function c(e,t,r,n){u(e,t,r,n)}function f(e,t,r,n,o,i,a){var u,c,f=new Uint8Array(16),h=new Uint8Array(64);for(c=0;c<16;c++)f[c]=0;for(c=0;c<8;c++)f[c]=i[c];for(;o>=64;){for(s(h,f,a,le),c=0;c<64;c++)e[t+c]=r[n+c]^h[c];for(u=1,c=8;c<16;c++)u=u+(255&f[c])|0,f[c]=255&u,u>>>=8;o-=64,t+=64,n+=64}if(o>0)for(s(h,f,a,le),c=0;c<o;c++)e[t+c]=r[n+c]^h[c];return 0}function h(e,t,r,n,o){var i,a,u=new Uint8Array(16),c=new Uint8Array(64);for(a=0;a<16;a++)u[a]=0;for(a=0;a<8;a++)u[a]=n[a];for(;r>=64;){for(s(c,u,o,le),a=0;a<64;a++)e[t+a]=c[a];for(i=1,a=8;a<16;a++)i=i+(255&u[a])|0,u[a]=255&i,i>>>=8;r-=64,t+=64}if(r>0)for(s(c,u,o,le),a=0;a<r;a++)e[t+a]=c[a];return 0}function l(e,t,r,n,o){var i=new Uint8Array(32);c(i,n,o,le);for(var a=new Uint8Array(8),u=0;u<8;u++)a[u]=n[u+16];return h(e,t,r,a,i)}function d(e,t,r,n,o,i,a){var u=new Uint8Array(32);c(u,i,a,le);for(var s=new Uint8Array(8),h=0;h<8;h++)s[h]=i[h+16];return f(e,t,r,n,o,s,u)}function p(e,t,r,n,o,i){var a=new de(i);return a.update(r,n,o),a.finish(e,t),0}function y(e,t,r,n,i,a){var u=new Uint8Array(16);return p(u,0,r,n,i,a),o(e,t,u,0)}function v(e,t,r,n,o){var i;if(r<32)return-1;for(d(e,0,t,0,r,n,o),p(e,16,e,32,r-32,e),i=0;i<16;i++)e[i]=0;return 0}function g(e,t,r,n,o){var i,a=new Uint8Array(32);if(r<32)return-1;if(l(a,0,32,n,o),0!==y(t,16,t,32,r-32,a))return-1;for(d(e,0,t,0,r,n,o),i=0;i<32;i++)e[i]=0;return 0}function m(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function b(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function w(e,t,r){for(var n,o=~(r-1),i=0;i<16;i++)n=o&(e[i]^t[i]),e[i]^=n,t[i]^=n}function _(e,t){var r,n,o,i=ee(),a=ee();for(r=0;r<16;r++)a[r]=t[r];for(b(a),b(a),b(a),n=0;n<2;n++){for(i[0]=a[0]-65517,r=1;r<15;r++)i[r]=a[r]-65535-(i[r-1]>>16&1),i[r-1]&=65535;i[15]=a[15]-32767-(i[14]>>16&1),o=i[15]>>16&1,i[14]&=65535,w(a,i,1-o)}for(r=0;r<16;r++)e[2*r]=255&a[r],e[2*r+1]=a[r]>>8}function k(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return _(r,e),_(n,t),i(r,0,n,0)}function A(e){var t=new Uint8Array(32);return _(t,e),1&t[0]}function T(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function x(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function E(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function R(e,t,r){var n,o,i=0,a=0,u=0,s=0,c=0,f=0,h=0,l=0,d=0,p=0,y=0,v=0,g=0,m=0,b=0,w=0,_=0,k=0,A=0,T=0,x=0,E=0,R=0,S=0,U=0,P=0,O=0,I=0,B=0,M=0,L=0,j=r[0],C=r[1],D=r[2],N=r[3],K=r[4],Y=r[5],F=r[6],z=r[7],H=r[8],q=r[9],J=r[10],V=r[11],G=r[12],X=r[13],W=r[14],Z=r[15];n=t[0],i+=n*j,a+=n*C,u+=n*D,s+=n*N,c+=n*K,f+=n*Y,h+=n*F,l+=n*z,d+=n*H,p+=n*q,y+=n*J,v+=n*V,g+=n*G,m+=n*X,b+=n*W,w+=n*Z,n=t[1],a+=n*j,u+=n*C,s+=n*D,c+=n*N,f+=n*K,h+=n*Y,l+=n*F,d+=n*z,p+=n*H,y+=n*q,v+=n*J,g+=n*V,m+=n*G,b+=n*X,w+=n*W,_+=n*Z,n=t[2],u+=n*j,s+=n*C,c+=n*D,f+=n*N,h+=n*K,l+=n*Y,d+=n*F,p+=n*z,y+=n*H,v+=n*q,g+=n*J,m+=n*V,b+=n*G,w+=n*X,_+=n*W,k+=n*Z,n=t[3],s+=n*j,c+=n*C,f+=n*D,h+=n*N,l+=n*K,d+=n*Y,p+=n*F,y+=n*z,v+=n*H,g+=n*q,m+=n*J,b+=n*V,w+=n*G,_+=n*X,k+=n*W,A+=n*Z,n=t[4],c+=n*j,f+=n*C,h+=n*D,l+=n*N,d+=n*K,p+=n*Y,y+=n*F,v+=n*z,g+=n*H,m+=n*q,b+=n*J,w+=n*V,_+=n*G,k+=n*X,A+=n*W,T+=n*Z,n=t[5],f+=n*j,h+=n*C,l+=n*D,d+=n*N,p+=n*K,y+=n*Y,v+=n*F,g+=n*z,m+=n*H,b+=n*q,w+=n*J,_+=n*V,k+=n*G,A+=n*X,T+=n*W,x+=n*Z,n=t[6],h+=n*j,l+=n*C,d+=n*D,p+=n*N,y+=n*K,v+=n*Y,g+=n*F,m+=n*z,b+=n*H,w+=n*q,_+=n*J,k+=n*V,A+=n*G,T+=n*X,x+=n*W,E+=n*Z,n=t[7],l+=n*j,d+=n*C,p+=n*D,y+=n*N,v+=n*K,g+=n*Y,m+=n*F,b+=n*z,w+=n*H,_+=n*q,k+=n*J,A+=n*V,T+=n*G,x+=n*X,E+=n*W,R+=n*Z,n=t[8],d+=n*j,p+=n*C,y+=n*D,v+=n*N,g+=n*K,m+=n*Y,b+=n*F,w+=n*z,_+=n*H,k+=n*q,A+=n*J,T+=n*V,x+=n*G,E+=n*X,R+=n*W,S+=n*Z,n=t[9],p+=n*j,y+=n*C,v+=n*D,g+=n*N,m+=n*K,b+=n*Y,w+=n*F,_+=n*z,k+=n*H,A+=n*q,T+=n*J,x+=n*V,E+=n*G,R+=n*X,S+=n*W,U+=n*Z,n=t[10],y+=n*j,v+=n*C,g+=n*D,m+=n*N,b+=n*K,w+=n*Y,_+=n*F,k+=n*z,A+=n*H,T+=n*q,x+=n*J,E+=n*V,R+=n*G,S+=n*X,U+=n*W,P+=n*Z,n=t[11],v+=n*j,g+=n*C,m+=n*D,b+=n*N,w+=n*K,_+=n*Y,k+=n*F,A+=n*z,T+=n*H,x+=n*q,E+=n*J,R+=n*V;S+=n*G;U+=n*X,P+=n*W,O+=n*Z,n=t[12],g+=n*j,m+=n*C,b+=n*D,w+=n*N,_+=n*K,k+=n*Y,A+=n*F,T+=n*z,x+=n*H,E+=n*q,R+=n*J,S+=n*V,U+=n*G,P+=n*X,O+=n*W,I+=n*Z,n=t[13],m+=n*j,b+=n*C,w+=n*D,_+=n*N,k+=n*K,
A+=n*Y,T+=n*F,x+=n*z,E+=n*H,R+=n*q,S+=n*J,U+=n*V,P+=n*G,O+=n*X,I+=n*W,B+=n*Z,n=t[14],b+=n*j,w+=n*C,_+=n*D,k+=n*N,A+=n*K,T+=n*Y,x+=n*F,E+=n*z,R+=n*H,S+=n*q,U+=n*J,P+=n*V,O+=n*G,I+=n*X,B+=n*W,M+=n*Z,n=t[15],w+=n*j,_+=n*C,k+=n*D,A+=n*N,T+=n*K,x+=n*Y,E+=n*F,R+=n*z,S+=n*H,U+=n*q,P+=n*J,O+=n*V,I+=n*G,B+=n*X,M+=n*W,L+=n*Z,i+=38*_,a+=38*k,u+=38*A,s+=38*T,c+=38*x,f+=38*E,h+=38*R,l+=38*S,d+=38*U,p+=38*P,y+=38*O,v+=38*I,g+=38*B,m+=38*M,b+=38*L,o=1,n=i+o+65535,o=Math.floor(n/65536),i=n-65536*o,n=a+o+65535,o=Math.floor(n/65536),a=n-65536*o,n=u+o+65535,o=Math.floor(n/65536),u=n-65536*o,n=s+o+65535,o=Math.floor(n/65536),s=n-65536*o,n=c+o+65535,o=Math.floor(n/65536),c=n-65536*o,n=f+o+65535,o=Math.floor(n/65536),f=n-65536*o,n=h+o+65535,o=Math.floor(n/65536),h=n-65536*o,n=l+o+65535,o=Math.floor(n/65536),l=n-65536*o,n=d+o+65535,o=Math.floor(n/65536),d=n-65536*o,n=p+o+65535,o=Math.floor(n/65536),p=n-65536*o,n=y+o+65535,o=Math.floor(n/65536),y=n-65536*o,n=v+o+65535,o=Math.floor(n/65536),v=n-65536*o,n=g+o+65535,o=Math.floor(n/65536),g=n-65536*o,n=m+o+65535,o=Math.floor(n/65536),m=n-65536*o,n=b+o+65535,o=Math.floor(n/65536),b=n-65536*o,n=w+o+65535,o=Math.floor(n/65536),w=n-65536*o,i+=o-1+37*(o-1),o=1,n=i+o+65535,o=Math.floor(n/65536),i=n-65536*o,n=a+o+65535,o=Math.floor(n/65536),a=n-65536*o,n=u+o+65535,o=Math.floor(n/65536),u=n-65536*o,n=s+o+65535,o=Math.floor(n/65536),s=n-65536*o,n=c+o+65535,o=Math.floor(n/65536),c=n-65536*o,n=f+o+65535,o=Math.floor(n/65536),f=n-65536*o,n=h+o+65535,o=Math.floor(n/65536),h=n-65536*o,n=l+o+65535,o=Math.floor(n/65536),l=n-65536*o,n=d+o+65535,o=Math.floor(n/65536),d=n-65536*o,n=p+o+65535,o=Math.floor(n/65536),p=n-65536*o,n=y+o+65535,o=Math.floor(n/65536),y=n-65536*o,n=v+o+65535,o=Math.floor(n/65536),v=n-65536*o,n=g+o+65535,o=Math.floor(n/65536),g=n-65536*o,n=m+o+65535,o=Math.floor(n/65536),m=n-65536*o,n=b+o+65535,o=Math.floor(n/65536),b=n-65536*o,n=w+o+65535,o=Math.floor(n/65536),w=n-65536*o,i+=o-1+37*(o-1),e[0]=i,e[1]=a,e[2]=u,e[3]=s,e[4]=c,e[5]=f,e[6]=h,e[7]=l,e[8]=d,e[9]=p,e[10]=y,e[11]=v,e[12]=g,e[13]=m;e[14]=b;e[15]=w}function S(e,t){R(e,t,t)}function U(e,t){var r,n=ee();for(r=0;r<16;r++)n[r]=t[r];for(r=253;r>=0;r--)S(n,n),2!==r&&4!==r&&R(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}function P(e,t){var r,n=ee();for(r=0;r<16;r++)n[r]=t[r];for(r=250;r>=0;r--)S(n,n),1!==r&&R(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}function O(e,t,r){var n,o,i=new Uint8Array(32),a=new Float64Array(80),u=ee(),s=ee(),c=ee(),f=ee(),h=ee(),l=ee();for(o=0;o<31;o++)i[o]=t[o];for(i[31]=127&t[31]|64,i[0]&=248,T(a,r),o=0;o<16;o++)s[o]=a[o],f[o]=u[o]=c[o]=0;for(u[0]=f[0]=1,o=254;o>=0;--o)n=i[o>>>3]>>>(7&o)&1,w(u,s,n),w(c,f,n),x(h,u,c),E(u,u,c),x(c,s,f),E(s,s,f),S(f,h),S(l,u),R(u,c,u),R(c,s,h),x(h,u,c),E(u,u,c),S(s,u),E(c,f,l),R(u,c,ae),x(u,u,f),R(c,c,u),R(u,f,l),R(f,s,a),S(s,h),w(u,s,n),w(c,f,n);for(o=0;o<16;o++)a[o+16]=u[o],a[o+32]=c[o],a[o+48]=s[o],a[o+64]=f[o];var d=a.subarray(32),p=a.subarray(16);return U(d,d),R(p,p,d),_(e,p),0}function I(e,t){return O(e,t,ne)}function B(e,t){return te(t,32),I(e,t)}function M(e,t,r){var n=new Uint8Array(32);return O(n,r,t),c(e,re,n,le)}function L(e,t,r,n,o,i){var a=new Uint8Array(32);return M(a,o,i),pe(e,t,r,n,a)}function j(e,t,r,n,o,i){var a=new Uint8Array(32);return M(a,o,i),ye(e,t,r,n,a)}function C(e,t,r,n){for(var o,i,a,u,s,c,f,h,l,d,p,y,v,g,m,b,w,_,k,A,T,x,E,R,S,U,P=new Int32Array(16),O=new Int32Array(16),I=e[0],B=e[1],M=e[2],L=e[3],j=e[4],C=e[5],D=e[6],N=e[7],K=t[0],Y=t[1],F=t[2],z=t[3],H=t[4],q=t[5],J=t[6],V=t[7],G=0;n>=128;){for(k=0;k<16;k++)A=8*k+G,P[k]=r[A+0]<<24|r[A+1]<<16|r[A+2]<<8|r[A+3],O[k]=r[A+4]<<24|r[A+5]<<16|r[A+6]<<8|r[A+7];for(k=0;k<80;k++)if(o=I,i=B,a=M,u=L,s=j,c=C,f=D,h=N,l=K,d=Y,p=F,y=z,v=H,g=q,m=J,b=V,T=N,x=V,E=65535&x,R=x>>>16,S=65535&T,U=T>>>16,T=(j>>>14|H<<18)^(j>>>18|H<<14)^(H>>>9|j<<23),x=(H>>>14|j<<18)^(H>>>18|j<<14)^(j>>>9|H<<23),E+=65535&x,R+=x>>>16,S+=65535&T,U+=T>>>16,T=j&C^~j&D,x=H&q^~H&J,E+=65535&x,R+=x>>>16,S+=65535&T,U+=T>>>16,T=ve[2*k],x=ve[2*k+1],E+=65535&x,R+=x>>>16,S+=65535&T,U+=T>>>16,T=P[k%16],x=O[k%16],E+=65535&x,R+=x>>>16,S+=65535&T,U+=T>>>16,R+=E>>>16,S+=R>>>16,U+=S>>>16,w=65535&S|U<<16,_=65535&E|R<<16,T=w,x=_,E=65535&x,R=x>>>16,S=65535&T,U=T>>>16,T=(I>>>28|K<<4)^(K>>>2|I<<30)^(K>>>7|I<<25),x=(K>>>28|I<<4)^(I>>>2|K<<30)^(I>>>7|K<<25),E+=65535&x,R+=x>>>16,S+=65535&T,U+=T>>>16,T=I&B^I&M^B&M,x=K&Y^K&F^Y&F,E+=65535&x,R+=x>>>16,S+=65535&T,U+=T>>>16,R+=E>>>16,S+=R>>>16,U+=S>>>16,h=65535&S|U<<16,b=65535&E|R<<16,T=u,x=y,E=65535&x,R=x>>>16,S=65535&T,U=T>>>16,T=w,x=_,E+=65535&x,R+=x>>>16,S+=65535&T,U+=T>>>16,R+=E>>>16,S+=R>>>16,U+=S>>>16,u=65535&S|U<<16,y=65535&E|R<<16,B=o,M=i,L=a,j=u,C=s,D=c,N=f,I=h,Y=l,F=d,z=p,H=y,q=v,J=g,V=m,K=b,k%16===15)for(A=0;A<16;A++)T=P[A],x=O[A],E=65535&x,R=x>>>16,S=65535&T,U=T>>>16,T=P[(A+9)%16],x=O[(A+9)%16],E+=65535&x,R+=x>>>16,S+=65535&T,U+=T>>>16,w=P[(A+1)%16],_=O[(A+1)%16],T=(w>>>1|_<<31)^(w>>>8|_<<24)^w>>>7,x=(_>>>1|w<<31)^(_>>>8|w<<24)^(_>>>7|w<<25),E+=65535&x,R+=x>>>16,S+=65535&T,U+=T>>>16,w=P[(A+14)%16],_=O[(A+14)%16],T=(w>>>19|_<<13)^(_>>>29|w<<3)^w>>>6,x=(_>>>19|w<<13)^(w>>>29|_<<3)^(_>>>6|w<<26),E+=65535&x,R+=x>>>16,S+=65535&T,U+=T>>>16,R+=E>>>16,S+=R>>>16,U+=S>>>16,P[A]=65535&S|U<<16,O[A]=65535&E|R<<16;T=I,x=K,E=65535&x,R=x>>>16,S=65535&T,U=T>>>16,T=e[0],x=t[0],E+=65535&x,R+=x>>>16,S+=65535&T,U+=T>>>16,R+=E>>>16,S+=R>>>16,U+=S>>>16,e[0]=I=65535&S|U<<16,t[0]=K=65535&E|R<<16,T=B,x=Y,E=65535&x,R=x>>>16,S=65535&T,U=T>>>16,T=e[1],x=t[1],E+=65535&x,R+=x>>>16,S+=65535&T,U+=T>>>16,R+=E>>>16,S+=R>>>16,U+=S>>>16,e[1]=B=65535&S|U<<16,t[1]=Y=65535&E|R<<16,T=M,x=F,E=65535&x,R=x>>>16,S=65535&T,U=T>>>16,T=e[2],x=t[2],E+=65535&x,R+=x>>>16,S+=65535&T,U+=T>>>16,R+=E>>>16,S+=R>>>16,U+=S>>>16,e[2]=M=65535&S|U<<16,t[2]=F=65535&E|R<<16,T=L,x=z,E=65535&x,R=x>>>16,S=65535&T,U=T>>>16,T=e[3],x=t[3],E+=65535&x,R+=x>>>16,S+=65535&T,U+=T>>>16,R+=E>>>16,S+=R>>>16,U+=S>>>16,e[3]=L=65535&S|U<<16,t[3]=z=65535&E|R<<16,T=j,x=H,E=65535&x,R=x>>>16,S=65535&T,U=T>>>16,T=e[4],x=t[4],E+=65535&x,R+=x>>>16,S+=65535&T,U+=T>>>16,R+=E>>>16,S+=R>>>16,U+=S>>>16,e[4]=j=65535&S|U<<16,t[4]=H=65535&E|R<<16,T=C,x=q,E=65535&x,R=x>>>16,S=65535&T,U=T>>>16,T=e[5],x=t[5],E+=65535&x,R+=x>>>16,S+=65535&T,U+=T>>>16,R+=E>>>16,S+=R>>>16,U+=S>>>16,e[5]=C=65535&S|U<<16,t[5]=q=65535&E|R<<16,T=D,x=J,E=65535&x,R=x>>>16,S=65535&T,U=T>>>16,T=e[6],x=t[6],E+=65535&x,R+=x>>>16,S+=65535&T,U+=T>>>16,R+=E>>>16,S+=R>>>16,U+=S>>>16,e[6]=D=65535&S|U<<16,t[6]=J=65535&E|R<<16,T=N,x=V,E=65535&x,R=x>>>16,S=65535&T,U=T>>>16,T=e[7],x=t[7],E+=65535&x,R+=x>>>16,S+=65535&T,U+=T>>>16,R+=E>>>16,S+=R>>>16,U+=S>>>16,e[7]=N=65535&S|U<<16,t[7]=V=65535&E|R<<16,G+=128,n-=128}return n}function D(e,r,n){var o,i=new Int32Array(8),a=new Int32Array(8),u=new Uint8Array(256),s=n;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,a[0]=4089235720,a[1]=2227873595,a[2]=4271175723,a[3]=1595750129,a[4]=2917565137,a[5]=725511199,a[6]=4215389547,a[7]=327033209,C(i,a,r,n),n%=128,o=0;o<n;o++)u[o]=r[s-n+o];for(u[n]=128,n=256-128*(n<112?1:0),u[n-9]=0,t(u,n-8,s/536870912|0,s<<3),C(i,a,u,n),o=0;o<8;o++)t(e,8*o,i[o],a[o]);return 0}function N(e,t){var r=ee(),n=ee(),o=ee(),i=ee(),a=ee(),u=ee(),s=ee(),c=ee(),f=ee();E(r,e[1],e[0]),E(f,t[1],t[0]),R(r,r,f),x(n,e[0],e[1]),x(f,t[0],t[1]),R(n,n,f),R(o,e[3],t[3]),R(o,o,se),R(i,e[2],t[2]),x(i,i,i),E(a,n,r),E(u,i,o),x(s,i,o),x(c,n,r),R(e[0],a,u),R(e[1],c,s),R(e[2],s,u),R(e[3],a,c)}function K(e,t,r){var n;for(n=0;n<4;n++)w(e[n],t[n],r)}function Y(e,t){var r=ee(),n=ee(),o=ee();U(o,t[2]),R(r,t[0],o),R(n,t[1],o),_(e,n),e[31]^=A(r)<<7}function F(e,t,r){var n,o;for(m(e[0],oe),m(e[1],ie),m(e[2],ie),m(e[3],oe),o=255;o>=0;--o)n=r[o/8|0]>>(7&o)&1,K(e,t,n),N(t,e),N(e,e),K(e,t,n)}function z(e,t){var r=[ee(),ee(),ee(),ee()];m(r[0],ce),m(r[1],fe),m(r[2],ie),R(r[3],ce,fe),F(e,r,t)}function H(e,t,r){var n,o=new Uint8Array(64),i=[ee(),ee(),ee(),ee()];for(r||te(t,32),D(o,t,32),o[0]&=248,o[31]&=127,o[31]|=64,z(i,o),Y(e,i),n=0;n<32;n++)t[n+32]=e[n];return 0}function q(e,t){var r,n,o,i;for(n=63;n>=32;--n){for(r=0,o=n-32,i=n-12;o<i;++o)t[o]+=r-16*t[n]*ge[o-(n-32)],r=t[o]+128>>8,t[o]-=256*r;t[o]+=r,t[n]=0}for(r=0,o=0;o<32;o++)t[o]+=r-(t[31]>>4)*ge[o],r=t[o]>>8,t[o]&=255;for(o=0;o<32;o++)t[o]-=r*ge[o];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function J(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;q(e,r)}function V(e,t,r,n){var o,i,a=new Uint8Array(64),u=new Uint8Array(64),s=new Uint8Array(64),c=new Float64Array(64),f=[ee(),ee(),ee(),ee()];D(a,n,32),a[0]&=248,a[31]&=127,a[31]|=64;var h=r+64;for(o=0;o<r;o++)e[64+o]=t[o];for(o=0;o<32;o++)e[32+o]=a[32+o];for(D(s,e.subarray(32),r+32),J(s),z(f,s),Y(e,f),o=32;o<64;o++)e[o]=n[o];for(D(u,e,r+64),J(u),o=0;o<64;o++)c[o]=0;for(o=0;o<32;o++)c[o]=s[o];for(o=0;o<32;o++)for(i=0;i<32;i++)c[o+i]+=u[o]*a[i];return q(e.subarray(32),c),h}function G(e,t){var r=ee(),n=ee(),o=ee(),i=ee(),a=ee(),u=ee(),s=ee();return m(e[2],ie),T(e[1],t),S(o,e[1]),R(i,o,ue),E(o,o,e[2]),x(i,e[2],i),S(a,i),S(u,a),R(s,u,a),R(r,s,o),R(r,r,i),P(r,r),R(r,r,o),R(r,r,i),R(r,r,i),R(e[0],r,i),S(n,e[0]),R(n,n,i),k(n,o)&&R(e[0],e[0],he),S(n,e[0]),R(n,n,i),k(n,o)?-1:(A(e[0])===t[31]>>7&&E(e[0],oe,e[0]),R(e[3],e[0],e[1]),0)}function X(e,t,r,n){var o,a,u=new Uint8Array(32),s=new Uint8Array(64),c=[ee(),ee(),ee(),ee()],f=[ee(),ee(),ee(),ee()];if(a=-1,r<64)return-1;if(G(f,n))return-1;for(o=0;o<r;o++)e[o]=t[o];for(o=0;o<32;o++)e[o+32]=n[o];if(D(s,e,r),J(s),F(c,f,s),z(f,t.subarray(32)),N(c,f),Y(u,c),r-=64,i(t,0,u,0)){for(o=0;o<r;o++)e[o]=0;return-1}for(o=0;o<r;o++)e[o]=t[o+64];return a=r}function W(e,t){if(e.length!==me)throw new Error("bad key size");if(t.length!==be)throw new Error("bad nonce size")}function Z(e,t){if(e.length!==Te)throw new Error("bad public key size");if(t.length!==xe)throw new Error("bad secret key size")}function $(){var e,t;for(t=0;t<arguments.length;t++)if("[object Uint8Array]"!==(e=Object.prototype.toString.call(arguments[t])))throw new TypeError("unexpected type "+e+", use Uint8Array")}function Q(e){for(var t=0;t<e.length;t++)e[t]=0}var ee=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},te=function(){throw new Error("no PRNG")},re=new Uint8Array(16),ne=new Uint8Array(32);ne[0]=9;var oe=ee(),ie=ee([1]),ae=ee([56129,1]),ue=ee([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),se=ee([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),ce=ee([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),fe=ee([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),he=ee([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]),le=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]),de=function(e){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var t,r,n,o,i,a,u,s;t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),o=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|o<<9),i=255&e[8]|(255&e[9])<<8,this.r[4]=255&(o>>>4|i<<12),this.r[5]=i>>>1&8190,a=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(i>>>14|a<<2),u=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(a>>>11|u<<5),s=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(u>>>8|s<<8),this.r[9]=s>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};de.prototype.blocks=function(e,t,r){for(var n,o,i,a,u,s,c,f,h,l,d,p,y,v,g,m,b,w,_,k=this.fin?0:2048,A=this.h[0],T=this.h[1],x=this.h[2],E=this.h[3],R=this.h[4],S=this.h[5],U=this.h[6],P=this.h[7],O=this.h[8],I=this.h[9],B=this.r[0],M=this.r[1],L=this.r[2],j=this.r[3],C=this.r[4],D=this.r[5],N=this.r[6],K=this.r[7],Y=this.r[8],F=this.r[9];r>=16;)n=255&e[t+0]|(255&e[t+1])<<8,A+=8191&n,o=255&e[t+2]|(255&e[t+3])<<8,T+=8191&(n>>>13|o<<3),i=255&e[t+4]|(255&e[t+5])<<8,x+=8191&(o>>>10|i<<6),a=255&e[t+6]|(255&e[t+7])<<8,E+=8191&(i>>>7|a<<9),u=255&e[t+8]|(255&e[t+9])<<8,R+=8191&(a>>>4|u<<12),S+=u>>>1&8191,s=255&e[t+10]|(255&e[t+11])<<8,U+=8191&(u>>>14|s<<2),c=255&e[t+12]|(255&e[t+13])<<8,P+=8191&(s>>>11|c<<5),f=255&e[t+14]|(255&e[t+15])<<8,O+=8191&(c>>>8|f<<8),I+=f>>>5|k,h=0,l=h,l+=A*B,l+=T*(5*F),l+=x*(5*Y),l+=E*(5*K),l+=R*(5*N),h=l>>>13,l&=8191,l+=S*(5*D),l+=U*(5*C),l+=P*(5*j),l+=O*(5*L),l+=I*(5*M),h+=l>>>13,l&=8191,d=h,d+=A*M,d+=T*B,d+=x*(5*F),d+=E*(5*Y),d+=R*(5*K),h=d>>>13,d&=8191,d+=S*(5*N),d+=U*(5*D),d+=P*(5*C),d+=O*(5*j),d+=I*(5*L),h+=d>>>13,d&=8191,p=h,p+=A*L,p+=T*M,p+=x*B,p+=E*(5*F),p+=R*(5*Y),h=p>>>13,p&=8191,p+=S*(5*K),p+=U*(5*N),p+=P*(5*D),p+=O*(5*C),p+=I*(5*j),h+=p>>>13,p&=8191,y=h,y+=A*j,y+=T*L,y+=x*M,y+=E*B,y+=R*(5*F),h=y>>>13,y&=8191,y+=S*(5*Y),y+=U*(5*K),y+=P*(5*N),y+=O*(5*D),y+=I*(5*C),h+=y>>>13,y&=8191,v=h,v+=A*C,v+=T*j,v+=x*L,v+=E*M,v+=R*B,h=v>>>13,v&=8191,v+=S*(5*F),v+=U*(5*Y),v+=P*(5*K),v+=O*(5*N),v+=I*(5*D),h+=v>>>13,v&=8191,g=h,g+=A*D,g+=T*C,g+=x*j,g+=E*L,g+=R*M,h=g>>>13,g&=8191,g+=S*B,g+=U*(5*F),g+=P*(5*Y),g+=O*(5*K),g+=I*(5*N),h+=g>>>13,g&=8191,m=h,m+=A*N,m+=T*D,m+=x*C,m+=E*j,m+=R*L,h=m>>>13,m&=8191,m+=S*M,m+=U*B,m+=P*(5*F),m+=O*(5*Y),m+=I*(5*K),h+=m>>>13,m&=8191,b=h,b+=A*K,b+=T*N,b+=x*D,b+=E*C,b+=R*j,h=b>>>13,b&=8191,b+=S*L,b+=U*M,b+=P*B,b+=O*(5*F),b+=I*(5*Y),h+=b>>>13,b&=8191,w=h,w+=A*Y,w+=T*K,w+=x*N,w+=E*D,w+=R*C,h=w>>>13,w&=8191,w+=S*j,w+=U*L,w+=P*M,w+=O*B,w+=I*(5*F),h+=w>>>13,w&=8191,_=h,_+=A*F,_+=T*Y,_+=x*K,_+=E*N,_+=R*D,h=_>>>13,_&=8191,_+=S*C,_+=U*j,_+=P*L,_+=O*M,_+=I*B,h+=_>>>13,_&=8191,h=(h<<2)+h|0,h=h+l|0,l=8191&h,h>>>=13,d+=h,A=l,T=d,x=p,E=y,R=v,S=g,U=m,P=b,O=w,I=_,t+=16,r-=16;this.h[0]=A,this.h[1]=T,this.h[2]=x,this.h[3]=E,this.h[4]=R,this.h[5]=S,this.h[6]=U,this.h[7]=P,this.h[8]=O,this.h[9]=I},de.prototype.finish=function(e,t){var r,n,o,i,a=new Uint16Array(10);if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=r,r=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,a[0]=this.h[0]+5,r=a[0]>>>13,a[0]&=8191,i=1;i<10;i++)a[i]=this.h[i]+r,r=a[i]>>>13,a[i]&=8191;for(a[9]-=8192,n=(1^r)-1,i=0;i<10;i++)a[i]&=n;for(n=~n,i=0;i<10;i++)this.h[i]=this.h[i]&n|a[i];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),o=this.h[0]+this.pad[0],this.h[0]=65535&o,i=1;i<8;i++)o=(this.h[i]+this.pad[i]|0)+(o>>>16)|0,this.h[i]=65535&o;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},de.prototype.update=function(e,t,r){var n,o;if(this.leftover){for(o=16-this.leftover,o>r&&(o=r),n=0;n<o;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=o,t+=o,this.leftover+=o,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(o=r-r%16,this.blocks(e,t,o),t+=o,r-=o),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var pe=v,ye=g,ve=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],ge=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),me=32,be=24,we=32,_e=16,ke=32,Ae=32,Te=32,xe=32,Ee=32,Re=be,Se=we,Ue=_e,Pe=64,Oe=32,Ie=64,Be=32,Me=64;e.lowlevel={crypto_core_hsalsa20:c,crypto_stream_xor:d,crypto_stream:l,crypto_stream_salsa20_xor:f,crypto_stream_salsa20:h,crypto_onetimeauth:p,crypto_onetimeauth_verify:y,crypto_verify_16:o,crypto_verify_32:i,crypto_secretbox:v,crypto_secretbox_open:g,crypto_scalarmult:O,crypto_scalarmult_base:I,crypto_box_beforenm:M,crypto_box_afternm:pe,crypto_box:L,crypto_box_open:j,crypto_box_keypair:B,crypto_hash:D,crypto_sign:V,crypto_sign_keypair:H,crypto_sign_open:X,crypto_secretbox_KEYBYTES:me,crypto_secretbox_NONCEBYTES:be,crypto_secretbox_ZEROBYTES:we,crypto_secretbox_BOXZEROBYTES:_e,crypto_scalarmult_BYTES:ke,crypto_scalarmult_SCALARBYTES:Ae,crypto_box_PUBLICKEYBYTES:Te,crypto_box_SECRETKEYBYTES:xe,crypto_box_BEFORENMBYTES:Ee,crypto_box_NONCEBYTES:Re,crypto_box_ZEROBYTES:Se,crypto_box_BOXZEROBYTES:Ue,crypto_sign_BYTES:Pe,crypto_sign_PUBLICKEYBYTES:Oe,crypto_sign_SECRETKEYBYTES:Ie,crypto_sign_SEEDBYTES:Be,crypto_hash_BYTES:Me},e.util||(e.util={},e.util.decodeUTF8=e.util.encodeUTF8=e.util.encodeBase64=e.util.decodeBase64=function(){throw new Error("nacl.util moved into separate package: https://github.com/dchest/tweetnacl-util-js")}),e.randomBytes=function(e){var t=new Uint8Array(e);return te(t,e),t},e.secretbox=function(e,t,r){$(e,t,r),W(r,t);for(var n=new Uint8Array(we+e.length),o=new Uint8Array(n.length),i=0;i<e.length;i++)n[i+we]=e[i];return v(o,n,n.length,t,r),o.subarray(_e)},e.secretbox.open=function(e,t,r){$(e,t,r),W(r,t);for(var n=new Uint8Array(_e+e.length),o=new Uint8Array(n.length),i=0;i<e.length;i++)n[i+_e]=e[i];return!(n.length<32)&&(0===g(o,n,n.length,t,r)&&o.subarray(we))},e.secretbox.keyLength=me,e.secretbox.nonceLength=be,e.secretbox.overheadLength=_e,e.scalarMult=function(e,t){if($(e,t),e.length!==Ae)throw new Error("bad n size");if(t.length!==ke)throw new Error("bad p size");var r=new Uint8Array(ke);return O(r,e,t),r},e.scalarMult.base=function(e){if($(e),e.length!==Ae)throw new Error("bad n size");var t=new Uint8Array(ke);return I(t,e),t},e.scalarMult.scalarLength=Ae,e.scalarMult.groupElementLength=ke,e.box=function(t,r,n,o){var i=e.box.before(n,o);return e.secretbox(t,r,i)},e.box.before=function(e,t){$(e,t),Z(e,t);var r=new Uint8Array(Ee);return M(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,o){var i=e.box.before(n,o);return e.secretbox.open(t,r,i)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(Te),t=new Uint8Array(xe);return B(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if($(e),e.length!==xe)throw new Error("bad secret key size");var t=new Uint8Array(Te);return I(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=Te,e.box.secretKeyLength=xe,e.box.sharedKeyLength=Ee,e.box.nonceLength=Re,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if($(e,t),t.length!==Ie)throw new Error("bad secret key size");var r=new Uint8Array(Pe+e.length);return V(r,e,e.length,t),r},e.sign.open=function(e,t){if(2!==arguments.length)throw new Error("nacl.sign.open accepts 2 arguments; did you mean to use nacl.sign.detached.verify?");if($(e,t),t.length!==Oe)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=X(r,e,e.length,t);if(n<0)return null;for(var o=new Uint8Array(n),i=0;i<o.length;i++)o[i]=r[i];return o},e.sign.detached=function(t,r){for(var n=e.sign(t,r),o=new Uint8Array(Pe),i=0;i<o.length;i++)o[i]=n[i];return o},e.sign.detached.verify=function(e,t,r){if($(e,t,r),t.length!==Pe)throw new Error("bad signature size");if(r.length!==Oe)throw new Error("bad public key size");var n,o=new Uint8Array(Pe+e.length),i=new Uint8Array(Pe+e.length);for(n=0;n<Pe;n++)o[n]=t[n];for(n=0;n<e.length;n++)o[n+Pe]=e[n];return X(i,o,o.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(Oe),t=new Uint8Array(Ie);return H(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if($(e),e.length!==Ie)throw new Error("bad secret key size");for(var t=new Uint8Array(Oe),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if($(e),e.length!==Be)throw new Error("bad seed size");for(var t=new Uint8Array(Oe),r=new Uint8Array(Ie),n=0;n<32;n++)r[n]=e[n];return H(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=Oe,e.sign.secretKeyLength=Ie,e.sign.seedLength=Be,e.sign.signatureLength=Pe,e.hash=function(e){$(e);var t=new Uint8Array(Me);return D(t,e,e.length),t},e.hash.hashLength=Me,e.verify=function(e,t){return $(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===n(e,0,t,0,e.length))},e.setPRNG=function(e){te=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){var n=65536;e.setPRNG(function(e,r){var o,i=new Uint8Array(r);for(o=0;o<r;o+=n)t.getRandomValues(i.subarray(o,o+Math.min(r-o,n)));for(o=0;o<r;o++)e[o]=i[o];Q(i)})}else t=r(10),t&&t.randomBytes&&e.setPRNG(function(e,r){var n,o=t.randomBytes(r);for(n=0;n<r;n++)e[n]=o[n];Q(o)})}()}("undefined"!=typeof e&&e.exports?e.exports:self.nacl=self.nacl||{})},function(e,t){},function(e,t,r){var n;!function(t,o){var i={};o(i);var a=i.default;for(var u in i)a[u]=i[u];"object"==typeof e&&"object"==typeof e.exports?e.exports=a:(n=function(){return a}.call(i,r,i,e),!(void 0!==n&&(e.exports=n)))}(this,function(e){"use strict";function t(e,t,r,n,o){for(var a,u,s,c,f,h,l,d,p,y,v,g,m;o>=64;){for(a=t[0],u=t[1],s=t[2],c=t[3],f=t[4],h=t[5],l=t[6],d=t[7],y=0;y<16;y++)v=n+4*y,e[y]=(255&r[v])<<24|(255&r[v+1])<<16|(255&r[v+2])<<8|255&r[v+3];for(y=16;y<64;y++)p=e[y-2],g=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,p=e[y-15],m=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3,e[y]=(g+e[y-7]|0)+(m+e[y-16]|0);for(y=0;y<64;y++)g=(((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&h^~f&l)|0)+(d+(i[y]+e[y]|0)|0)|0,m=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&u^a&s^u&s)|0,d=l,l=h,h=f,f=c+g|0,c=s,s=u,u=a,a=g+m|0;t[0]+=a,t[1]+=u,t[2]+=s,t[3]+=c,t[4]+=f,t[5]+=h,t[6]+=l,t[7]+=d,n+=64,o-=64}return n}function r(e){var t=(new a).update(e),r=t.digest();return t.clean(),r}function n(e,t){var r=new u(e).update(t),n=r.digest();return r.clean(),n}function o(e,t,r,n){for(var o=new u(e),i=o.digestLength,a=new Uint8Array(4),s=new Uint8Array(i),c=new Uint8Array(i),f=new Uint8Array(n),h=0;h*i<n;h++){var l=h+1;a[0]=l>>>24&255,a[1]=l>>>16&255,a[2]=l>>>8&255,a[3]=l>>>0&255,o.reset(),o.update(t),o.update(a),o.finish(c);for(var d=0;d<i;d++)s[d]=c[d];for(var d=2;d<=r;d++){o.reset(),o.update(c).finish(c);for(var p=0;p<i;p++)s[p]^=c[p]}for(var d=0;d<i&&h*i+d<n;d++)f[h*i+d]=s[d]}for(var h=0;h<i;h++)s[h]=c[h]=0;for(var h=0;h<4;h++)a[h]=0;return o.clean(),f}e.digestLength=32,e.blockSize=64;var i=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),a=function(){function r(){this.digestLength=e.digestLength,this.blockSize=e.blockSize,this.state=new Int32Array(8),this.temp=new Int32Array(64),this.buffer=new Uint8Array(128),this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this.reset()}return r.prototype.reset=function(){return this.state[0]=1779033703,this.state[1]=3144134277,this.state[2]=1013904242,this.state[3]=2773480762,this.state[4]=1359893119,this.state[5]=2600822924,this.state[6]=528734635,this.state[7]=1541459225,this.bufferLength=0,this.bytesHashed=0,this.finished=!1,this},r.prototype.clean=function(){for(var e=0;e<this.buffer.length;e++)this.buffer[e]=0;for(var e=0;e<this.temp.length;e++)this.temp[e]=0;this.reset()},r.prototype.update=function(e,r){if(void 0===r&&(r=e.length),this.finished)throw new Error("SHA256: can't update because hash was finished.");var n=0;if(this.bytesHashed+=r,this.bufferLength>0){for(;this.bufferLength<64&&r>0;)this.buffer[this.bufferLength++]=e[n++],r--;64===this.bufferLength&&(t(this.temp,this.state,this.buffer,0,64),this.bufferLength=0)}for(r>=64&&(n=t(this.temp,this.state,e,n,r),r%=64);r>0;)this.buffer[this.bufferLength++]=e[n++],r--;return this},r.prototype.finish=function(e){if(!this.finished){var r=this.bytesHashed,n=this.bufferLength,o=r/536870912|0,i=r<<3,a=r%64<56?64:128;this.buffer[n]=128;for(var u=n+1;u<a-8;u++)this.buffer[u]=0;this.buffer[a-8]=o>>>24&255,this.buffer[a-7]=o>>>16&255,this.buffer[a-6]=o>>>8&255,this.buffer[a-5]=o>>>0&255,this.buffer[a-4]=i>>>24&255,this.buffer[a-3]=i>>>16&255,this.buffer[a-2]=i>>>8&255,this.buffer[a-1]=i>>>0&255,t(this.temp,this.state,this.buffer,0,a),this.finished=!0}for(var u=0;u<8;u++)e[4*u+0]=this.state[u]>>>24&255,e[4*u+1]=this.state[u]>>>16&255,e[4*u+2]=this.state[u]>>>8&255,e[4*u+3]=this.state[u]>>>0&255;return this},r.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},r.prototype._saveState=function(e){for(var t=0;t<this.state.length;t++)e[t]=this.state[t]},r.prototype._restoreState=function(e,t){for(var r=0;r<this.state.length;r++)this.state[r]=e[r];this.bytesHashed=t,this.finished=!1,this.bufferLength=0},r}();e.Hash=a;var u=function(){function e(e){this.inner=new a,this.outer=new a,this.blockSize=this.inner.blockSize,this.digestLength=this.inner.digestLength;var t=new Uint8Array(this.blockSize);if(e.length>this.blockSize)(new a).update(e).finish(t).clean();else for(var r=0;r<e.length;r++)t[r]=e[r];for(var r=0;r<t.length;r++)t[r]^=54;this.inner.update(t);for(var r=0;r<t.length;r++)t[r]^=106;this.outer.update(t),this.istate=new Uint32Array(this.digestLength/4),this.ostate=new Uint32Array(this.digestLength/4),this.inner._saveState(this.istate),this.outer._saveState(this.ostate);for(var r=0;r<t.length;r++)t[r]=0}return e.prototype.reset=function(){return this.inner._restoreState(this.istate,this.inner.blockSize),this.outer._restoreState(this.ostate,this.outer.blockSize),this},e.prototype.clean=function(){for(var e=0;e<this.istate.length;e++)this.ostate[e]=this.istate[e]=0;this.inner.clean(),this.outer.clean()},e.prototype.update=function(e){return this.inner.update(e),this},e.prototype.finish=function(e){return this.outer.finished?this.outer.finish(e):(this.inner.finish(e),this.outer.update(e,this.digestLength).finish(e)),this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e}();e.HMAC=u,e.hash=r,e.__esModule=!0,e.default=r,e.hmac=n,e.pbkdf2=o})},function(e,t,r){e.exports=r(13).default,e.exports.default=e.exports},function(e,t,r){(function(e){"use strict";function n(t,r){return void 0===r&&(r="utf8"),a(e.isBuffer(t)?t.toString("base64"):new e(t,r).toString("base64"))}function o(t,r){return void 0===r&&(r="utf8"),new e(i(t),"base64").toString(r)}function i(e){return e=e.toString(),s.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function a(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(t){return new e(i(t),"base64")}var s=r(14),c=n;c.encode=n,c.decode=o,c.toBase64=i,c.fromBase64=a,c.toBuffer=u,Object.defineProperty(t,"__esModule",{value:!0}),t.default=c}).call(t,r(5).Buffer)},function(e,t,r){(function(e){"use strict";function r(t){var r=4,n=t.length,o=n%r;if(!o)return t;var i=n,a=r-o,u=n+a,s=new e(u);for(s.write(t);a--;)s.write("=",i++);return s.toString()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r}).call(t,r(5).Buffer)},function(e,t,r){var n="undefined"!=typeof JSON?JSON:r(16);e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var r=t.space||"";"number"==typeof r&&(r=Array(r+1).join(" "));var a="boolean"==typeof t.cycles&&t.cycles,u=t.replacer||function(e,t){return t},s=t.cmp&&function(e){return function(t){return function(r,n){var o={key:r,value:t[r]},i={key:n,value:t[n]};return e(o,i)}}}(t.cmp),c=[];return function e(t,f,h,l){var d=r?"\n"+new Array(l+1).join(r):"",p=r?": ":":";if(h&&h.toJSON&&"function"==typeof h.toJSON&&(h=h.toJSON()),h=u.call(t,f,h),void 0!==h){if("object"!=typeof h||null===h)return n.stringify(h);if(o(h)){for(var y=[],v=0;v<h.length;v++){var g=e(h,v,h[v],l+1)||n.stringify(null);y.push(d+r+g)}return"["+y.join(",")+d+"]"}if(c.indexOf(h)!==-1){if(a)return n.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}c.push(h);for(var m=i(h).sort(s&&s(h)),y=[],v=0;v<m.length;v++){var f=m[v],b=e(h,f,h[f],l+1);if(b){var w=n.stringify(f)+p+b;y.push(d+r+w)}}return c.splice(c.indexOf(h),1),"{"+y.join(",")+d+"}"}}({"":e},"",e,0)};var o=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},i=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},r=[];for(var n in e)t.call(e,n)&&r.push(n);return r}},function(e,t,r){t.parse=r(17),t.stringify=r(18)},function(e,t){var r,n,o,i,a={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},u=function(e){throw{name:"SyntaxError",message:e,at:r,text:o}},s=function(e){return e&&e!==n&&u("Expected '"+e+"' instead of '"+n+"'"),n=o.charAt(r),r+=1,n},c=function(){var e,t="";for("-"===n&&(t="-",s("-"));n>="0"&&n<="9";)t+=n,s();if("."===n)for(t+=".";s()&&n>="0"&&n<="9";)t+=n;if("e"===n||"E"===n)for(t+=n,s(),"-"!==n&&"+"!==n||(t+=n,s());n>="0"&&n<="9";)t+=n,s();return e=+t,isFinite(e)?e:void u("Bad number")},f=function(){var e,t,r,o="";if('"'===n)for(;s();){if('"'===n)return s(),o;if("\\"===n)if(s(),"u"===n){for(r=0,t=0;t<4&&(e=parseInt(s(),16),isFinite(e));t+=1)r=16*r+e;o+=String.fromCharCode(r)}else{if("string"!=typeof a[n])break;o+=a[n]}else o+=n}u("Bad string")},h=function(){for(;n&&n<=" ";)s()},l=function(){switch(n){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null}u("Unexpected '"+n+"'")},d=function(){var e=[];if("["===n){if(s("["),h(),"]"===n)return s("]"),
e;for(;n;){if(e.push(i()),h(),"]"===n)return s("]"),e;s(","),h()}}u("Bad array")},p=function(){var e,t={};if("{"===n){if(s("{"),h(),"}"===n)return s("}"),t;for(;n;){if(e=f(),h(),s(":"),Object.hasOwnProperty.call(t,e)&&u('Duplicate key "'+e+'"'),t[e]=i(),h(),"}"===n)return s("}"),t;s(","),h()}}u("Bad object")};i=function(){switch(h(),n){case"{":return p();case"[":return d();case'"':return f();case"-":return c();default:return n>="0"&&n<="9"?c():l()}},e.exports=function(e,t){var a;return o=e,r=0,n=" ",a=i(),h(),n&&u("Syntax error"),"function"==typeof t?function e(r,n){var o,i,a=r[n];if(a&&"object"==typeof a)for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i=e(a,o),void 0!==i?a[o]=i:delete a[o]);return t.call(r,n,a)}({"":a},""):a}},function(e,t){function r(e){return u.lastIndex=0,u.test(e)?'"'+e.replace(u,function(e){var t=s[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function n(e,t){var u,s,c,f,h,l=o,d=t[e];switch(d&&"object"==typeof d&&"function"==typeof d.toJSON&&(d=d.toJSON(e)),"function"==typeof a&&(d=a.call(t,e,d)),typeof d){case"string":return r(d);case"number":return isFinite(d)?String(d):"null";case"boolean":case"null":return String(d);case"object":if(!d)return"null";if(o+=i,h=[],"[object Array]"===Object.prototype.toString.apply(d)){for(f=d.length,u=0;u<f;u+=1)h[u]=n(u,d)||"null";return c=0===h.length?"[]":o?"[\n"+o+h.join(",\n"+o)+"\n"+l+"]":"["+h.join(",")+"]",o=l,c}if(a&&"object"==typeof a)for(f=a.length,u=0;u<f;u+=1)s=a[u],"string"==typeof s&&(c=n(s,d),c&&h.push(r(s)+(o?": ":":")+c));else for(s in d)Object.prototype.hasOwnProperty.call(d,s)&&(c=n(s,d),c&&h.push(r(s)+(o?": ":":")+c));return c=0===h.length?"{}":o?"{\n"+o+h.join(",\n"+o)+"\n"+l+"}":"{"+h.join(",")+"}",o=l,c}}var o,i,a,u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};e.exports=function(e,t,r){var u;if(o="",i="","number"==typeof r)for(u=0;u<r;u+=1)i+=" ";else"string"==typeof r&&(i=r);if(a=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return n("",{"":e})}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(9),u=n(a),s=r(12),c=n(s),f=function(){function e(){o(this,e)}return i(e,null,[{key:"generateNonce",value:function(){return(0,c.default)(u.default.sign.keyPair().publicKey)}},{key:"countDecimals",value:function(e){return Math.floor(e)===e?0:e.toString().split(".")[1].length||0}},{key:"tryToDo",value:function(e,t){return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,regeneratorRuntime.awrap(t());case 3:return r.abrupt("return",r.sent);case 6:return r.prev=6,r.t0=r.catch(0),r.abrupt("return",Promise.reject({type:e.name,error:r.t0,reason:void 0!==r.t0.response&&void 0!==r.t0.response.data?r.t0.response.data:"UNKNOWN"}));case 9:case"end":return r.stop()}},null,this,[[0,6]])}}]),e}();t.default=f},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(4),u=n(a),s=r(21),c=n(s),f=r(22),h=n(f),l=r(25),d=n(l),p=r(26),y=n(p),v=r(27),g=n(v),m=r(28),b=n(m),w=r(23),_=n(w),k=r(54),A=n(k),T=r(55),x=n(T),E=r(56),R=n(E),S=r(57),U=n(S),P=r(19),O=n(P),I=r(30),B=function(){function e(t,r,n){o(this,e),this._id=r,this._keys=n,this._client=new b.default(t,r,n)}return i(e,[{key:"saveToLocalStorage",value:function(){c.default.saveMember(this)}},{key:"useAccessToken",value:function(e){this._client.useAccessToken(e)}},{key:"clearAccessToken",value:function(){this._client.clearAccessToken()}},{key:"approveKey",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.default.PRIVILEGED;return O.default.tryToDo(this.approveKey,function(){var n;return regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,regeneratorRuntime.awrap(t._getPreviousHash());case 2:return n=o.sent,o.next=5,regeneratorRuntime.awrap(t._client.addKey(n,u.default.bufferKey(e),r));case 5:return o.abrupt("return");case 6:case"end":return o.stop()}},null,t)})}},{key:"removeKey",value:function(e){var t=this;return O.default.tryToDo(this.removeKey,function(){var r;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(t._getPreviousHash());case 2:return r=n.sent,n.next=5,regeneratorRuntime.awrap(t._client.removeKey(r,e));case 5:return n.abrupt("return");case 6:case"end":return n.stop()}},null,t)})}},{key:"addUsername",value:function(e){var t=this;return O.default.tryToDo(this.addUsername,function(){var r;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(t._getPreviousHash());case 2:return r=n.sent,n.next=5,regeneratorRuntime.awrap(t._client.addUsername(r,e));case 5:return n.abrupt("return");case 6:case"end":return n.stop()}},null,t)})}},{key:"removeUsername",value:function(e){var t=this;return O.default.tryToDo(this.removeUsername,function(){var r;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(t._getPreviousHash());case 2:return r=n.sent,n.next=5,regeneratorRuntime.awrap(t._client.removeUsername(r,e));case 5:return n.abrupt("return");case 6:case"end":return n.stop()}},null,t)})}},{key:"linkAccounts",value:function(e,t){var r=this;return O.default.tryToDo(this.linkAccounts,function(){var n;return regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,regeneratorRuntime.awrap(r._client.linkAccounts(e,t));case 2:return n=o.sent,o.abrupt("return",n.data.accounts.map(function(e){return new h.default(r,e)}));case 4:case"end":return o.stop()}},null,r)})}},{key:"getAccounts",value:function(){var e=this;return O.default.tryToDo(this.getAccounts,function(){var t;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(e._client.getAccounts());case 2:return t=r.sent,r.abrupt("return",t.data.accounts.map(function(t){return new h.default(e,t)}));case 4:case"end":return r.stop()}},null,e)})}},{key:"subscribeToNotifications",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"IOS";return O.default.tryToDo(this.subscribeToNotifications,function(){var n;return regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,regeneratorRuntime.awrap(t._client.subscribeToNotifications(e,r));case 2:return n=o.sent,o.abrupt("return",new d.default(n.data.subscriber));case 4:case"end":return o.stop()}},null,t)})}},{key:"getSubscribers",value:function(){var e=this;return O.default.tryToDo(this.getSubscribers,function(){var t;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(e._client.getSubscribers());case 2:return t=r.sent,r.abrupt("return",t.data.subscribers.map(function(e){return new d.default(e)}));case 4:case"end":return r.stop()}},null,e)})}},{key:"getSubscriber",value:function(e){var t=this;return O.default.tryToDo(this.getSubscriber,function(){var r;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(t._client.getSubscriber(e));case 2:return r=n.sent,n.abrupt("return",new d.default(r.data.subscriber));case 4:case"end":return n.stop()}},null,t)})}},{key:"unsubscribeFromNotifications",value:function(e){var t=this;return O.default.tryToDo(this.unsubscribeFromNotifications,function(){return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(t._client.unsubscribeFromNotifications(e));case 2:return r.abrupt("return");case 3:case"end":return r.stop()}},null,t)})}},{key:"addAddress",value:function(e,t){var r=this;return O.default.tryToDo(this.addAddress,function(){var n;return regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,regeneratorRuntime.awrap(r._client.addAddress(e,t));case 2:return n=o.sent,o.abrupt("return",new y.default(n.data.address));case 4:case"end":return o.stop()}},null,r)})}},{key:"getAddress",value:function(e){var t=this;return O.default.tryToDo(this.getAddress,function(){var r;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(t._client.getAddress(e));case 2:return r=n.sent,n.abrupt("return",new y.default(r.data.address));case 4:case"end":return n.stop()}},null,t)})}},{key:"getAddresses",value:function(){var e=this;return O.default.tryToDo(this.getAddresses,function(){var t;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(e._client.getAddresses());case 2:return t=r.sent,r.abrupt("return",t.data.addresses.map(function(e){return new y.default(e)}));case 4:case"end":return r.stop()}},null,e)})}},{key:"getAllUsernames",value:function(){var e=this;return O.default.tryToDo(this.getAllUsernames,function(){var t;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(e._getMember());case 2:return t=r.sent,r.abrupt("return",t.usernames);case 4:case"end":return r.stop()}},null,e)})}},{key:"createAccessToken",value:function(e){var t=this;return O.default.tryToDo(this.createAccessToken,function(){var r;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(t._client.createToken(e.from(t).json));case 2:return r=n.sent,n.abrupt("return",R.default.createFromToken(r.data.token));case 4:case"end":return n.stop()}},null,t)})}},{key:"replaceAccessToken",value:function(e,t){var r=this;return O.default.tryToDo(this.replaceAccessToken,function(){var n;return regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,regeneratorRuntime.awrap(r._client.replaceToken(e,t));case 2:return n=o.sent,o.abrupt("return",new A.default(n.data.result,R.default.createFromToken(n.data.result.token)));case 4:case"end":return o.stop()}},null,r)})}},{key:"replaceAndEndorseAccessToken",value:function(e,t){var r=this;return O.default.tryToDo(this.replaceAndEndorseAccessToken,function(){var n;return regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,regeneratorRuntime.awrap(r._client.replaceAndEndorseToken(e,t));case 2:return n=o.sent,o.abrupt("return",new A.default(n.data.result,R.default.createFromToken(n.data.result.token)));case 4:case"end":return o.stop()}},null,r)})}},{key:"createToken",value:function(e,t,r,n){var o=this,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,a=x.default.create(this,e,t,r,n,i);return O.default.tryToDo(this.createToken,function(){var e;return regeneratorRuntime.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(o._client.createToken(a.json));case 2:return e=t.sent,t.abrupt("return",x.default.createFromToken(e.data.token));case 4:case"end":return t.stop()}},null,o)})}},{key:"getToken",value:function(e){var t=this;return O.default.tryToDo(this.getToken,function(){var r;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(t._client.getToken(e));case 2:if(r=n.sent,void 0===r.data.token.payload.access){n.next=7;break}return n.abrupt("return",R.default.createFromToken(r.data.token));case 7:return n.abrupt("return",x.default.createFromToken(r.data.token));case 8:case"end":return n.stop()}},null,t)})}},{key:"getTransferTokens",value:function(e,t){var r=this;return O.default.tryToDo(this.getTransferTokens,function(){var n;return regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,regeneratorRuntime.awrap(r._client.getTokens("TRANSFER",e,t));case 2:return n=o.sent,o.abrupt("return",new _.default(void 0===n.data.tokens?[]:n.data.tokens.map(function(e){return x.default.createFromToken(e)}),n.data.offset));case 4:case"end":return o.stop()}},null,r)})}},{key:"getAccessTokens",value:function(e,t){var r=this;return O.default.tryToDo(this.getAccessTokens,function(){var n;return regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,regeneratorRuntime.awrap(r._client.getTokens("ACCESS",e,t));case 2:return n=o.sent,o.abrupt("return",new _.default(void 0===n.data.tokens?[]:n.data.tokens.map(function(e){return R.default.createFromToken(e)}),n.data.offset));case 4:case"end":return o.stop()}},null,r)})}},{key:"endorseToken",value:function(e){var t=this;return O.default.tryToDo(this.endorseToken,function(){var r,n;return regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,regeneratorRuntime.awrap(t._resolveToken(e));case 2:return r=o.sent,o.next=5,regeneratorRuntime.awrap(t._client.endorseToken(r));case 5:return n=o.sent,"string"==typeof e||e instanceof String||(e.payloadSignatures=n.data.result.token.payloadSignatures),o.abrupt("return",new A.default(n.data.result,e));case 8:case"end":return o.stop()}},null,t)})}},{key:"cancelToken",value:function(e){var t=this;return O.default.tryToDo(this.cancelToken,function(){var r,n;return regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,regeneratorRuntime.awrap(t._resolveToken(e));case 2:return r=o.sent,o.next=5,regeneratorRuntime.awrap(t._client.cancelToken(r));case 5:return n=o.sent,"string"==typeof e||e instanceof String||(e.payloadSignatures=n.data.result.token.payloadSignatures),o.abrupt("return",new A.default(n.data.result,e));case 8:case"end":return o.stop()}},null,t)})}},{key:"createTransfer",value:function(e,t,r,n){var o=this,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return O.default.tryToDo(this.createTransfer,function(){var a,u;return regeneratorRuntime.async(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,regeneratorRuntime.awrap(o._resolveToken(e));case 2:if(a=s.sent,void 0===t&&(t=a.payload.transfer.amount),void 0===r&&(r=a.payload.transfer.currency),!(O.default.countDecimals(t)>I.maxDecimals)){s.next=7;break}throw new Error("Number of decimals in amount should be at most "+I.maxDecimals);case 7:return s.next=9,regeneratorRuntime.awrap(o._client.createTransfer(a,t,r,n,i));case 9:return u=s.sent,s.abrupt("return",new U.default(u.data.transfer));case 11:case"end":return s.stop()}},null,o)})}},{key:"getTransfer",value:function(e){var t=this;return O.default.tryToDo(this.getTransfer,function(){var r;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(t._client.getTransfer(e));case 2:return r=n.sent,n.abrupt("return",new U.default(r.data.transfer));case 4:case"end":return n.stop()}},null,t)})}},{key:"getTransfers",value:function(e,t,r){var n=this;return O.default.tryToDo(this.getTransfers,function(){var o;return regeneratorRuntime.async(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,regeneratorRuntime.awrap(n._client.getTransfers(e,t,r));case 2:return o=i.sent,i.abrupt("return",new _.default(o.data.transfers.map(function(e){return new U.default(e)}),o.data.offset));case 4:case"end":return i.stop()}},null,n)})}},{key:"getPublicKeys",value:function(){var e=this;return O.default.tryToDo(this.getPublicKeys,function(){var t;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(e._getMember());case 2:return t=r.sent,r.abrupt("return",t.keys);case 4:case"end":return r.stop()}},null,e)})}},{key:"_getPreviousHash",value:function(){var e=this;return O.default.tryToDo(this._getPreviousHash,function(){var t;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(e._getMember());case 2:return t=r.sent,r.abrupt("return",t.lastHash);case 4:case"end":return r.stop()}},null,e)})}},{key:"_getMember",value:function(){var e=this;return O.default.tryToDo(this._getMember,function(){var t;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(e._client.getMember());case 2:return t=r.sent,r.abrupt("return",t.data.member);case 4:case"end":return r.stop()}},null,e)})}},{key:"_resolveToken",value:function(e){var t=this;return new Promise(function(r,n){"string"==typeof e||e instanceof String?t.getToken(e).then(function(e){return r(e)}):r(e)})}},{key:"id",get:function(){return this._id}},{key:"keys",get:function(){return this._keys}}]),e}();t.default=B},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(20),u=n(a),s=r(4),c=n(s),f=function(){function e(){o(this,e)}return i(e,null,[{key:"saveMember",value:function(e){var t={memberId:e.id,keys:{publicKey:c.default.strKey(e.keys.publicKey),secretKey:c.default.strKey(e.keys.secretKey),keyId:e.keys.keyId}};window.localStorage.member=JSON.stringify(t)}},{key:"loadMember",value:function(e){var t=JSON.parse(window.localStorage.member),r={publicKey:c.default.bufferKey(t.keys.publicKey),secretKey:c.default.bufferKey(t.keys.secretKey),keyId:t.keys.keyId};return new u.default(e,t.memberId,r)}}]),e}();t.default=f},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(23),u=n(a),s=r(24),c=n(s),f=r(19),h=n(f),l=function(){function e(t,r){o(this,e),this._member=t,this._id=r.id,this._name=r.name,this._bankId=r.bankId}return i(e,[{key:"getBalance",value:function(){var e=this;return h.default.tryToDo(this.getBalance,function(){var t;return regeneratorRuntime.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(e._member._client.getBalance(e._id));case 2:return t=r.sent,r.abrupt("return",t.data);case 4:case"end":return r.stop()}},null,e)})}},{key:"getTransaction",value:function(e){var t=this;return h.default.tryToDo(this.getTransaction,function(){var r;return regeneratorRuntime.async(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(t._member._client.getTransaction(t._id,e));case 2:return r=n.sent,n.abrupt("return",new c.default(r.data.transaction));case 4:case"end":return n.stop()}},null,t)})}},{key:"getTransactions",value:function(e,t){var r=this;return h.default.tryToDo(this.getTransactions,function(){var n;return regeneratorRuntime.async(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,regeneratorRuntime.awrap(r._member._client.getTransactions(r._id,e,t));case 2:return n=o.sent,o.abrupt("return",new u.default(n.data.transactions.map(function(e){return new c.default(e)}),n.data.offset));case 4:case"end":return o.stop()}},null,r)})}},{key:"member",get:function(){return this._member}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"bankId",get:function(){return this._bankId}}]),e}();t.default=l},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t,n){r(this,e),this._data=t,this._offset=n}return n(e,[{key:"data",get:function(){return this._data}},{key:"offset",get:function(){return this._offset}}]),e}();t.default=o},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t){r(this,e),this._id=t.id,this._type=t.type,this._currency=t.amount.currency,this._amount=parseFloat(t.amount.value),this._description=t.description,this._tokenId=t.tokenId,this._tokenTransferId=t.tokenTransferId}return n(e,[{key:"id",get:function(){return this._id}},{key:"type",get:function(){return this._type}},{key:"amount",get:function(){return this._amount}},{key:"currency",get:function(){return this._currency}},{key:"description",get:function(){return this._description}},{key:"tokenId",get:function(){return this._tokenId}},{key:"tokenTransferId",get:function(){return this._tokenTransferId}}]),e}();t.default=o},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t){r(this,e),this._id=t.id,this._target=t.target,this._platform=t.platform}return n(e,[{key:"id",get:function(){return this._id}},{key:"target",get:function(){return this._target}},{key:"platform",get:function(){return this._platform}}]),e}();t.default=o},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t){r(this,e),this._id=t.id,this._name=t.name,this._address=t.address,this._addressSignature=t.addressSignature}return n(e,[{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"address",get:function(){return this._address}},{key:"addressSignature",get:function(){return this._addressSignature}}]),e}();t.default=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={PRIVILEGED:"PRIVILEGED",STANDARD:"STANDARD",LOW:"LOW"}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(4),u=n(a),s=r(19),c=n(s),f=r(29),h=n(f),l=r(31),d=n(l),p=r(30),y=r(27),v=n(y),g=r(15),m=r(32),b=function(){function e(t,r,n){o(this,e),this._instance=m.create({baseURL:p.urls[t]}),this._memberId=r,this._keys=n,this._context=new d.default,this._authHeader=new h.default(p.urls[t],n),this._resetInterceptor()}return i(e,[{key:"_resetInterceptor",value:function(){var e=this;this._instance.interceptors.request.eject(this._interceptor),this._interceptor=this._instance.interceptors.request.use(function(t){return e._authHeader.addAuthorizationHeaderMemberId(e._memberId,t,e._context),t})}},{key:"useAccessToken",value:function(e){this._context.onBehalfOf=e,this._resetInterceptor()}},{key:"clearAccessToken",value:function(){this._context.onBehalfOf=void 0,this._resetInterceptor()}},{key:"subscribeToNotifications",value:function(e,t){var r={target:e,platform:t},n={method:"post",url:"/subscribers",data:r};return this._instance(n)}},{key:"getSubscribers",value:function(){var e={method:"get",url:"/subscribers"};return this._instance(e)}},{key:"getSubscriber",value:function(e){var t={method:"get",url:"/subscribers/"+e};return this._instance(t)}},{key:"unsubscribeFromNotifications",value:function(e){var t={method:"delete",url:"/subscribers/"+e};return this._instance(t)}},{key:"addAddress",value:function(e,t){var r={name:e,address:t,addressSignature:{memberId:this._memberId,keyId:this._keys.keyId,signature:u.default.signJson(t,this._keys)}},n={method:"post",url:"/addresses",data:r};return this._instance(n)}},{key:"getAddress",value:function(e){var t={method:"get",url:"/addresses/"+e};return this._instance(t)}},{key:"getAddresses",value:function(){var e={method:"get",url:"/addresses"};return this._instance(e)}},{key:"linkAccounts",value:function(e,t){var r={bankId:e,accountLinkPayloads:t},n={method:"post",url:"/accounts",data:r};return this._instance(n)}},{key:"getAccounts",value:function(){var e={method:"get",url:"/accounts"};return this._instance(e)}},{key:"setAccountName",value:function(e,t){var r={method:"patch",url:"/accounts/"+e+"?name="+t};return this._instance(r)}},{key:"getBalance",value:function(e){var t={method:"get",url:"/accounts/"+e+"/balance"};return this._instance(t)}},{key:"getTransaction",value:function(e,t){var r={method:"get",url:"/accounts/"+e+"/transactions/"+t};return this._instance(r)}},{key:"getTransactions",value:function(e,t,r){var n={method:"get",url:"/accounts/"+e+"/transactions?offset="+t+"&limit="+r};return this._instance(n)}},{key:"createToken",value:function(e){var t={method:"post",url:"/tokens",data:{payload:e}};return this._instance(t)}},{key:"replaceToken",value:function(e,t){var r=e.id,n=this._tokenOperationRequest(e,"cancelled"),o={payload:t.json},i={method:"post",url:"/tokens/"+r+"/replace",data:{cancel_token:n,create_token:o}};return this._instance(i)}},{key:"replaceAndEndorseToken",value:function(e,t){var r=e.id,n=this._tokenOperationRequest(e,"cancelled"),o={payload:t.json,payload_signature:this._tokenOperationSignature(t,"endorsed")},i={method:"post",url:"/tokens/"+r+"/replace",data:{cancel_token:n,create_token:o}};return this._instance(i)}},{key:"endorseToken",value:function(e){return this._tokenOperation(e,"endorse","endorsed")}},{key:"cancelToken",value:function(e){return this._tokenOperation(e,"cancel","cancelled")}},{key:"createTransfer",value:function(e,t,r,n,o){var i={nonce:c.default.generateNonce(),tokenId:e.id,amount:{value:t.toString(),currency:r}};n&&(i.description=n),void 0!==o&&o.length>0&&(i.destinations=o);var a={payload:i,payloadSignature:{memberId:this._memberId,keyId:this._keys.keyId,signature:u.default.signJson(i,this._keys)}},s={method:"post",url:"/transfers",data:a};return this._instance(s)}},{key:"getToken",value:function(e){var t={method:"get",url:"/tokens/"+e};return this._instance(t)}},{key:"getTokens",value:function(e,t,r){var n={method:"get",url:"/tokens?type="+e+"&offset="+t+"&limit="+r};return this._instance(n)}},{key:"_tokenOperation",value:function(e,t,r){var n=e.id,o={method:"put",url:"/tokens/"+n+"/"+t,data:this._tokenOperationRequest(e,r)};return this._instance(o)}},{key:"_tokenOperationRequest",value:function(e,t){return{tokenId:e.id,signature:this._tokenOperationSignature(e,t)}}},{key:"_tokenOperationSignature",value:function(e,t){var r=g(e.json)+("."+t);return{memberId:this._memberId,keyId:this._keys.keyId,signature:u.default.sign(r,this._keys)}}},{key:"getTransfer",value:function(e){var t={method:"get",url:"/transfers/"+e};return this._instance(t)}},{key:"getTransfers",value:function(e,t,r){var n={method:"get",url:"/transfers?tokenId="+e+"&offset="+t+"&limit="+r};return this._instance(n)}},{key:"getMember",value:function(){var e={method:"get",url:"/members"};return this._instance(e)}},{key:"addKey",value:function(e,t,r){var n={memberId:this._memberId,addKey:{publicKey:u.default.strKey(t)}};return r!==v.default.PRIVILEGED&&(n.addKey.level=r),this._memberUpdate(n,e)}},{key:"removeKey",value:function(e,t){var r={memberId:this._memberId,removeKey:{keyId:t}};return this._memberUpdate(r,e)}},{key:"addUsername",value:function(e,t){var r={memberId:this._memberId,addUsername:{username:t}};return this._memberUpdate(r,e)}},{key:"removeUsername",value:function(e,t){var r={memberId:this._memberId,removeUsername:{username:t}};return this._memberUpdate(r,e)}},{key:"_memberUpdate",value:function(e,t){""!==t&&(e.prevHash=t);var r={update:e,updateSignature:{memberId:this._memberId,keyId:this._keys.keyId,signature:u.default.signJson(e,this._keys)}},n={method:"post",url:"/members/"+this._memberId+"/updates",data:r};return this._instance(n)}}]),e}();t.default=b},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(30),u=r(4),s=n(u),c=r(15),f=function(){function e(t,r){o(this,e),this._baseUrl=t,this._keys=r}return i(e,[{key:"addAuthorizationHeaderMemberId",value:function(e,t,r){var n="member-id="+e;this.addAuthorizationHeader(n,t,r)}},{key:"addAuthorizationHeaderUsername",value:function(e,t,r){var n="username="+e;this.addAuthorizationHeader(n,t,r)}},{key:"addAuthorizationHeader",value:function(t,r,n){var o=r.url.replace(this._baseUrl,"");o="/"===o.substring(0,1)?o:o+"/",o="/"===o.substring(o.length-1)?o.substring(0,o.length-1):o,o.indexOf("?")>=0&&(o=o.substring(0,o.indexOf("?")));var i={method:r.method.toUpperCase(),uriHost:this._baseUrl.replace("http://","").replace("https://",""),uriPath:o};void 0!==r.data&&""!==r.data&&(i.requestBody=c(r.data)),r.url.indexOf("?")!==-1&&(i.queryString=r.url.substring(r.url.indexOf("?")+1));var u=s.default.signJson(i,this._keys),f=a.signatureScheme+" "+t+",key-id="+this._keys.keyId+",signature="+u+e._onBehalfOfHeader(n);r.headers={Authorization:f}}}],[{key:"_onBehalfOfHeader",value:function(e){return void 0!==e&&void 0!==e.onBehalfOf&&""!==e.onBehalfOf?",on-behalf-of="+e.onBehalfOf:""}}]),e}();t.default=f},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="Token-Ed25519-SHA512",n={local:"http://localhost:8000",dev:"http://dev.api.token.io",stg:"http://stg.api.token.io",prd:"http://prd.api.token.io"},o="1.0",i="1.0",a="EUR",u=4;t.signatureScheme=r,t.urls=n,t.transferTokenVersion=o,t.accessTokenVersion=i,t.defaultCurrency=a,
t.maxDecimals=u},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(){r(this,e),this._onBehalfOf=void 0}return n(e,[{key:"onBehalfOf",set:function(e){this._onBehalfOf=e},get:function(){return this._onBehalfOf}}]),e}();t.default=o},function(e,t,r){e.exports=r(33)},function(e,t,r){"use strict";function n(e){var t=new a(e),r=i(a.prototype.request,t);return o.extend(r,a.prototype,t),o.extend(r,t),r}var o=r(34),i=r(35),a=r(36),u=n();u.Axios=a,u.create=function(e){return n(e)},u.all=function(e){return Promise.all(e)},u.spread=r(53),e.exports=u,e.exports.default=u},function(e,t,r){"use strict";function n(e){return"[object Array]"===A.call(e)}function o(e){return"[object ArrayBuffer]"===A.call(e)}function i(e){return"undefined"!=typeof FormData&&e instanceof FormData}function a(e){var t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function u(e){return"string"==typeof e}function s(e){return"number"==typeof e}function c(e){return"undefined"==typeof e}function f(e){return null!==e&&"object"==typeof e}function h(e){return"[object Date]"===A.call(e)}function l(e){return"[object File]"===A.call(e)}function d(e){return"[object Blob]"===A.call(e)}function p(e){return"[object Function]"===A.call(e)}function y(e){return f(e)&&p(e.pipe)}function v(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function g(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function m(){return"undefined"!=typeof window&&"undefined"!=typeof document&&"function"==typeof document.createElement}function b(e,t){if(null!==e&&"undefined"!=typeof e)if("object"==typeof e||n(e)||(e=[e]),n(e))for(var r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else for(var i in e)e.hasOwnProperty(i)&&t.call(null,e[i],i,e)}function w(){function e(e,r){"object"==typeof t[r]&&"object"==typeof e?t[r]=w(t[r],e):t[r]=e}for(var t={},r=0,n=arguments.length;r<n;r++)b(arguments[r],e);return t}function _(e,t,r){return b(t,function(t,n){r&&"function"==typeof t?e[n]=k(t,r):e[n]=t}),e}var k=r(35),A=Object.prototype.toString;e.exports={isArray:n,isArrayBuffer:o,isFormData:i,isArrayBufferView:a,isString:u,isNumber:s,isObject:f,isUndefined:c,isDate:h,isFile:l,isBlob:d,isFunction:p,isStream:y,isURLSearchParams:v,isStandardBrowserEnv:m,forEach:b,merge:w,extend:_,trim:g}},function(e,t){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},function(e,t,r){"use strict";function n(e){this.defaults=i.merge(o,e),this.interceptors={request:new a,response:new a}}var o=r(37),i=r(34),a=r(39),u=r(40),s=r(51),c=r(52);n.prototype.request=function(e){"string"==typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),e=i.merge(o,this.defaults,{method:"get"},e),e.baseURL&&!s(e.url)&&(e.url=c(e.baseURL,e.url));var t=[u,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},i.forEach(["delete","get","head"],function(e){n.prototype[e]=function(t,r){return this.request(i.merge(r||{},{method:e,url:t}))}}),i.forEach(["post","put","patch"],function(e){n.prototype[e]=function(t,r,n){return this.request(i.merge(n||{},{method:e,url:t,data:r}))}}),e.exports=n},function(e,t,r){"use strict";function n(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var o=r(34),i=r(38),a=/^\)\]\}',?\n/,u={"Content-Type":"application/x-www-form-urlencoded"};e.exports={transformRequest:[function(e,t){return i(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(n(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)?(n(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e){e=e.replace(a,"");try{e=JSON.parse(e)}catch(e){}}return e}],headers:{common:{Accept:"application/json, text/plain, */*"},patch:o.merge(u),post:o.merge(u),put:o.merge(u)},timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}}},function(e,t,r){"use strict";var n=r(34);e.exports=function(e,t){n.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}},function(e,t,r){"use strict";function n(){this.handlers=[]}var o=r(34);n.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},n.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},n.prototype.forEach=function(e){o.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=n},function(e,t,r){(function(t){"use strict";var n=r(34),o=r(41);e.exports=function(e){e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]});var i;return"function"==typeof e.adapter?i=e.adapter:"undefined"!=typeof XMLHttpRequest?i=r(42):"undefined"!=typeof t&&(i=r(42)),Promise.resolve(e).then(i).then(function(t){return t.data=o(t.data,t.headers,e.transformResponse),t},function(t){return t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse)),Promise.reject(t)})}}).call(t,r(2))},function(e,t,r){"use strict";var n=r(34);e.exports=function(e,t,r){return n.forEach(r,function(r){e=r(e,t)}),e}},function(e,t,r){(function(t){"use strict";var n=r(34),o=r(43),i=r(46),a=r(47),u=r(48),s=r(44),c="undefined"!=typeof window&&window.btoa||r(49);e.exports=function(e){return new Promise(function(f,h){var l=e.data,d=e.headers;n.isFormData(l)&&delete d["Content-Type"];var p=new XMLHttpRequest,y="onreadystatechange",v=!1;if("test"===t.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||u(e.url)||(p=new window.XDomainRequest,y="onload",v=!0,p.onprogress=function(){},p.ontimeout=function(){}),e.auth){var g=e.auth.username||"",m=e.auth.password||"";d.Authorization="Basic "+c(g+":"+m)}if(p.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p[y]=function(){if(p&&(4===p.readyState||v)&&0!==p.status){var t="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,r=e.responseType&&"text"!==e.responseType?p.response:p.responseText,n={data:r,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:t,config:e,request:p};o(f,h,n),p=null}},p.onerror=function(){h(s("Network Error",e)),p=null},p.ontimeout=function(){h(s("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED")),p=null},n.isStandardBrowserEnv()){var b=r(50),w=(e.withCredentials||u(e.url))&&e.xsrfCookieName?b.read(e.xsrfCookieName):void 0;w&&(d[e.xsrfHeaderName]=w)}if("setRequestHeader"in p&&n.forEach(d,function(e,t){"undefined"==typeof l&&"content-type"===t.toLowerCase()?delete d[t]:p.setRequestHeader(t,e)}),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(e){if("json"!==p.responseType)throw e}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),void 0===l&&(l=null),p.send(l)})}}).call(t,r(2))},function(e,t,r){"use strict";var n=r(44);e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r)):e(r)}},function(e,t,r){"use strict";var n=r(45);e.exports=function(e,t,r,o){var i=new Error(e);return n(i,t,r,o)}},function(e,t){"use strict";e.exports=function(e,t,r,n){return e.config=t,r&&(e.code=r),e.response=n,e}},function(e,t,r){"use strict";function n(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var o=r(34);e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(o.isURLSearchParams(t))i=t.toString();else{var a=[];o.forEach(t,function(e,t){null!==e&&"undefined"!=typeof e&&(o.isArray(e)&&(t+="[]"),o.isArray(e)||(e=[e]),o.forEach(e,function(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),a.push(n(t)+"="+n(e))}))}),i=a.join("&")}return i&&(e+=(e.indexOf("?")===-1?"?":"&")+i),e}},function(e,t,r){"use strict";var n=r(34);e.exports=function(e){var t,r,o,i={};return e?(n.forEach(e.split("\n"),function(e){o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t&&(i[t]=i[t]?i[t]+", "+r:r)}),i):i}},function(e,t,r){"use strict";var n=r(34);e.exports=n.isStandardBrowserEnv()?function(){function e(e){var t=e;return r&&(o.setAttribute("href",t),t=o.href),o.setAttribute("href",t),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}var t,r=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");return t=e(window.location.href),function(r){var o=n.isString(r)?e(r):r;return o.protocol===t.protocol&&o.host===t.host}}():function(){return function(){return!0}}()},function(e,t){"use strict";function r(){this.message="String contains an invalid character"}function n(e){for(var t,n,i=String(e),a="",u=0,s=o;i.charAt(0|u)||(s="=",u%1);a+=s.charAt(63&t>>8-u%1*8)){if(n=i.charCodeAt(u+=.75),n>255)throw new r;t=t<<8|n}return a}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.prototype=new Error,r.prototype.code=5,r.prototype.name="InvalidCharacterError",e.exports=n},function(e,t,r){"use strict";var n=r(34);e.exports=n.isStandardBrowserEnv()?function(){return{write:function(e,t,r,o,i,a){var u=[];u.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&u.push("expires="+new Date(r).toGMTString()),n.isString(o)&&u.push("path="+o),n.isString(i)&&u.push("domain="+i),a===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(e,t){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t){"use strict";e.exports=function(e,t){return e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,"")}},function(e,t){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t,n){r(this,e),this._status=t.status,this._token=n}return n(e,[{key:"status",get:function(){return this._status}},{key:"token",get:function(){return this._token}}],[{key:"Status",get:function(){return{INVALID:"INVALID",SUCCESS:"SUCCESS",MORE_SIGNATURES_NEEDED:"MORE_SIGNATURES_NEEDED"}}}]),e}();t.default=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(19),u=n(a),s=r(30),c=function(){function e(t,r,n,i,a,c,f){var h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:s.transferTokenVersion,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:void 0,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:void 0,p=arguments.length>10&&void 0!==arguments[10]?arguments[10]:[];if(o(this,e),u.default.countDecimals(i)>s.maxDecimals)throw new Error("Number of decimals in amount should be at most "+s.maxDecimals);this._id=t,this._from=r,this._instructions=n,this._amount=i,this._currency=a,this._redeemer=c,this._description=f,this._version=h,this._issuer=l,this._nonce=d,this._payloadSignatures=p,void 0===d&&(this._nonce=u.default.generateNonce())}return i(e,null,[{key:"createFromToken",value:function(t){var r=t.id,n=t.payload.from,o=t.payload.transfer.instructions,i=parseFloat(t.payload.transfer.amount),a=t.payload.transfer.currency,u=t.payload.transfer.redeemer,s=t.payload.description,c=t.payload.version,f=t.payload.issuer,h=t.payload.nonce,l=t.payloadSignatures;return new e(r,n,o,i,a,u,s,c,f,h,l)}},{key:"create",value:function(t,r,n,o,i,a){var u={id:t.id},s={username:i},c={source:{accountId:r}};return new e(void 0,u,c,n,o,s,a)}}]),i(e,[{key:"payloadSignatures",set:function(e){this._payloadSignatures=[];var t=!0,r=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this._payloadSignatures.push(a)}}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}},get:function(){return this._payloadSignatures}},{key:"id",get:function(){return this._id}},{key:"from",get:function(){return this._from}},{key:"amount",get:function(){return this._amount}},{key:"currency",get:function(){return this._currency}},{key:"redeemer",get:function(){return this._redeemer}},{key:"description",get:function(){return this._description}},{key:"version",get:function(){return this._version}},{key:"issuer",get:function(){return this._issuer}},{key:"nonce",get:function(){return this._nonce}},{key:"json",get:function(){var e={version:this._version,nonce:this._nonce,from:this._from,transfer:{currency:this._currency,amount:this._amount.toString(),instructions:this._instructions}};return void 0!==this._redeemer&&(e.transfer.redeemer=this._redeemer),""!==this._description&&(e.description=this._description),void 0!==this._issuer&&(e.issuer=this._issuer),e}}]),e}();t.default=c},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(19),u=n(a),s=r(30),c=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.accessTokenVersion,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,f=arguments[6],h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[];o(this,e),this._to=t,this._from=r,this._resources=n,this._id=i,this._version=a,this._nonce=c,this._issuer=f,this._payloadSignatures=h,void 0===c&&(this._nonce=u.default.generateNonce())}return i(e,null,[{key:"grantTo",value:function(t){return new e({username:t})}},{key:"createFromToken",value:function(t){return new e(t.payload.to,t.payload.from,t.payload.access.resources,t.id,t.payload.version,t.payload.nonce,t.payload.issuer,t.payloadSignatures)}},{key:"createFromAccessToken",value:function(t){return new e(t.toMember,t.fromMember,[],void 0,s.accessTokenVersion,void 0,t.issuer,[])}}]),i(e,[{key:"forAllAddresses",value:function(){var e={allAddresses:{}};return this._resources.push(e),this}},{key:"forAddress",value:function(e){var t={address:{addressId:e}};return this._resources.push(t),this}},{key:"forAllAccounts",value:function(){var e={allAccounts:{}};return this._resources.push(e),this}},{key:"forAccount",value:function(e){var t={account:{accountId:e}};return this._resources.push(t),this}},{key:"forAllTransactions",value:function(){var e={allTransactions:{}};return this._resources.push(e),this}},{key:"forAccountTransactions",value:function(e){var t={transactions:{accountId:e}};return this._resources.push(t),this}},{key:"forAllBalances",value:function(){var e={allBalances:{}};return this._resources.push(e),this}},{key:"forAccountBalances",value:function(e){var t={balance:{accountId:e}};return this._resources.push(t),this}},{key:"forAll",value:function(){return this.forAllAddresses().forAllAccounts().forAllBalances().forAllTransactions()}},{key:"from",value:function(e){return this._from={id:e.id},this}},{key:"payloadSignatures",set:function(e){this._payloadSignatures=[];var t=!0,r=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;this._payloadSignatures.push(a)}}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}},get:function(){return this._payloadSignatures}},{key:"json",get:function(){return{version:this._version,nonce:this._nonce,from:this._from,to:this._to,issuer:this._issuer,access:{resources:this._resources}}}},{key:"id",get:function(){return this._id}},{key:"version",get:function(){return this._version}},{key:"nonce",get:function(){return this._nonce}},{key:"fromMember",get:function(){return this._from}},{key:"toMember",get:function(){return this._to}},{key:"issuer",get:function(){return this._issuer}},{key:"resources",get:function(){return this._resources}}]),e}();t.default=c},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t){r(this,e),this._id=t.id,this._referenceId=t.referenceId,this._payload=JSON.parse(JSON.stringify(t.payload)),this._payloadSignatures=JSON.parse(JSON.stringify(t.payloadSignatures)),this._description=t.description}return n(e,[{key:"id",get:function(){return this._id}},{key:"referenceId",get:function(){return this._referenceId}},{key:"payload",get:function(){return this._payload}},{key:"amount",get:function(){return this._payload.amount.value}},{key:"currency",get:function(){return this._payload.amount.currency}},{key:"instructions",get:function(){return this._payload.instructions}},{key:"payloadSignatures",get:function(){return this._payloadSignatures}},{key:"description",get:function(){return this._description}}]),e}();t.default=o},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(4),u=n(a),s=r(27),c=n(s),f=r(30),h=r(32),l=function(){function e(t){o(this,e),this._instance=h.create({baseURL:f.urls[t]})}return i(e,[{key:"createMemberId",value:function(){var e={method:"post",url:"/members"};return this._instance(e)}},{key:"usernameExists",value:function(e){var t={method:"get",url:"/username-exists?username="+e};return this._instance(t)}},{key:"notify",value:function(e,t){var r={username:e,notification:t},n={method:"post",url:"/notify",data:r};return this._instance(n)}},{key:"addFirstKey",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.PRIVILEGED,n={memberId:t,addKey:{publicKey:u.default.strKey(e.publicKey)}};r!==c.default.PRIVILEGED&&(n.addKey.level=r);var o={update:n,updateSignature:{memberId:t,keyId:e.keyId,signature:u.default.signJson(n,e)}},i={method:"post",url:"/members/"+t+"/updates",data:o};return this._instance(i)}}]),e}();t.default=l},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(29),u=n(a),s=r(30),c=(r(15),r(32)),f=function(){function e(t,r,n){o(this,e),this._instance=c.create({baseURL:s.urls[t]});var i=new u.default(s.urls[t],n);this._instance.interceptors.request.use(function(e){return i.addAuthorizationHeaderUsername(r,e,void 0),e})}return i(e,[{key:"getMemberByUsername",value:function(){var e={method:"get",url:"/members"};return this._instance(e)}}]),e}();t.default=f},function(e,t,r){(function(t,n){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
	 * @version   3.3.1
	 */
!function(t,r){e.exports=r()}(this,function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function o(e){return"function"==typeof e}function i(e){X=e}function a(e){W=e}function u(){return function(){return t.nextTick(l)}}function s(){return function(){G(l)}}function c(){var e=0,t=new Q(l),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}function f(){var e=new MessageChannel;return e.port1.onmessage=l,function(){return e.port2.postMessage(0)}}function h(){var e=setTimeout;return function(){return e(l,1)}}function l(){for(var e=0;e<V;e+=2){var t=re[e],r=re[e+1];t(r),re[e]=void 0,re[e+1]=void 0}V=0}function d(){try{var e=r(61);return G=e.runOnLoop||e.runOnContext,s()}catch(e){return h()}}function p(e,t){var r=arguments,n=this,o=new this.constructor(v);void 0===o[oe]&&L(o);var i=n._state;return i?!function(){var e=r[i-1];W(function(){return I(i,o,e,n._result)})}():S(n,o,e,t),o}function y(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var r=new t(v);return T(r,e),r}function v(){}function g(){return new TypeError("You cannot resolve a promise with itself")}function m(){return new TypeError("A promises callback cannot return that same promise.")}function b(e){try{return e.then}catch(e){return se.error=e,se}}function w(e,t,r,n){try{e.call(t,r,n)}catch(e){return e}}function _(e,t,r){W(function(e){var n=!1,o=w(r,t,function(r){n||(n=!0,t!==r?T(e,r):E(e,r))},function(t){n||(n=!0,R(e,t))},"Settle: "+(e._label||" unknown promise"));!n&&o&&(n=!0,R(e,o))},e)}function k(e,t){t._state===ae?E(e,t._result):t._state===ue?R(e,t._result):S(t,void 0,function(t){return T(e,t)},function(t){return R(e,t)})}function A(e,t,r){t.constructor===e.constructor&&r===p&&t.constructor.resolve===y?k(e,t):r===se?R(e,se.error):void 0===r?E(e,t):o(r)?_(e,t,r):E(e,t)}function T(t,r){t===r?R(t,g()):e(r)?A(t,r,b(r)):E(t,r)}function x(e){e._onerror&&e._onerror(e._result),U(e)}function E(e,t){e._state===ie&&(e._result=t,e._state=ae,0!==e._subscribers.length&&W(U,e))}function R(e,t){e._state===ie&&(e._state=ue,e._result=t,W(x,e))}function S(e,t,r,n){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+ae]=r,o[i+ue]=n,0===i&&e._state&&W(U,e)}function U(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n=void 0,o=void 0,i=e._result,a=0;a<t.length;a+=3)n=t[a],o=t[a+r],n?I(r,n,o,i):o(i);e._subscribers.length=0}}function P(){this.error=null}function O(e,t){try{return e(t)}catch(e){return ce.error=e,ce}}function I(e,t,r,n){var i=o(r),a=void 0,u=void 0,s=void 0,c=void 0;if(i){if(a=O(r,n),a===ce?(c=!0,u=a.error,a=null):s=!0,t===a)return void R(t,m())}else a=n,s=!0;t._state!==ie||(i&&s?T(t,a):c?R(t,u):e===ae?E(t,a):e===ue&&R(t,a))}function B(e,t){try{t(function(t){T(e,t)},function(t){R(e,t)})}catch(t){R(e,t)}}function M(){return fe++}function L(e){e[oe]=fe++,e._state=void 0,e._result=void 0,e._subscribers=[]}function j(e,t){this._instanceConstructor=e,this.promise=new e(v),this.promise[oe]||L(this.promise),J(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?E(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&E(this.promise,this._result))):R(this.promise,C())}function C(){return new Error("Array Methods must be provided an Array")}function D(e){return new j(this,e).promise}function N(e){var t=this;return new t(J(e)?function(r,n){for(var o=e.length,i=0;i<o;i++)t.resolve(e[i]).then(r,n)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function K(e){var t=this,r=new t(v);return R(r,e),r}function Y(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function F(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function z(e){this[oe]=M(),this._result=this._state=void 0,this._subscribers=[],v!==e&&("function"!=typeof e&&Y(),this instanceof z?B(this,e):F())}function H(){var e=void 0;if("undefined"!=typeof n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=z}var q=void 0;q=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var J=q,V=0,G=void 0,X=void 0,W=function(e,t){re[V]=e,re[V+1]=t,V+=2,2===V&&(X?X(l):ne())},Z="undefined"!=typeof window?window:void 0,$=Z||{},Q=$.MutationObserver||$.WebKitMutationObserver,ee="undefined"==typeof self&&"undefined"!=typeof t&&"[object process]"==={}.toString.call(t),te="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,re=new Array(1e3),ne=void 0;ne=ee?u():Q?c():te?f():void 0===Z?d():h();var oe=Math.random().toString(36).substring(16),ie=void 0,ae=1,ue=2,se=new P,ce=new P,fe=0;return j.prototype._enumerate=function(){for(var e=this.length,t=this._input,r=0;this._state===ie&&r<e;r++)this._eachEntry(t[r],r)},j.prototype._eachEntry=function(e,t){var r=this._instanceConstructor,n=r.resolve;if(n===y){var o=b(e);if(o===p&&e._state!==ie)this._settledAt(e._state,t,e._result);else if("function"!=typeof o)this._remaining--,this._result[t]=e;else if(r===z){var i=new r(v);A(i,e,o),this._willSettleAt(i,t)}else this._willSettleAt(new r(function(t){return t(e)}),t)}else this._willSettleAt(n(e),t)},j.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===ie&&(this._remaining--,e===ue?R(n,r):this._result[t]=r),0===this._remaining&&E(n,this._result)},j.prototype._willSettleAt=function(e,t){var r=this;S(e,void 0,function(e){return r._settledAt(ae,t,e)},function(e){return r._settledAt(ue,t,e)})},z.all=D,z.race=N,z.resolve=y,z.reject=K,z._setScheduler=i,z._setAsap=a,z._asap=W,z.prototype={constructor:z,then:p,catch:function(e){return this.then(null,e)}},H(),z.polyfill=H,z.Promise=z,z})}).call(t,r(2),function(){return this}())},function(e,t){}])});